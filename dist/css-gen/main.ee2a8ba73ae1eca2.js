(self.webpackChunkCssGen=self.webpackChunkCssGen||[]).push([[179],{577:(Ds,ie,Le)=>{"use strict";function V(n){return"function"==typeof n}function K(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const W=K(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function O(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class N{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(V(r))try{r()}catch(s){e=s instanceof W?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{re(s)}catch(a){e=e??[],a instanceof W?e=[...e,...a.errors]:e.push(a)}}if(e)throw new W(e)}}add(e){var t;if(e&&e!==this)if(this.closed)re(e);else{if(e instanceof N){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&O(t,e)}remove(e){const{_finalizers:t}=this;t&&O(t,e),e instanceof N&&e._removeParent(this)}}N.EMPTY=(()=>{const n=new N;return n.closed=!0,n})();const ee=N.EMPTY;function te(n){return n instanceof N||n&&"closed"in n&&V(n.remove)&&V(n.add)&&V(n.unsubscribe)}function re(n){V(n)?n():n.unsubscribe()}const J={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},x={setTimeout(n,e,...t){const{delegate:r}=x;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=x;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function j(n){x.setTimeout(()=>{const{onUnhandledError:e}=J;if(!e)throw n;e(n)})}function k(){}const $=P("C",void 0,void 0);function P(n,e,t){return{kind:n,value:e,error:t}}let z=null;function L(n){if(J.useDeprecatedSynchronousErrorHandling){const e=!z;if(e&&(z={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=z;if(z=null,t)throw r}}else n()}class fe extends N{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,te(e)&&e.add(this)):this.destination=H}static create(e,t,r){return new Ke(e,t,r)}next(e){this.isStopped?D(function Q(n){return P("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?D(function B(n){return P("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?D($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ee=Function.prototype.bind;function ge(n,e){return Ee.call(n,e)}class Fe{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){G(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){G(r)}else G(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){G(t)}}}class Ke extends fe{constructor(e,t,r){let i;if(super(),V(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&J.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ge(e.next,s),error:e.error&&ge(e.error,s),complete:e.complete&&ge(e.complete,s)}):i=e}this.destination=new Fe(i)}}function G(n){J.useDeprecatedSynchronousErrorHandling?function ae(n){J.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=n)}(n):j(n)}function D(n,e){const{onStoppedNotification:t}=J;t&&x.setTimeout(()=>t(n,e))}const H={closed:!0,next:k,error:function ue(n){throw n},complete:k},Be="function"==typeof Symbol&&Symbol.observable||"@@observable";function T(n){return n}function ce(n){return 0===n.length?T:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ct(n){return n&&n instanceof fe||function _e(n){return n&&V(n.next)&&V(n.error)&&V(n.complete)}(n)&&te(n)}(t)?t:new Ke(t,r,i);return L(()=>{const{operator:a,source:c}=this;s.add(a?a.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=ve(r))((i,s)=>{const a=new Ke({next:c=>{try{t(c)}catch(u){s(u),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Be](){return this}pipe(...t){return ce(t)(this)}toPromise(t){return new(t=ve(t))((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return n.create=e=>new n(e),n})();function ve(n){var e;return null!==(e=n??J.Promise)&&void 0!==e?e:Promise}const it=K(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ne=(()=>{class n extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Vt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new it}next(t){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){L(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?ee:(this.currentObservers=null,s.push(t),new N(()=>{this.currentObservers=null,O(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Ie;return t.source=this,t}}return n.create=(e,t)=>new Vt(e,t),n})();class Vt extends Ne{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:ee}}function St(n){return V(n?.lift)}function He(n){return e=>{if(St(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(n,e,t,r,i){return new mt(n,e,t,r,i)}class mt extends fe{constructor(e,t,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Xe(n,e){return He((t,r)=>{let i=0;t.subscribe(xe(r,s=>{r.next(n.call(e,s,i++))}))})}function ke(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Yt(n){return this instanceof Yt?(this.v=n,this):new Yt(n)}function or(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function dt(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(c,u){!function i(s,a,c,u){Promise.resolve(u).then(function(p){s({value:p,done:c})},a)}(c,u,(a=n[s](a)).done,a.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const _a=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ns(n){return V(n?.then)}function ll(n){return V(n[Be])}function va(n){return Symbol.asyncIterator&&V(n?.[Symbol.asyncIterator])}function fi(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Hu=function cl(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ii(n){return V(n?.[Hu])}function zu(n){return function tn(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(w){r[w]&&(i[w]=function(I){return new Promise(function(R,q){s.push([w,I,R,q])>1||c(w,I)})})}function c(w,I){try{!function u(w){w.value instanceof Yt?Promise.resolve(w.value.v).then(p,g):_(s[0][2],w)}(r[w](I))}catch(R){_(s[0][3],R)}}function p(w){c("next",w)}function g(w){c("throw",w)}function _(w,I){w(I),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Yt(t.read());if(i)return yield Yt(void 0);yield yield Yt(r)}}finally{t.releaseLock()}})}function ya(n){return V(n?.getReader)}function kr(n){if(n instanceof Ie)return n;if(null!=n){if(ll(n))return function jh(n){return new Ie(e=>{const t=n[Be]();if(V(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(_a(n))return function Ts(n){return new Ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(ns(n))return function Is(n){return new Ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,j)})}(n);if(va(n))return ks(n);if(Ii(n))return function As(n){return new Ie(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(ya(n))return function Js(n){return ks(zu(n))}(n)}throw fi(n)}function ks(n){return new Ie(e=>{(function Hh(n,e){var t,r,i,s;return function Ve(n,e,t,r){return new(t||(t=Promise))(function(s,a){function c(g){try{p(r.next(g))}catch(_){a(_)}}function u(g){try{p(r.throw(g))}catch(_){a(_)}}function p(g){g.done?s(g.value):function i(s){return s instanceof t?s:new t(function(a){a(s)})}(g.value).then(c,u)}p((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=or(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ni(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function on(n,e,t=1/0){return V(e)?on((r,i)=>Xe((s,a)=>e(r,s,i,a))(kr(n(r,i))),t):("number"==typeof e&&(t=e),He((r,i)=>function To(n,e,t,r,i,s,a,c){const u=[];let p=0,g=0,_=!1;const w=()=>{_&&!u.length&&!p&&e.complete()},I=q=>p<r?R(q):u.push(q),R=q=>{s&&e.next(q),p++;let le=!1;kr(t(q,g++)).subscribe(xe(e,Te=>{i?.(Te),s?I(Te):e.next(Te)},()=>{le=!0},void 0,()=>{if(le)try{for(p--;u.length&&p<r;){const Te=u.shift();a?ni(e,a,()=>R(Te)):R(Te)}w()}catch(Te){e.error(Te)}}))};return n.subscribe(xe(e,I,()=>{_=!0,w()})),()=>{c?.()}}(r,i,n,t)))}function Vi(n=1/0){return on(T,n)}const xr=new Ie(n=>n.complete());function In(n){return n&&V(n.schedule)}function ut(n){return n[n.length-1]}function xs(n){return V(ut(n))?n.pop():void 0}function rs(n){return In(ut(n))?n.pop():void 0}function nn(n,e=0){return He((t,r)=>{t.subscribe(xe(r,i=>ni(r,n,()=>r.next(i),e),()=>ni(r,n,()=>r.complete(),e),i=>ni(r,n,()=>r.error(i),e)))})}function Ms(n,e=0){return He((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Re(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ie(t=>{ni(t,e,()=>{const r=n[Symbol.asyncIterator]();ni(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ct(n,e){return e?function kt(n,e){if(null!=n){if(ll(n))return function ba(n,e){return kr(n).pipe(Ms(e),nn(e))}(n,e);if(_a(n))return function C(n,e){return new Ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(ns(n))return function ul(n,e){return kr(n).pipe(Ms(e),nn(e))}(n,e);if(va(n))return Re(n,e);if(Ii(n))return function F(n,e){return new Ie(t=>{let r;return ni(t,e,()=>{r=n[Hu](),ni(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){return void t.error(a)}s?t.complete():t.next(i)},0,!0)}),()=>V(r?.return)&&r.return()})}(n,e);if(ya(n))return function Ge(n,e){return Re(zu(n),e)}(n,e)}throw fi(n)}(n,e):kr(n)}function an(...n){const e=rs(n),t=function ji(n,e){return"number"==typeof ut(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?kr(r[0]):Vi(t)(Ct(r,e)):xr}class at extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function gt(...n){return Ct(n,rs(n))}function Sc(n={}){const{connector:e=(()=>new Ne),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let a,c,u,p=0,g=!1,_=!1;const w=()=>{c?.unsubscribe(),c=void 0},I=()=>{w(),a=u=void 0,g=_=!1},R=()=>{const q=a;I(),q?.unsubscribe()};return He((q,le)=>{p++,!_&&!g&&w();const Te=u=u??e();le.add(()=>{p--,0===p&&!_&&!g&&(c=dl(R,i))}),Te.subscribe(le),!a&&p>0&&(a=new Ke({next:me=>Te.next(me),error:me=>{_=!0,w(),c=dl(I,t,me),Te.error(me)},complete:()=>{g=!0,w(),c=dl(I,r),Te.complete()}}),kr(q).subscribe(a))})(s)}}function dl(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Ke({next:()=>{r.unsubscribe(),n()}});return kr(e(...t)).subscribe(r)}function vr(n,e){return He((t,r)=>{let i=null,s=0,a=!1;const c=()=>a&&!i&&r.complete();t.subscribe(xe(r,u=>{i?.unsubscribe();let p=0;const g=s++;kr(n(u,g)).subscribe(i=xe(r,_=>r.next(e?e(u,_,g,p++):_),()=>{i=null,c()}))},()=>{a=!0,c()}))})}function zh(n,e=T){return n=n??Sm,He((t,r)=>{let i,s=!0;t.subscribe(xe(r,a=>{const c=e(a);(s||!n(i,c))&&(s=!1,i=c,r.next(a))}))})}function Sm(n,e){return n===e}function ln(n){for(let e in n)if(n[e]===ln)return e;throw Error("Could not find renamed property on target object.")}function hl(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function yr(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(yr).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Dc(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Dm=ln({__forward_ref__:ln});function An(n){return n.__forward_ref__=An,n.toString=function(){return yr(this())},n}function Mt(n){return $u(n)?n():n}function $u(n){return"function"==typeof n&&n.hasOwnProperty(Dm)&&n.__forward_ref__===An}function Wh(n){return n&&!!n.\u0275providers}const $h="https://g.co/ng/security#xss";class Se extends Error{constructor(e,t){super(function Gu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Pt(n){return"string"==typeof n?n:null==n?"":String(n)}function Gh(n,e){throw new Se(-201,!1)}function ki(n,e){null==n&&function wt(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Qe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Mn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Hi(n){return Yu(n,Xu)||Yu(n,Mm)}function Yu(n,e){return n.hasOwnProperty(e)?n[e]:null}function Zu(n){return n&&(n.hasOwnProperty(Yh)||n.hasOwnProperty(Rm))?n[Yh]:null}const Xu=ln({\u0275prov:ln}),Yh=ln({\u0275inj:ln}),Mm=ln({ngInjectableDef:ln}),Rm=ln({ngInjectorDef:ln});var Wt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Wt||{});let Zh;function pi(n){const e=Zh;return Zh=n,e}function Nm(n,e,t){const r=Hi(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Wt.Optional?null:void 0!==e?e:void Gh(yr(n))}const Rn=globalThis,Ac={},kc="__NG_DI_FLAG__",xc="ngTempTokenPath",Bw=/\n/gm,ef="__source";let pl;function $r(n){const e=pl;return pl=n,e}function Ju(n,e=Wt.Default){if(void 0===pl)throw new Se(-203,!1);return null===pl?Nm(n,void 0,e):pl.get(n,e&Wt.Optional?null:void 0,e)}function Ce(n,e=Wt.Default){return(function Om(){return Zh}()||Ju)(Mt(n),e)}function nt(n,e=Wt.Default){return Ce(n,Rs(e))}function Rs(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Rc(n){const e=[];for(let t=0;t<n.length;t++){const r=Mt(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Se(900,!1);let i,s=Wt.Default;for(let a=0;a<r.length;a++){const c=r[a],u=Fm(c);"number"==typeof u?-1===u?i=c.token:s|=u:i=c}e.push(Ce(i,s))}else e.push(Ce(r))}return e}function Oc(n,e){return n[kc]=e,n.prototype[kc]=e,n}function Fm(n){return n[kc]}function is(n){return{toString:n}.toString()}var eo=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(eo||{}),cr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(cr||{});const ss={},un=[],ed=ln({\u0275cmp:ln}),nf=ln({\u0275dir:ln}),rf=ln({\u0275pipe:ln}),sf=ln({\u0275mod:ln}),Os=ln({\u0275fac:ln}),to=ln({__NG_ELEMENT_ID__:ln}),af=ln({__NG_ENV_ID__:ln});function lf(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Nc(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],a=t[r++],c=t[r++];n.setAttribute(e,a,c,s)}else{const s=i,a=t[++r];cf(s)?n.setProperty(e,s,a):n.setAttribute(e,s,a),r++}}return r}function Pc(n){return 3===n||4===n||6===n}function cf(n){return 64===n.charCodeAt(0)}function ko(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||zi(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function zi(n,e,t,r,i){let s=0,a=n.length;if(-1===e)a=-1;else for(;s<n.length;){const c=n[s++];if("number"==typeof c){if(c===e){a=-1;break}if(c>e){a=s-1;break}}}for(;s<n.length;){const c=n[s];if("number"==typeof c)break;if(c===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==a&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const uf="ng-template";function df(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const a=n[r++];if(t&&"class"===s&&-1!==lf(a.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function td(n){return 4===n.type&&n.value!==uf}function Um(n,e,t){return e===(4!==n.type||t?n.value:uf)}function Vm(n,e,t){let r=4;const i=n.attrs||[],s=function Ca(n){for(let e=0;e<n.length;e++)if(Pc(n[e]))return e;return n.length}(i);let a=!1;for(let c=0;c<e.length;c++){const u=e[c];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Um(n,u,t)||""===u&&1===e.length){if(xi(r))return!1;a=!0}}else{const p=8&r?u:e[++c];if(8&r&&null!==n.attrs){if(!df(n.attrs,p,t)){if(xi(r))return!1;a=!0}continue}const _=Vw(8&r?"class":u,i,td(n),t);if(-1===_){if(xi(r))return!1;a=!0;continue}if(""!==p){let w;w=_>s?"":i[_+1].toLowerCase();const I=8&r?w:null;if(I&&-1!==lf(I,p,0)||2&r&&p!==w){if(xi(r))return!1;a=!0}}}}else{if(!a&&!xi(r)&&!xi(u))return!1;if(a&&xi(u))continue;a=!1,r=u|1&r}}return xi(r)||a}function xi(n){return 0==(1&n)}function Vw(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const a=e[i];if(a===n)return i;if(3===a||6===a)s=!0;else{if(1===a||2===a){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=s?1:2}return-1}return function gl(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function jm(n,e,t=!1){for(let r=0;r<e.length;r++)if(Vm(n,e[r],t))return!0;return!1}function nd(n,e){return n?":not("+e.trim()+")":e}function hf(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let a=n[t];if("string"==typeof a)if(2&r){const c=n[++t];i+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""!==i&&!xi(a)&&(e+=nd(s,i),i=""),r=a,s=s||!xi(r);t++}return""!==i&&(e+=nd(s,i)),e}function bn(n){return is(()=>{const e=pf(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===eo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||cr.Emulated,styles:n.styles||un,_:null,schemas:n.schemas||null,tView:null,id:""};id(t);const r=n.dependencies;return t.directiveDefs=vl(r,!1),t.pipeDefs=vl(r,!0),t.id=function sd(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function ri(n){return Jt(n)||Sr(n)}function xo(n){return null!==n}function _n(n){return is(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zm(n,e){if(null==n)return ss;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function xt(n){return is(()=>{const e=pf(n);return id(e),e})}function Mr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Jt(n){return n[ed]||null}function Sr(n){return n[nf]||null}function Rr(n){return n[rf]||null}function ii(n,e){const t=n[sf]||null;if(!t&&!0===e)throw new Error(`Type ${yr(n)} does not have '\u0275mod' property.`);return t}function pf(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ss,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zm(n.inputs,e),outputs:zm(n.outputs)}}function id(n){n.features?.forEach(e=>e(n))}function vl(n,e){if(!n)return null;const t=e?Rr:ri;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(xo)}const Yn=0,ot=1,Ft=2,Hn=3,os=4,Sa=5,Or=6,as=7,Ln=8,Mo=9,no=10,Nt=11,ro=12,gf=13,Wi=14,Fn=15,ls=16,Ns=17,si=18,bl=19,mf=20,io=21,so=22,cs=23,us=24,Gt=25,_f=1,Wm=2,Ps=7,Dr=9,fn=11;function Pr(n){return Array.isArray(n)&&"object"==typeof n[_f]}function oi(n){return Array.isArray(n)&&!0===n[_f]}function wl(n){return 0!=(4&n.flags)}function Da(n){return n.componentOffset>-1}function ad(n){return 1==(1&n.flags)}function ds(n){return!!n.template}function Lc(n){return 0!=(512&n[Ft])}function oo(n,e){return n.hasOwnProperty(Os)?n[Os]:null}let ur=null,Fc=!1;function gi(n){const e=ur;return ur=n,e}const lo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ef(n){if(!El(n)||n.dirty){if(!n.producerMustRecompute(n)&&!Df(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function cd(n){n.dirty=!0,function Km(n){if(void 0===n.liveConsumerNode)return;const e=Fc;Fc=!0;try{for(const t of n.liveConsumerNode)t.dirty||cd(t)}finally{Fc=e}}(n),n.consumerMarkedDirty?.(n)}function ud(n){return n&&(n.nextProducerIndex=0),gi(n)}function Sf(n,e){if(gi(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(El(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Aa(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Df(n){Sl(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Ef(t),r!==t.version))return!0}return!1}function Ym(n){if(Sl(n),El(n))for(let e=0;e<n.producerNode.length;e++)Aa(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Aa(n,e){if(function Xm(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Sl(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Aa(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Sl(i),i.producerIndexOfThis[r]=e}}function El(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Sl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Tf=null;const Mf=()=>{},fd=(()=>({...lo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:Mf}))();class Uc{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Mi(){return xa}function xa(n){return n.type.prototype.ngOnChanges&&(n.setInput=o_),s_}function s_(){const n=Tl(this),e=n?.current;if(e){const t=n.previous;if(t===ss)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function o_(n,e,t,r){const i=this.declaredInputs[t],s=Tl(n)||function Vc(n,e){return n[Rf]=e}(n,{previous:ss,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new Uc(u&&u.currentValue,e,c===ss),n[r]=e}Mi.ngInherit=!0;const Rf="__ngSimpleChanges__";function Tl(n){return n[Rf]||null}const hs=function(n,e,t){};function hn(n){for(;Array.isArray(n);)n=n[Yn];return n}function No(n,e){return hn(e[n])}function mi(n,e){return hn(e[n.index])}function c_(n,e){return n.data[e]}function Il(n,e){return n[e]}function Ri(n,e){const t=e[n];return Pr(t)?t:t[Yn]}function Po(n,e){return null==e?null:n[e]}function d_(n){n[Ns]=0}function h_(n){1024&n[Ft]||(n[Ft]|=1024,Pf(n,1))}function Nf(n){1024&n[Ft]&&(n[Ft]&=-1025,Pf(n,-1))}function Pf(n,e){let t=n[Hn];if(null===t)return;t[Sa]+=e;let r=t;for(t=t[Hn];null!==t&&(1===e&&1===r[Sa]||-1===e&&0===r[Sa]);)t[Sa]+=e,r=t,t=t[Hn]}const Rt={lFrame:E_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function p_(){return Rt.bindingsEnabled}function je(){return Rt.lFrame.lView}function Zt(){return Rt.lFrame.tView}function li(n){return Rt.lFrame.contextLView=n,n[Ln]}function ci(n){return Rt.lFrame.contextLView=null,n}function Hr(){let n=xl();for(;null!==n&&64===n.type;)n=n.parent;return n}function xl(){return Rt.lFrame.currentTNode}function Ls(n,e){const t=Rt.lFrame;t.currentTNode=n,t.isParent=e}function _d(){return Rt.lFrame.isParent}function Rl(){Rt.lFrame.isParent=!1}function Gr(){const n=Rt.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Lo(){return Rt.lFrame.bindingIndex++}function y_(n,e){const t=Rt.lFrame;t.bindingIndex=t.bindingRootIndex=n,zc(e)}function zc(n){Rt.lFrame.currentDirectiveIndex=n}function Nl(){return Rt.lFrame.currentQueryIndex}function Ff(n){Rt.lFrame.currentQueryIndex=n}function b_(n){const e=n[ot];return 2===e.type?e.declTNode:1===e.type?n[Or]:null}function w_(n,e,t){if(t&Wt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Wt.Host||(i=b_(s),null===i||(s=s[Wi],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Rt.lFrame=C_();return r.currentTNode=e,r.lView=n,!0}function Bf(n){const e=C_(),t=n[ot];Rt.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function C_(){const n=Rt.lFrame,e=null===n?null:n.child;return null===e?E_(n):e}function E_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Uf(){const n=Rt.lFrame;return Rt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const S_=Uf;function Vf(){const n=Uf();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qr(){return Rt.lFrame.selectedIndex}function Oa(n){Rt.lFrame.selectedIndex=n}function zn(){const n=Rt.lFrame;return c_(n.tView,n.selectedIndex)}let A_=!0;function Sn(){return A_}function Fo(n){A_=n}function Bo(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:p,ngOnDestroy:g}=s;a&&(n.contentHooks??=[]).push(-t,a),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),p&&((n.viewHooks??=[]).push(t,p),(n.viewCheckHooks??=[]).push(t,p)),null!=g&&(n.destroyHooks??=[]).push(t,g)}}function _i(n,e,t){zf(n,e,3,t)}function Na(n,e,t,r){(3&n[Ft])===t&&zf(n,e,t,r)}function Wc(n,e){let t=n[Ft];(3&t)===e&&(t&=8191,t+=1,n[Ft]=t)}function zf(n,e,t,r){const s=r??-1,a=e.length-1;let c=0;for(let u=void 0!==r?65535&n[Ns]:0;u<a;u++)if("number"==typeof e[u+1]){if(c=e[u],null!=r&&c>=r)break}else e[u]<0&&(n[Ns]+=65536),(c<s||-1==s)&&(k_(n,t,e,u),n[Ns]=(4294901760&n[Ns])+u+2),u++}function Wf(n,e){hs(4,n,e);const t=gi(null);try{e.call(n)}finally{gi(t),hs(5,n,e)}}function k_(n,e,t,r){const i=t[r]<0,s=t[r+1],c=n[i?-t[r]:t[r]];i?n[Ft]>>13<n[Ns]>>16&&(3&n[Ft])===e&&(n[Ft]+=8192,Wf(c,s)):Wf(c,s)}const Uo=-1;class Ll{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Fl(n){return n!==Uo}function Gc(n){return 32767&n}function qc(n,e){let t=function er(n){return n>>16}(n),r=e;for(;t>0;)r=r[Wi],t--;return r}let $f=!0;function bd(n){const e=$f;return $f=n,e}const o=255,l=5;let h=0;const d={};function m(n,e){const t=y(n,e);if(-1!==t)return t;const r=e[ot];r.firstCreatePass&&(n.injectorIndex=e.length,v(r.data,n),v(e,null),v(r.blueprint,null));const i=b(n,e),s=n.injectorIndex;if(Fl(i)){const a=Gc(i),c=qc(i,e),u=c[ot].data;for(let p=0;p<8;p++)e[s+p]=c[a+p]|u[a+p]}return e[s+8]=i,s}function v(n,e){n.push(0,0,0,0,0,0,0,0,e)}function y(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function b(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Kr(i),null===r)return Uo;if(t++,i=i[Wi],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Uo}function S(n,e,t){!function f(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(to)&&(r=t[to]),null==r&&(r=t[to]=h++);const i=r&o;e.data[n+(i>>l)]|=1<<i}(n,e,t)}function X(n,e,t){if(t&Wt.Optional||void 0!==n)return n;Gh()}function de(n,e,t,r){if(t&Wt.Optional&&void 0===r&&(r=null),!(t&(Wt.Self|Wt.Host))){const i=n[Mo],s=pi(void 0);try{return i?i.get(e,r,t&Wt.Optional):Nm(e,r,t&Wt.Optional)}finally{pi(s)}}return X(r,0,t)}function oe(n,e,t,r=Wt.Default,i){if(null!==n){if(2048&e[Ft]&&!(r&Wt.Self)){const a=function vi(n,e,t,r,i){let s=n,a=e;for(;null!==s&&null!==a&&2048&a[Ft]&&!(512&a[Ft]);){const c=De(s,a,t,r|Wt.Self,d);if(c!==d)return c;let u=s.parent;if(!u){const p=a[mf];if(p){const g=p.get(t,d,r);if(g!==d)return g}u=Kr(a),a=a[Wi]}s=u}return i}(n,e,t,r,d);if(a!==d)return a}const s=De(n,e,t,r,d);if(s!==d)return s}return de(e,t,r,i)}function De(n,e,t,r,i){const s=function st(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(to)?n[to]:void 0;return"number"==typeof e?e>=0?e&o:Dn:e}(t);if("function"==typeof s){if(!w_(e,n,r))return r&Wt.Host?X(i,0,r):de(e,t,r,i);try{let a;if(a=s(r),null!=a||r&Wt.Optional)return a;Gh()}finally{S_()}}else if("number"==typeof s){let a=null,c=y(n,e),u=Uo,p=r&Wt.Host?e[Fn][Or]:null;for((-1===c||r&Wt.SkipSelf)&&(u=-1===c?b(n,e):e[c+8],u!==Uo&&lt(r,!1)?(a=e[ot],c=Gc(u),e=qc(u,e)):c=-1);-1!==c;){const g=e[ot];if(Je(s,c,g.data)){const _=Pe(c,e,t,a,r,p);if(_!==d)return _}u=e[c+8],u!==Uo&&lt(r,e[ot].data[c+8]===p)&&Je(s,c,e)?(a=g,c=Gc(u),e=qc(u,e)):c=-1}}return i}function Pe(n,e,t,r,i,s){const a=e[ot],c=a.data[n+8],g=We(c,a,t,null==r?Da(c)&&$f:r!=a&&0!=(3&c.type),i&Wt.Host&&s===c);return null!==g?Ye(e,a,g,c):d}function We(n,e,t,r,i){const s=n.providerIndexes,a=e.data,c=1048575&s,u=n.directiveStart,g=s>>20,w=i?c+g:n.directiveEnd;for(let I=r?c:c+g;I<w;I++){const R=a[I];if(I<u&&t===R||I>=u&&R.type===t)return I}if(i){const I=a[u];if(I&&ds(I)&&I.type===t)return u}return null}function Ye(n,e,t,r){let i=n[t];const s=e.data;if(function rC(n){return n instanceof Ll}(i)){const a=i;a.resolving&&function Tc(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Se(-200,`Circular dependency in DI detected for ${n}${t}`)}(function cn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Pt(n)}(s[t]));const c=bd(a.canSeeViewProviders);a.resolving=!0;const p=a.injectImpl?pi(a.injectImpl):null;w_(n,r,Wt.Default);try{i=n[t]=a.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Hf(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const a=xa(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==p&&pi(p),bd(c),a.resolving=!1,S_()}}return i}function Je(n,e,t){return!!(t[e+(n>>l)]&1<<n)}function lt(n,e){return!(n&Wt.Self||n&Wt.Host&&e)}class Et{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return oe(this._tNode,this._lView,e,Rs(r),t)}}function Dn(){return new Et(Hr(),je())}function en(n){return is(()=>{const e=n.prototype.constructor,t=e[Os]||On(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Os]||On(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function On(n){return $u(n)?()=>{const e=On(Mt(n));return e&&e()}:oo(n)}function Kr(n){const e=n[ot],t=e.type;return 2===t?e.declTNode:1===t?n[Or]:null}const Xn="__parameters__";function wr(n,e,t){return is(()=>{const r=function Un(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return c.annotation=a,c;function c(u,p,g){const _=u.hasOwnProperty(Xn)?u[Xn]:Object.defineProperty(u,Xn,{value:[]})[Xn];for(;_.length<=g;)_.push(null);return(_[g]=_[g]||[]).push(a),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function wd(n,e){n.forEach(t=>Array.isArray(t)?wd(t,e):e(t))}function Lk(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function O_(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function fs(n,e,t){let r=Cd(n,e);return r>=0?n[1|r]=t:(r=~r,function yH(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function sC(n,e){const t=Cd(n,e);if(t>=0)return n[1|t]}function Cd(n,e){return function Fk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),a=n[s<<t];if(e===a)return s<<t;a>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const P_=Oc(wr("Optional"),8),L_=Oc(wr("SkipSelf"),4);function j_(n){return 128==(128&n.flags)}var Vl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Vl||{});const VH=/^>|^->|<!--|-->|--!>|<!-$/g,jH=/(<|>)/g,HH="\u200b$1\u200b";const uC=new Map;let zH=0;const hC="__ngContext__";function yi(n,e){Pr(e)?(n[hC]=e[bl],function $H(n){uC.set(n[bl],n)}(e)):n[hC]=e}let fC;function pC(n,e){return fC(n,e)}function Xf(n){const e=n[Hn];return oi(e)?e[Hn]:e}function rx(n){return sx(n[ro])}function ix(n){return sx(n[os])}function sx(n){for(;null!==n&&!oi(n);)n=n[os];return n}function Dd(n,e,t,r,i){if(null!=r){let s,a=!1;oi(r)?s=r:Pr(r)&&(a=!0,r=r[Yn]);const c=hn(r);0===n&&null!==t?null==i?cx(e,t,c):Yc(e,t,c,i||null,!0):1===n&&null!==t?Yc(e,t,c,i||null,!0):2===n?function K_(n,e,t){const r=G_(n,e);r&&function uz(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,c,a):3===n&&e.destroyNode(c),null!=s&&function fz(n,e,t,r,i){const s=t[Ps];s!==hn(t)&&Dd(e,n,r,s,i);for(let c=fn;c<t.length;c++){const u=t[c];Jf(u[ot],u,n,e,r,s)}}(e,n,s,t,i)}}function gC(n,e){return n.createComment(function Yk(n){return n.replace(VH,e=>e.replace(jH,HH))}(e))}function W_(n,e,t){return n.createElement(e,t)}function ax(n,e){const t=n[Dr],r=t.indexOf(e);Nf(e),t.splice(r,1)}function $_(n,e){if(n.length<=fn)return;const t=fn+e,r=n[t];if(r){const i=r[ls];null!==i&&i!==n&&ax(i,r),e>0&&(n[t-1][os]=r[os]);const s=O_(n,fn+e);!function nz(n,e){Jf(n,e,e[Nt],2,null,null),e[Yn]=null,e[Or]=null}(r[ot],r);const a=s[si];null!==a&&a.detachView(s[ot]),r[Hn]=null,r[os]=null,r[Ft]&=-129}return r}function mC(n,e){if(!(256&e[Ft])){const t=e[Nt];e[cs]&&Ym(e[cs]),e[us]&&Ym(e[us]),t.destroyNode&&Jf(n,e,t,3,null,null),function sz(n){let e=n[ro];if(!e)return _C(n[ot],n);for(;e;){let t=null;if(Pr(e))t=e[ro];else{const r=e[fn];r&&(t=r)}if(!t){for(;e&&!e[os]&&e!==n;)Pr(e)&&_C(e[ot],e),e=e[Hn];null===e&&(e=n),Pr(e)&&_C(e[ot],e),t=e&&e[os]}e=t}}(e)}}function _C(n,e){if(!(256&e[Ft])){e[Ft]&=-129,e[Ft]|=256,function cz(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ll)){const s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const c=i[s[a]],u=s[a+1];hs(4,c,u);try{u.call(c)}finally{hs(5,c,u)}}else{hs(4,i,s);try{s.call(i)}finally{hs(5,i,s)}}}}}(n,e),function lz(n,e){const t=n.cleanup,r=e[as];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[as]=null);const i=e[io];if(null!==i){e[io]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[ot].type&&e[Nt].destroy();const t=e[ls];if(null!==t&&oi(e[Hn])){t!==e[Hn]&&ax(t,e);const r=e[si];null!==r&&r.detachView(n)}!function GH(n){uC.delete(n[bl])}(e)}}function vC(n,e,t){return function lx(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Yn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===cr.None||s===cr.Emulated)return null}return mi(r,t)}}(n,e.parent,t)}function Yc(n,e,t,r,i){n.insertBefore(e,t,r,i)}function cx(n,e,t){n.appendChild(e,t)}function ux(n,e,t,r,i){null!==r?Yc(n,e,t,r,i):cx(n,e,t)}function G_(n,e){return n.parentNode(e)}let yC,Y_,EC,Z_,fx=function hx(n,e,t){return 40&n.type?mi(n,t):null};function q_(n,e,t,r){const i=vC(n,r,e),s=e[Nt],c=function dx(n,e,t){return fx(n,e,t)}(r.parent||e[Or],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)ux(s,i,t[u],c,!1);else ux(s,i,t,c,!1);void 0!==yC&&yC(s,r,e,t,i)}function Qf(n,e){if(null!==e){const t=e.type;if(3&t)return mi(e,n);if(4&t)return bC(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Qf(n,r);{const i=n[e.index];return oi(i)?bC(-1,i):hn(i)}}if(32&t)return pC(e,n)()||hn(n[e.index]);{const r=gx(n,e);return null!==r?Array.isArray(r)?r[0]:Qf(Xf(n[Fn]),r):Qf(n,e.next)}}return null}function gx(n,e){return null!==e?n[Fn][Or].projection[e.projection]:null}function bC(n,e){const t=fn+n+1;if(t<e.length){const r=e[t],i=r[ot].firstChild;if(null!==i)return Qf(r,i)}return e[Ps]}function wC(n,e,t,r,i,s,a){for(;null!=t;){const c=r[t.index],u=t.type;if(a&&0===e&&(c&&yi(hn(c),r),t.flags|=2),32!=(32&t.flags))if(8&u)wC(n,e,t.child,r,i,s,!1),Dd(e,n,i,c,s);else if(32&u){const p=pC(t,r);let g;for(;g=p();)Dd(e,n,i,g,s);Dd(e,n,i,c,s)}else 16&u?_x(n,e,r,t,i,s):Dd(e,n,i,c,s);t=a?t.projectionNext:t.next}}function Jf(n,e,t,r,i,s){wC(t,r,n.firstChild,e,i,s,!1)}function _x(n,e,t,r,i,s){const a=t[Fn],u=a[Or].projection[r.projection];if(Array.isArray(u))for(let p=0;p<u.length;p++)Dd(e,n,i,u[p],s);else{let p=u;const g=a[Hn];j_(r)&&(p.flags|=128),wC(n,e,p,g,i,s,!0)}}function vx(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function yx(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Nc(n,e,r),null!==i&&vx(n,e,i),null!==s&&function gz(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function Td(n){return function CC(){if(void 0===Y_&&(Y_=null,Rn.trustedTypes))try{Y_=Rn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Y_}()?.createHTML(n)||n}function Cx(n){return function SC(){if(void 0===Z_&&(Z_=null,Rn.trustedTypes))try{Z_=Rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Z_}()?.createScriptURL(n)||n}class Zc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$h})`}}class bz extends Zc{getTypeName(){return"HTML"}}class wz extends Zc{getTypeName(){return"Style"}}class Cz extends Zc{getTypeName(){return"Script"}}class Ez extends Zc{getTypeName(){return"URL"}}class Sz extends Zc{getTypeName(){return"ResourceURL"}}function ps(n){return n instanceof Zc?n.changingThisBreaksApplicationSecurity:n}function Ho(n,e){const t=function Dz(n){return n instanceof Zc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${$h})`)}return t===e}class Mz{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Td(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Rz{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Td(e),t}}const Nz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function X_(n){return(n=String(n)).match(Nz)?n:"unsafe:"+n}function Pa(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function ep(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Sx=Pa("area,br,col,hr,img,wbr"),Dx=Pa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tx=Pa("rp,rt"),DC=ep(Sx,ep(Dx,Pa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ep(Tx,Pa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ep(Tx,Dx)),TC=Pa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ix=ep(TC,Pa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pz=Pa("script,style,template");class Lz{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!DC.hasOwnProperty(t))return this.sanitizedSomething=!0,!Pz.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),a=s.name,c=a.toLowerCase();if(!Ix.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=s.value;TC[c]&&(u=X_(u)),this.buf.push(" ",a,'="',Ax(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();DC.hasOwnProperty(t)&&!Sx.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Ax(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Fz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bz=/([^\#-~ |!])/g;function Ax(n){return n.replace(/&/g,"&amp;").replace(Fz,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Bz,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Q_;function kx(n,e){let t=null;try{Q_=Q_||function Ex(n){const e=new Rz(n);return function Oz(){try{return!!(new window.DOMParser).parseFromString(Td(""),"text/html")}catch{return!1}}()?new Mz(e):e}(n);let r=e?String(e):"";t=Q_.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=Q_.getInertBodyElement(r)}while(r!==s);return Td((new Lz).sanitizeChildren(IC(t)||t))}finally{if(t){const r=IC(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function IC(n){return"content"in n&&function Uz(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Vs=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Vs||{});function xx(n){const e=tp();return e?e.sanitize(Vs.URL,n)||"":Ho(n,"URL")?ps(n):X_(Pt(n))}function J_(n){const e=tp();if(e)return Cx(e.sanitize(Vs.RESOURCE_URL,n)||"");if(Ho(n,"ResourceURL"))return Cx(ps(n));throw new Se(904,!1)}function tp(){const n=je();return n&&n[no].sanitizer}class et{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Qe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const np=new et("ENVIRONMENT_INITIALIZER"),Rx=new et("INJECTOR",-1),Ox=new et("INJECTOR_DEF_TYPES");class AC{get(e,t=Ac){if(t===Ac){const r=new Error(`NullInjectorError: No provider for ${yr(e)}!`);throw r.name="NullInjectorError",r}return t}}function Gz(...n){return{\u0275providers:Nx(0,n),\u0275fromNgModule:!0}}function Nx(n,...e){const t=[],r=new Set;let i;const s=a=>{t.push(a)};return wd(e,a=>{const c=a;ev(c,s,[],r)&&(i||=[],i.push(c))}),void 0!==i&&Px(i,s),t}function Px(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];xC(i,s=>{e(s,r)})}}function ev(n,e,t,r){if(!(n=Mt(n)))return!1;let i=null,s=Zu(n);const a=!s&&Jt(n);if(s||a){if(a&&!a.standalone)return!1;i=n}else{const u=n.ngModule;if(s=Zu(u),!s)return!1;i=u}const c=r.has(i);if(a){if(c)return!1;if(r.add(i),a.dependencies){const u="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const p of u)ev(p,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let p;r.add(i);try{wd(s.imports,g=>{ev(g,e,t,r)&&(p||=[],p.push(g))})}finally{}void 0!==p&&Px(p,e)}if(!c){const p=oo(i)||(()=>new i);e({provide:i,useFactory:p,deps:un},i),e({provide:Ox,useValue:i,multi:!0},i),e({provide:np,useValue:()=>Ce(i),multi:!0},i)}const u=s.providers;if(null!=u&&!c){const p=n;xC(u,g=>{e(g,p)})}}}return i!==n&&void 0!==n.providers}function xC(n,e){for(let t of n)Wh(t)&&(t=t.\u0275providers),Array.isArray(t)?xC(t,e):e(t)}const qz=ln({provide:String,useValue:ln});function MC(n){return null!==n&&"object"==typeof n&&qz in n}function Xc(n){return"function"==typeof n}const RC=new et("Set Injector scope."),tv={},Yz={};let OC;function nv(){return void 0===OC&&(OC=new AC),OC}class gs{}class rv extends gs{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,PC(e,a=>this.processProvider(a)),this.records.set(Rx,Ad(void 0,this)),i.has("environment")&&this.records.set(gs,Ad(void 0,this));const s=this.records.get(RC);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ox.multi,un,Wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=$r(this),r=pi(void 0);try{return e()}finally{$r(t),pi(r)}}get(e,t=Ac,r=Wt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(af))return e[af](this);r=Rs(r);const s=$r(this),a=pi(void 0);try{if(!(r&Wt.SkipSelf)){let u=this.records.get(e);if(void 0===u){const p=function e3(n){return"function"==typeof n||"object"==typeof n&&n instanceof et}(e)&&Hi(e);u=p&&this.injectableDefInScope(p)?Ad(NC(e),tv):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&Wt.Self?nv():this.parent).get(e,t=r&Wt.Optional&&t===Ac?null:t)}catch(c){if("NullInjectorError"===c.name){if((c[xc]=c[xc]||[]).unshift(yr(e)),s)throw c;return function Uw(n,e,t,r){const i=n[xc];throw e[ef]&&i.unshift(e[ef]),n.message=function Bm(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=yr(e);if(Array.isArray(e))i=e.map(yr).join(" -> ");else if("object"==typeof e){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let c=e[a];s.push(a+":"+("string"==typeof c?JSON.stringify(c):yr(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Bw,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[xc]=null,n}(c,e,"R3InjectorError",this.source)}throw c}finally{pi(a),$r(s)}}resolveInjectorInitializers(){const e=$r(this),t=pi(void 0);try{const i=this.get(np.multi,un,Wt.Self);for(const s of i)s()}finally{$r(e),pi(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(yr(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(e){let t=Xc(e=Mt(e))?e:Mt(e&&e.provide);const r=function Xz(n){return MC(n)?Ad(void 0,n.useValue):Ad(Bx(n),tv)}(e);if(Xc(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ad(void 0,tv,!0),i.factory=()=>Rc(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===tv&&(t.value=Yz,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Jz(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Mt(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function NC(n){const e=Hi(n),t=null!==e?e.factory:oo(n);if(null!==t)return t;if(n instanceof et)throw new Se(204,!1);if(n instanceof Function)return function Zz(n){const e=n.length;if(e>0)throw function Kf(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new Se(204,!1);const t=function fl(n){return n&&(n[Xu]||n[Mm])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Se(204,!1)}function Bx(n,e,t){let r;if(Xc(n)){const i=Mt(n);return oo(i)||NC(i)}if(MC(n))r=()=>Mt(n.useValue);else if(function Fx(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Rc(n.deps||[]));else if(function Lx(n){return!(!n||!n.useExisting)}(n))r=()=>Ce(Mt(n.useExisting));else{const i=Mt(n&&(n.useClass||n.provide));if(!function Qz(n){return!!n.deps}(n))return oo(i)||NC(i);r=()=>new i(...Rc(n.deps))}return r}function Ad(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function PC(n,e){for(const t of n)Array.isArray(t)?PC(t,e):t&&Wh(t)?PC(t.\u0275providers,e):e(t)}const iv=new et("AppId",{providedIn:"root",factory:()=>t3}),t3="ng",Ux=new et("Platform Initializer"),jl=new et("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rp=new et("AnimationModuleType"),LC=new et("CSP nonce",{providedIn:"root",factory:()=>function Id(){if(void 0!==EC)return EC;if(typeof document<"u")return document;throw new Se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Vx=(n,e,t)=>null;function WC(n,e,t=!1){return Vx(n,e,t)}class h3{}class zx{}class p3{resolveComponentFactory(e){throw function f3(n){const e=Error(`No component factory found for ${yr(n)}.`);return e.ngComponent=n,e}(e)}}let Md=(()=>{class n{static#e=this.NULL=new p3}return n})();function g3(){return Rd(Hr(),je())}function Rd(n,e){return new zr(mi(n,e))}let zr=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=g3}return n})();function m3(n){return n instanceof zr?n.nativeElement:n}class op{}let La=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function _3(){const n=je(),t=Ri(Hr().index,n);return(Pr(t)?t:n)[Nt]}()}return n})(),v3=(()=>{class n{static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:()=>null})}return n})();class Qc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const y3=new Qc("16.2.7"),qC={};function Kx(n,e=null,t=null,r){const i=Yx(n,e,t,r);return i.resolveInjectorInitializers(),i}function Yx(n,e=null,t=null,r,i=new Set){const s=[t||un,Gz(n)];return r=r||("object"==typeof n?void 0:yr(n)),new rv(s,e||nv(),r||null,i)}let Fr=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Ac;static#t=this.NULL=new AC;static create(t,r){if(Array.isArray(t))return Kx({name:""},r,t,"");{const i=t.name??"";return Kx({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=Qe({token:n,providedIn:"any",factory:()=>Ce(Rx)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function YC(n){return n.ngOriginalError}class Fa{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&YC(e);for(;t&&YC(t);)t=YC(t);return t||null}}function XC(n){return e=>{setTimeout(n,void 0,e)}}const rn=class T3 extends Ne{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),a=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),a=u.complete?.bind(u)}this.__isAsync&&(s=XC(s),i&&(i=XC(i)),a&&(a=XC(a)));const c=super.subscribe({next:i,error:s,complete:a});return e instanceof N&&e.add(c),c}};function Xx(...n){}class zt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rn(!1),this.onMicrotaskEmpty=new rn(!1),this.onStable=new rn(!1),this.onError=new rn(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function I3(){const n="function"==typeof Rn.requestAnimationFrame;let e=Rn[n?"requestAnimationFrame":"setTimeout"],t=Rn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function x3(n){const e=()=>{!function k3(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Rn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,JC(n),n.isCheckStableRunning=!0,QC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),JC(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,a,c)=>{if(function R3(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(c))return t.invokeTask(i,s,a,c);try{return Qx(n),t.invokeTask(i,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),Jx(n)}},onInvoke:(t,r,i,s,a,c,u)=>{try{return Qx(n),t.invoke(i,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),Jx(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,JC(n),QC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zt.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(zt.isInAngularZone())throw new Se(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,A3,Xx,Xx);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const A3={};function QC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function JC(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Qx(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Jx(n){n._nesting--,QC(n)}class M3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rn,this.onMicrotaskEmpty=new rn,this.onStable=new rn,this.onError=new rn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const eM=new et("",{providedIn:"root",factory:tM});function tM(){const n=nt(zt);let e=!0;return an(new Ie(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Ie(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{zt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const a=n.onUnstable.subscribe(()=>{zt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),a.unsubscribe()}}).pipe(Sc()))}function nM(n){return n.ownerDocument.defaultView}function Ba(n){return n instanceof Function?n():n}let e0=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:()=>new n})}return n})();function ap(n){for(;n;){n[Ft]|=64;const e=Xf(n);if(Lc(n)&&!e)return n;n=e}return null}const aM=new et("",{providedIn:"root",factory:()=>!1});let dv=null;function dM(n,e){return n[e]??pM()}function hM(n,e){const t=pM();t.producerNode?.length&&(n[e]=dv,t.lView=n,dv=fM())}const j3={...lo,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ap(n.lView)},lView:null};function fM(){return Object.create(j3)}function pM(){return dv??=fM(),dv}const Ut={};function Dt(n){gM(Zt(),je(),qr()+n,!1)}function gM(n,e,t,r){if(!r)if(3==(3&e[Ft])){const s=n.preOrderCheckHooks;null!==s&&_i(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Na(e,s,0,t)}Oa(t)}function be(n,e=Wt.Default){const t=je();return null===t?Ce(n,e):oe(Hr(),t,Mt(n),e)}function t0(){throw new Error("invalid")}function hv(n,e,t,r,i,s,a,c,u,p,g){const _=e.blueprint.slice();return _[Yn]=i,_[Ft]=140|r,(null!==p||n&&2048&n[Ft])&&(_[Ft]|=2048),d_(_),_[Hn]=_[Wi]=n,_[Ln]=t,_[no]=a||n&&n[no],_[Nt]=c||n&&n[Nt],_[Mo]=u||n&&n[Mo]||null,_[Or]=s,_[bl]=function WH(){return zH++}(),_[so]=g,_[mf]=p,_[Fn]=2==e.type?n[Fn]:_,_}function Pd(n,e,t,r,i){let s=n.data[e];if(null===s)s=function n0(n,e,t,r,i){const s=xl(),a=_d(),u=n.data[e]=function Y3(n,e,t,r,i,s){let a=e?e.injectorIndex:-1,c=0;return function Al(){return null!==Rt.skipHydrationRootTNode}()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(a?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function eC(){return Rt.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const a=function Ml(){const n=Rt.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Ls(s,!0),s}function lp(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function mM(n,e,t,r,i){const s=dM(e,cs),a=qr(),c=2&r;try{Oa(-1),c&&e.length>Gt&&gM(n,e,Gt,!1),hs(c?2:0,i);const p=c?s:null,g=ud(p);try{null!==p&&(p.dirty=!1),t(r,i)}finally{Sf(p,g)}}finally{c&&null===e[cs]&&hM(e,cs),Oa(a),hs(c?3:1,i)}}function r0(n,e,t){if(wl(e)){const r=gi(null);try{const s=e.directiveEnd;for(let a=e.directiveStart;a<s;a++){const c=n.data[a];c.contentQueries&&c.contentQueries(1,t[a],a)}}finally{gi(r)}}}function s0(n,e,t){p_()&&(function nW(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Da(t)&&function cW(n,e,t){const r=mi(e,n),i=_M(t);let a=16;t.signals?a=4096:t.onPush&&(a=64);const c=fv(n,hv(n,i,null,a,r,e,null,n[no].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=c}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||m(t,e),yi(r,e);const a=t.initialInputs;for(let c=i;c<s;c++){const u=n.data[c],p=Ye(e,n,c,t);yi(p,e),null!==a&&uW(0,c-i,p,u,0,a),ds(u)&&(Ri(t.index,e)[Ln]=Ye(e,n,c,t))}}(n,e,t,mi(t,e)),64==(64&t.flags)&&CM(n,e,t))}function o0(n,e,t=mi){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const a=r[s+1],c=-1===a?t(e,n):n[a];n[i++]=c}}}function _M(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=a0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function a0(n,e,t,r,i,s,a,c,u,p,g){const _=Gt+r,w=_+i,I=function z3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ut);return t}(_,w),R="function"==typeof p?p():p;return I[ot]={type:n,blueprint:I,template:t,queries:null,viewQuery:c,declTNode:e,data:I.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:w,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:R,incompleteFirstPass:!1,ssrId:g}}let vM=n=>null;function yM(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?bM(t,e,i,s):r.hasOwnProperty(i)&&bM(t,e,r[i],s)}return t}function bM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ms(n,e,t,r,i,s,a,c){const u=mi(e,t);let g,p=e.inputs;!c&&null!=p&&(g=p[r])?(h0(n,t,g,r,i),Da(e)&&function Q3(n,e){const t=Ri(e,n);16&t[Ft]||(t[Ft]|=64)}(t,e.index)):3&e.type&&(r=function X3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=a?a(i,e.value||"",r):i,s.setProperty(u,r,i))}function l0(n,e,t,r){if(p_()){const i=null===r?null:{"":-1},s=function iW(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const a=t[s];if(jm(e,a.selectors,!1))if(r||(r=[]),ds(a))if(null!==a.findHostDirectiveDefs){const c=[];i=i||new Map,a.findHostDirectiveDefs(a,c,i),r.unshift(...c,a),c0(n,e,c.length)}else r.unshift(a),c0(n,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return null===r?null:[r,i]}(n,t);let a,c;null===s?a=c=null:[a,c]=s,null!==a&&wM(n,e,t,a,i,c),i&&function sW(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new Se(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=ko(t.mergedAttrs,t.attrs)}function wM(n,e,t,r,i,s){for(let p=0;p<r.length;p++)S(m(t,e),n,r[p].type);!function aW(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let p=0;p<r.length;p++){const g=r[p];g.providersResolver&&g.providersResolver(g)}let a=!1,c=!1,u=lp(n,e,r.length,null);for(let p=0;p<r.length;p++){const g=r[p];t.mergedAttrs=ko(t.mergedAttrs,g.hostAttrs),lW(n,t,e,u,g),oW(u,g,i),null!==g.contentQueries&&(t.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(t.flags|=64);const _=g.type.prototype;!a&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),a=!0),!c&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),u++}!function Z3(n,e,t){const i=e.directiveEnd,s=n.data,a=e.attrs,c=[];let u=null,p=null;for(let g=e.directiveStart;g<i;g++){const _=s[g],w=t?t.get(_):null,R=w?w.outputs:null;u=yM(_.inputs,g,u,w?w.inputs:null),p=yM(_.outputs,g,p,R);const q=null===u||null===a||td(e)?null:dW(u,g,a);c.push(q)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=p}(n,t,s)}function CM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,a=function tC(){return Rt.lFrame.currentDirectiveIndex}();try{Oa(s);for(let c=r;c<i;c++){const u=n.data[c],p=e[c];zc(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&rW(u,p)}}finally{Oa(-1),zc(a)}}function rW(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function c0(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function oW(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ds(e)&&(t[""]=n)}}function lW(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=oo(i.type)),a=new Ll(s,ds(i),be);n.blueprint[r]=a,t[r]=a,function eW(n,e,t,r,i){const s=i.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~e.index;(function tW(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=c&&a.push(c),a.push(t,r,s)}}(n,e,r,lp(n,t,i.hostVars,Ut),i)}function zo(n,e,t,r,i,s){const a=mi(n,e);!function u0(n,e,t,r,i,s,a){if(null==s)n.removeAttribute(e,i,t);else{const c=null==a?Pt(s):a(s,r||"",i);n.setAttribute(e,i,c,t)}}(e[Nt],a,s,n.value,t,r,i)}function uW(n,e,t,r,i,s){const a=s[e];if(null!==a)for(let c=0;c<a.length;)EM(r,t,a[c++],a[c++],a[c++])}function EM(n,e,t,r,i){const s=gi(null);try{const a=n.inputTransforms;null!==a&&a.hasOwnProperty(r)&&(i=a[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{gi(s)}}function dW(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const a=n[s];for(let c=0;c<a.length;c+=2)if(a[c]===e){r.push(s,a[c+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function SM(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function DM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];Ff(t[r]),a.contentQueries(2,e[s],s)}}}function fv(n,e){return n[ro]?n[gf][os]=e:n[ro]=e,n[gf]=e,e}function d0(n,e,t){Ff(0);const r=gi(null);try{e(n,t)}finally{gi(r)}}function TM(n){return n[as]||(n[as]=[])}function IM(n){return n.cleanup||(n.cleanup=[])}function kM(n,e){const t=n[Mo],r=t?t.get(Fa,null):null;r&&r.handleError(e)}function h0(n,e,t,r,i){for(let s=0;s<t.length;){const a=t[s++],c=t[s++];EM(n.data[a],e[a],r,c,i)}}function hW(n,e){const t=Ri(e,n),r=t[ot];!function fW(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Yn];null!==i&&null===t[so]&&(t[so]=WC(i,t[Mo])),f0(r,t,t[Ln])}function f0(n,e,t){Bf(e);try{const r=n.viewQuery;null!==r&&d0(1,r,t);const i=n.template;null!==i&&mM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&DM(n,e),n.staticViewQueries&&d0(2,n.viewQuery,t);const s=n.components;null!==s&&function pW(n,e){for(let t=0;t<e.length;t++)hW(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ft]&=-5,Vf()}}let xM=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,a=function Dl(n,e,t){const r=Object.create(fd);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=a=>{r.cleanupFn=a};return r.ref={notify:()=>cd(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Df(r))return;r.hasRun=!0;const a=ud(r);try{r.cleanupFn(),r.cleanupFn=Mf,r.fn(i)}finally{Sf(r,a)}},cleanup:()=>r.cleanupFn()},r.ref}(t,p=>{this.all.has(p)&&this.queue.set(p,s)},i);let c;this.all.add(a),a.notify();const u=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:()=>new n})}return n})();function pv(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let a=0;a<e.length;a++){const c=e[a];"number"==typeof c?s=c:1==s?i=Dc(i,c):2==s&&(r=Dc(r,c+": "+e[++a]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function cp(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(hn(s)),oi(s)&&MM(s,r);const a=t.type;if(8&a)cp(n,e,t.child,r);else if(32&a){const c=pC(t,e);let u;for(;u=c();)r.push(u)}else if(16&a){const c=gx(e,t);if(Array.isArray(c))r.push(...c);else{const u=Xf(e[Fn]);cp(u[ot],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function MM(n,e){for(let t=fn;t<n.length;t++){const r=n[t],i=r[ot].firstChild;null!==i&&cp(r[ot],r,i,e)}n[Ps]!==n[Yn]&&e.push(n[Ps])}function gv(n,e,t,r=!0){const i=e[no],s=i.rendererFactory,a=i.afterRenderEventManager;s.begin?.(),a?.begin();try{RM(n,e,n.template,t)}catch(u){throw r&&kM(e,u),u}finally{s.end?.(),i.effectManager?.flush(),a?.end()}}function RM(n,e,t,r){const i=e[Ft];if(256!=(256&i)){e[no].effectManager?.flush(),Bf(e);try{d_(e),function v_(n){return Rt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&mM(n,e,t,2,r);const a=3==(3&i);if(a){const p=n.preOrderCheckHooks;null!==p&&_i(e,p,null)}else{const p=n.preOrderHooks;null!==p&&Na(e,p,0,null),Wc(e,0)}if(function _W(n){for(let e=rx(n);null!==e;e=ix(e)){if(!e[Wm])continue;const t=e[Dr];for(let r=0;r<t.length;r++){h_(t[r])}}}(e),OM(e,2),null!==n.contentQueries&&DM(n,e),a){const p=n.contentCheckHooks;null!==p&&_i(e,p)}else{const p=n.contentHooks;null!==p&&Na(e,p,1),Wc(e,1)}!function H3(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=dM(e,us);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Oa(~s);else{const a=s,c=t[++i],u=t[++i];y_(c,a),r.dirty=!1;const p=ud(r);try{u(2,e[a])}finally{Sf(r,p)}}}}finally{null===e[us]&&hM(e,us),Oa(-1)}}(n,e);const c=n.components;null!==c&&PM(e,c,0);const u=n.viewQuery;if(null!==u&&d0(2,u,r),a){const p=n.viewCheckHooks;null!==p&&_i(e,p)}else{const p=n.viewHooks;null!==p&&Na(e,p,2),Wc(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ft]&=-73,Nf(e)}finally{Vf()}}}function OM(n,e){for(let t=rx(n);null!==t;t=ix(t))for(let r=fn;r<t.length;r++)NM(t[r],e)}function vW(n,e,t){NM(Ri(e,n),t)}function NM(n,e){if(!function u_(n){return 128==(128&n[Ft])}(n))return;const t=n[ot],r=n[Ft];if(80&r&&0===e||1024&r||2===e)RM(t,n,t.template,n[Ln]);else if(n[Sa]>0){OM(n,1);const i=t.components;null!==i&&PM(n,i,1)}}function PM(n,e,t){for(let r=0;r<e.length;r++)vW(n,e[r],t)}class up{get rootNodes(){const e=this._lView,t=e[ot];return cp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(e){this._lView[Ln]=e}get destroyed(){return 256==(256&this._lView[Ft])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Hn];if(oi(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&($_(e,r),O_(t,r))}this._attachedToViewContainer=!1}mC(this._lView[ot],this._lView)}onDestroy(e){!function f_(n,e){if(256==(256&n[Ft]))throw new Se(911,!1);null===n[io]&&(n[io]=[]),n[io].push(e)}(this._lView,e)}markForCheck(){ap(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ft]&=-129}reattach(){this._lView[Ft]|=128}detectChanges(){gv(this._lView[ot],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function iz(n,e){Jf(n,e,e[Nt],2,null,null)}(this._lView[ot],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=e}}class yW extends up{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;gv(e[ot],e,e[Ln],!1)}checkNoChanges(){}get context(){return null}}class LM extends Md{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Jt(e);return new dp(t,this.ngModule)}}function FM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class wW{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Rs(r);const i=this.injector.get(e,qC,r);return i!==qC||t===qC?i:this.parentInjector.get(e,t,r)}}class dp extends zx{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=FM(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return FM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Hm(n){return n.map(hf).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof gs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new wW(e,s):e,c=a.get(op,null);if(null===c)throw new Se(407,!1);const _={rendererFactory:c,sanitizer:a.get(v3,null),effectManager:a.get(xM,null),afterRenderEventManager:a.get(e0,null)},w=c.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",R=r?function W3(n,e,t,r){const s=r.get(aM,!1)||t===cr.ShadowDom,a=n.selectRootElement(e,s);return function $3(n){vM(n)}(a),a}(w,r,this.componentDef.encapsulation,a):W_(w,I,function bW(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(I)),Te=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let me=null;null!==R&&(me=WC(R,a,!0));const ze=a0(0,null,null,1,0,null,null,null,null,null,null),Ze=hv(null,ze,null,Te,null,null,_,w,a,null,me);let Tt,$t;Bf(Ze);try{const gn=this.componentDef;let Jn,Ar=null;gn.findHostDirectiveDefs?(Jn=[],Ar=new Map,gn.findHostDirectiveDefs(gn,Jn,Ar),Jn.push(gn)):Jn=[gn];const Es=function EW(n,e){const t=n[ot],r=Gt;return n[r]=e,Pd(t,r,2,"#host",null)}(Ze,R),Aw=function SW(n,e,t,r,i,s,a){const c=i[ot];!function DW(n,e,t,r){for(const i of n)e.mergedAttrs=ko(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(pv(e,e.mergedAttrs,!0),null!==t&&yx(r,t,e))}(r,n,e,a);let u=null;null!==e&&(u=WC(e,i[Mo]));const p=s.rendererFactory.createRenderer(e,t);let g=16;t.signals?g=4096:t.onPush&&(g=64);const _=hv(i,_M(t),null,g,i[n.index],n,s,p,null,null,u);return c.firstCreatePass&&c0(c,n,r.length-1),fv(i,_),i[n.index]=_}(Es,R,gn,Jn,Ze,_,w);$t=c_(ze,Gt),R&&function IW(n,e,t,r){if(r)Nc(n,t,["ng-version",y3.full]);else{const{attrs:i,classes:s}=function ff(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!xi(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Nc(n,t,i),s&&s.length>0&&vx(n,t,s.join(" "))}}(w,gn,R,r),void 0!==t&&function AW(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}($t,this.ngContentSelectors,t),Tt=function TW(n,e,t,r,i,s){const a=Hr(),c=i[ot],u=mi(a,i);wM(c,i,a,t,null,r);for(let g=0;g<t.length;g++)yi(Ye(i,c,a.directiveStart+g,a),i);CM(c,i,a),u&&yi(u,i);const p=Ye(i,c,a.directiveStart+a.componentOffset,a);if(n[Ln]=i[Ln]=p,null!==s)for(const g of s)g(p,e);return r0(c,a,n),p}(Aw,gn,Jn,Ar,Ze,[kW]),f0(ze,Ze,null)}finally{Vf()}return new CW(this.componentType,Tt,Rd($t,Ze),Ze,$t)}}class CW extends h3{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new yW(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;h0(s[ot],s,i,e,t),this.previousInputValues.set(e,t),ap(Ri(this._tNode.index,s))}}get injector(){return new Et(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function kW(){const n=Hr();Bo(je()[ot],n)}function pn(n){let e=function BM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ds(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Se(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const a=n;a.inputs=mv(n.inputs),a.inputTransforms=mv(n.inputTransforms),a.declaredInputs=mv(n.declaredInputs),a.outputs=mv(n.outputs);const c=i.hostBindings;c&&OW(n,c);const u=i.viewQuery,p=i.contentQueries;if(u&&MW(n,u),p&&RW(n,p),hl(n.inputs,i.inputs),hl(n.declaredInputs,i.declaredInputs),hl(n.outputs,i.outputs),null!==i.inputTransforms&&(null===a.inputTransforms&&(a.inputTransforms={}),hl(a.inputTransforms,i.inputTransforms)),ds(i)&&i.data.animation){const g=n.data;g.animation=(g.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let a=0;a<s.length;a++){const c=s[a];c&&c.ngInherit&&c(n),c===pn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function xW(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ko(i.hostAttrs,t=ko(t,i.hostAttrs))}}(r)}function mv(n){return n===ss?{}:n===un?[]:n}function MW(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function RW(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function OW(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function HM(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function _v(n){return!!p0(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function p0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Wo(n,e,t){return n[e]=t}function bi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Hs(n,e,t,r){const i=je();return bi(i,Lo(),e)&&(Zt(),zo(zn(),i,n,e,t,r)),Hs}function Qn(n,e,t,r,i,s,a,c){const u=je(),p=Zt(),g=n+Gt,_=p.firstCreatePass?function s5(n,e,t,r,i,s,a,c,u){const p=e.consts,g=Pd(e,n,4,a||null,Po(p,c));l0(e,t,g,Po(p,u)),Bo(e,g);const _=g.tView=a0(2,g,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,p,null);return null!==e.queries&&(e.queries.template(e,g),_.queries=e.queries.embeddedTView(g)),g}(g,p,u,e,t,r,i,s,a):p.data[g];Ls(_,!1);const w=tR(p,u,_,n);Sn()&&q_(p,u,w,_),yi(w,u),fv(u,u[g]=SM(w,u,w,_)),ad(_)&&s0(p,u,_),null!=a&&o0(u,_,c)}let tR=function nR(n,e,t,r){return Fo(!0),e[Nt].createComment("")};function zs(n){return Il(function Jw(){return Rt.lFrame.contextLView}(),Gt+n)}function Bt(n,e,t){const r=je();return bi(r,Lo(),e)&&ms(Zt(),zn(),r,n,e,r[Nt],t,!1),Bt}function b0(n,e,t,r,i){const a=i?"class":"style";h0(n,t,e.inputs[a],a,r)}function qe(n,e,t,r){const i=je(),s=Zt(),a=Gt+n,c=i[Nt],u=s.firstCreatePass?function c5(n,e,t,r,i,s){const a=e.consts,u=Pd(e,n,2,r,Po(a,i));return l0(e,t,u,Po(a,s)),null!==u.attrs&&pv(u,u.attrs,!1),null!==u.mergedAttrs&&pv(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,s,i,e,t,r):s.data[a],p=rR(s,i,u,c,e,n);i[a]=p;const g=ad(u);return Ls(u,!0),yx(c,p,u),32!=(32&u.flags)&&Sn()&&q_(s,i,p,u),0===function gd(){return Rt.lFrame.elementDepthCount}()&&yi(p,i),function Hc(){Rt.lFrame.elementDepthCount++}(),g&&(s0(s,i,u),r0(s,u,i)),null!==r&&o0(i,u),qe}function $e(){let n=Hr();_d()?Rl():(n=n.parent,Ls(n,!1));const e=n;(function kl(n){return Rt.skipHydrationRootTNode===n})(e)&&function md(){Rt.skipHydrationRootTNode=null}(),function uo(){Rt.lFrame.elementDepthCount--}();const t=Zt();return t.firstCreatePass&&(Bo(t,n),wl(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function M_(n){return 0!=(8&n.flags)}(e)&&b0(t,e,je(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function iC(n){return 0!=(16&n.flags)}(e)&&b0(t,e,je(),e.stylesWithoutHost,!1),$e}function vn(n,e,t,r){return qe(n,e,t,r),$e(),vn}let rR=(n,e,t,r,i,s)=>(Fo(!0),W_(r,i,function I_(){return Rt.lFrame.currentNamespace}()));function $o(n,e,t){const r=je(),i=Zt(),s=n+Gt,a=i.firstCreatePass?function h5(n,e,t,r,i){const s=e.consts,a=Po(s,r),c=Pd(e,n,8,"ng-container",a);return null!==a&&pv(c,a,!0),l0(e,t,c,Po(s,i)),null!==e.queries&&e.queries.elementStart(e,c),c}(s,i,r,e,t):i.data[s];Ls(a,!0);const c=sR(i,r,a,n);return r[s]=c,Sn()&&q_(i,r,c,a),yi(c,r),ad(a)&&(s0(i,r,a),r0(i,a,r)),null!=t&&o0(r,a),$o}function Go(){let n=Hr();const e=Zt();return _d()?Rl():(n=n.parent,Ls(n,!1)),e.firstCreatePass&&(Bo(e,n),wl(n)&&e.queries.elementEnd(n)),Go}let sR=(n,e,t,r)=>(Fo(!0),gC(e[Nt],""));function Ws(){return je()}function mp(n){return!!n&&"function"==typeof n.then}function oR(n){return!!n&&"function"==typeof n.subscribe}function Xt(n,e,t,r){const i=je(),s=Zt(),a=Hr();return function lR(n,e,t,r,i,s,a){const c=ad(r),p=n.firstCreatePass&&IM(n),g=e[Ln],_=TM(e);let w=!0;if(3&r.type||a){const q=mi(r,e),le=a?a(q):q,Te=_.length,me=a?Ze=>a(hn(Ze[r.index])):r.index;let ze=null;if(!a&&c&&(ze=function g5(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const a=i[s];if(a===t&&i[s+1]===r){const c=e[as],u=i[s+2];return c.length>u?c[u]:null}"string"==typeof a&&(s+=2)}return null}(n,e,i,r.index)),null!==ze)(ze.__ngLastListenerFn__||ze).__ngNextListenerFn__=s,ze.__ngLastListenerFn__=s,w=!1;else{s=uR(r,e,g,s,!1);const Ze=t.listen(le,i,s);_.push(s,Ze),p&&p.push(i,me,Te,Te+1)}}else s=uR(r,e,g,s,!1);const I=r.outputs;let R;if(w&&null!==I&&(R=I[i])){const q=R.length;if(q)for(let le=0;le<q;le+=2){const Tt=e[R[le]][R[le+1]].subscribe(s),$t=_.length;_.push(s,Tt),p&&p.push(i,r.index,$t,-($t+1))}}}(s,i,i[Nt],a,n,e,r),Xt}function cR(n,e,t,r){try{return hs(6,e,t),!1!==t(r)}catch(i){return kM(n,i),!1}finally{hs(7,e,t)}}function uR(n,e,t,r,i){return function s(a){if(a===Function)return r;ap(n.componentOffset>-1?Ri(n.index,e):e);let u=cR(e,t,r,a),p=s.__ngNextListenerFn__;for(;p;)u=cR(e,t,p,a)&&u,p=p.__ngNextListenerFn__;return i&&!1===u&&a.preventDefault(),u}}function Va(n=1){return function D_(n){return(Rt.lFrame.contextLView=function jf(n,e){for(;n>0;)e=e[Wi],n--;return e}(n,Rt.lFrame.contextLView))[Ln]}(n)}function Cv(n,e){return n<<17|e<<2}function Hl(n){return n>>17&32767}function C0(n){return 2|n}function eu(n){return(131068&n)>>2}function E0(n,e){return-131069&n|e<<2}function S0(n){return 1|n}function bR(n,e,t,r,i){const s=n[t+1],a=null===e;let c=r?Hl(s):eu(s),u=!1;for(;0!==c&&(!1===u||a);){const g=n[c+1];S5(n[c],e)&&(u=!0,n[c+1]=r?S0(g):C0(g)),c=r?Hl(g):eu(g)}u&&(n[t+1]=r?C0(s):S0(s))}function S5(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Cd(n,e)>=0}function _p(n,e){return function fo(n,e,t,r){const i=je(),s=Zt(),a=function Bs(n){const e=Rt.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function kR(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[qr()],a=function AR(n,e){return e>=n.expandoStartIndex}(n,t);(function OR(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!a&&(e=!1),e=function O5(n,e,t,r){const i=function Ra(n){const e=Rt.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=vp(t=D0(null,n,e,t,r),e.attrs,r),s=null);else{const a=e.directiveStylingLast;if(-1===a||n[a]!==i)if(t=D0(i,n,e,t,r),null===s){let u=function N5(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==eu(r))return n[Hl(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=D0(null,n,e,u[1],r),u=vp(u,e.attrs,r),function P5(n,e,t,r){n[Hl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function L5(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=vp(r,n[s].hostAttrs,t);return vp(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function C5(n,e,t,r,i,s){let a=s?e.classBindings:e.styleBindings,c=Hl(a),u=eu(a);n[r]=t;let g,p=!1;if(Array.isArray(t)?(g=t[1],(null===g||Cd(t,g)>0)&&(p=!0)):g=t,i)if(0!==u){const w=Hl(n[c+1]);n[r+1]=Cv(w,c),0!==w&&(n[w+1]=E0(n[w+1],r)),n[c+1]=function b5(n,e){return 131071&n|e<<17}(n[c+1],r)}else n[r+1]=Cv(c,0),0!==c&&(n[c+1]=E0(n[c+1],r)),c=r;else n[r+1]=Cv(u,0),0===c?c=r:n[u+1]=E0(n[u+1],r),u=r;p&&(n[r+1]=C0(n[r+1])),bR(n,g,r,!0),bR(n,g,r,!1),function E5(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Cd(s,e)>=0&&(t[r+1]=S0(t[r+1]))}(e,g,n,r,s),a=Cv(c,u),s?e.classBindings=a:e.styleBindings=a}(i,s,e,t,a,r)}}(s,n,a,r),e!==Ut&&bi(i,a,e)&&function MR(n,e,t,r,i,s,a,c){if(!(3&e.type))return;const u=n.data,p=u[c+1],g=function w5(n){return 1==(1&n)}(p)?RR(u,e,t,i,eu(p),a):void 0;Ev(g)||(Ev(s)||function y5(n){return 2==(2&n)}(p)&&(s=RR(u,null,t,i,c,a)),function pz(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Vl.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Vl.Important),n.setStyle(t,r,i,s))}}(r,a,No(qr(),t),i,s))}(s,s.data[qr()],i,i[Nt],n,i[a+1]=function V5(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=yr(ps(n)))),n}(e,t),r,a)}(n,e,null,!0),_p}function D0(n,e,t,r,i){let s=null;const a=t.directiveEnd;let c=t.directiveStylingLast;for(-1===c?c=t.directiveStart:c++;c<a&&(s=e[c],r=vp(r,s.hostAttrs,i),s!==n);)c++;return null!==n&&(t.directiveStylingLast=c),r}function vp(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),fs(n,a,!!t||e[++s]))}return void 0===n?null:n}function RR(n,e,t,r,i,s){const a=null===e;let c;for(;i>0;){const u=n[i],p=Array.isArray(u),g=p?u[1]:u,_=null===g;let w=t[i+1];w===Ut&&(w=_?un:void 0);let I=_?sC(w,r):g===r?w:void 0;if(p&&!Ev(I)&&(I=sC(u,r)),Ev(I)&&(c=I,a))return c;const R=n[i+1];i=a?Hl(R):eu(R)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(c=sC(u,r))}return c}function Ev(n){return void 0!==n}function ht(n,e=""){const t=je(),r=Zt(),i=n+Gt,s=r.firstCreatePass?Pd(r,i,1,e,null):r.data[i],a=NR(r,t,s,e,n);t[i]=a,Sn()&&q_(r,t,a,s),Ls(s,!1)}let NR=(n,e,t,r,i)=>(Fo(!0),function z_(n,e){return n.createText(e)}(e[Nt],r));function Yo(n){return zl("",n,""),Yo}function zl(n,e,t){const r=je(),i=function Fd(n,e,t,r){return bi(n,Lo(),t)?e+Pt(t)+r:Ut}(r,n,e,t);return i!==Ut&&function Ua(n,e,t){const r=No(e,n);!function ox(n,e,t){n.setValue(e,t)}(n[Nt],r,t)}(r,qr(),i),zl}function T0(n,e,t){const r=je();return bi(r,Lo(),e)&&ms(Zt(),zn(),r,n,e,r[Nt],t,!0),T0}const qd="en-US";let t1=qd;function k0(n,e,t,r,i){if(n=Mt(n),Array.isArray(n))for(let s=0;s<n.length;s++)k0(n[s],e,t,r,i);else{const s=Zt(),a=je(),c=Hr();let u=Xc(n)?n:Mt(n.provide);const p=Bx(n),g=1048575&c.providerIndexes,_=c.directiveStart,w=c.providerIndexes>>20;if(Xc(n)||!n.multi){const I=new Ll(p,i,be),R=M0(u,e,i?g:g+w,_);-1===R?(S(m(c,a),s,u),x0(s,n,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(I),a.push(I)):(t[R]=I,a[R]=I)}else{const I=M0(u,e,g+w,_),R=M0(u,e,g,g+w),le=R>=0&&t[R];if(i&&!le||!i&&!(I>=0&&t[I])){S(m(c,a),s,u);const Te=function a8(n,e,t,r,i){const s=new Ll(n,t,be);return s.multi=[],s.index=e,s.componentProviders=0,I1(s,i,r&&!t),s}(i?o8:s8,t.length,i,r,p);!i&&le&&(t[R].providerFactory=Te),x0(s,n,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(Te),a.push(Te)}else x0(s,n,I>-1?I:R,I1(t[i?R:I],p,!i&&r));!i&&r&&le&&t[R].componentProviders++}}}function x0(n,e,t,r){const i=Xc(e),s=function Kz(n){return!!n.useClass}(e);if(i||s){const u=(s?Mt(e.useClass):e).prototype.ngOnDestroy;if(u){const p=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const g=p.indexOf(t);-1===g?p.push(t,[r,u]):p[g+1].push(r,u)}else p.push(t,u)}}}function I1(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function M0(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function s8(n,e,t,r){return R0(this.multi,[])}function o8(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=Ye(t,t[ot],this.providerFactory.index,r);s=c.slice(0,a),R0(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],R0(i,s);return s}function R0(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function nr(n,e=[]){return t=>{t.providersResolver=(r,i)=>function i8(n,e,t){const r=Zt();if(r.firstCreatePass){const i=ds(n);k0(t,r.data,r.blueprint,i,!0),k0(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class nu{}class A1{}class O0 extends nu{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new LM(this);const i=ii(e);this._bootstrapComponents=Ba(i.bootstrap),this._r3Injector=Yx(e,t,[{provide:nu,useValue:this},{provide:Md,useValue:this.componentFactoryResolver},...r],yr(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class N0 extends A1{constructor(e){super(),this.moduleType=e}create(e){return new O0(this.moduleType,e,[])}}class k1 extends nu{constructor(e){super(),this.componentFactoryResolver=new LM(this),this.instance=null;const t=new rv([...e.providers,{provide:nu,useValue:this},{provide:Md,useValue:this.componentFactoryResolver}],e.parent||nv(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function P0(n,e,t=null){return new k1({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let u8=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Nx(0,t.type),i=r.length>0?P0([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Qe({token:n,providedIn:"environment",factory:()=>new n(Ce(gs))})}return n})();function x1(n){n.getStandaloneInjector=e=>e.get(u8).getOrCreateStandaloneInjector(n)}function go(n,e,t){const r=Gr()+n,i=je();return i[r]===Ut?Wo(i,r,t?e.call(t):e()):function hp(n,e){return n[e]}(i,r)}function F1(n,e,t,r,i,s){const a=e+t;return bi(n,a,i)?Wo(n,a+1,s?r.call(s,i):r(i)):function Sp(n,e){const t=n[e];return t===Ut?void 0:t}(n,a+1)}function Dp(n,e){const t=Zt();let r;const i=n+Gt;t.firstCreatePass?(r=function A8(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=oo(r.type)),c=pi(be);try{const u=bd(!1),p=s();return bd(u),function l5(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,je(),i,p),p}finally{pi(c)}}function Tp(n,e,t){const r=n+Gt,i=je(),s=Il(i,r);return function Ip(n,e){return n[ot].data[e].pure}(i,r)?F1(i,Gr(),e,s.transform,t,s):s.transform(t)}function O8(){return this._results[Symbol.iterator]()}class F0{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new rn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=F0.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=O8)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Us(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function _H(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function P8(n,e,t,r=!0){const i=e[ot];if(function oz(n,e,t,r){const i=fn+r,s=t.length;r>0&&(t[i-1][os]=e),r<s-fn?(e[os]=t[i],Lk(t,fn+r,e)):(t.push(e),e[os]=null),e[Hn]=t;const a=e[ls];null!==a&&t!==a&&function az(n,e){const t=n[Dr];e[Fn]!==e[Hn][Hn][Fn]&&(n[Wm]=!0),null===t?n[Dr]=[e]:t.push(e)}(a,e);const c=e[si];null!==c&&c.insertView(n),e[Ft]|=128}(i,e,n,t),r){const s=bC(t,n),a=e[Nt],c=G_(a,n[Ps]);null!==c&&function rz(n,e,t,r,i,s){r[Yn]=i,r[Or]=e,Jf(n,r,t,1,i,s)}(i,n[Or],a,e,c,s)}}let Zo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=B8}return n})();const L8=Zo,F8=class extends L8{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function N8(n,e,t,r){const i=e.tView,c=hv(n,i,t,4096&n[Ft]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);c[ls]=n[e.index];const p=n[si];return null!==p&&(c[si]=p.createEmbeddedView(i)),f0(i,c,t),c}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new up(i)}};function B8(){return Av(Hr(),je())}function Av(n,e){return 4&n.type?new F8(e,n,Rd(n,e)):null}let $s=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=W8}return n})();function W8(){return K1(Hr(),je())}const $8=$s,G1=class extends $8{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Rd(this._hostTNode,this._hostLView)}get injector(){return new Et(this._hostTNode,this._hostLView)}get parentInjector(){const e=b(this._hostTNode,this._hostLView);if(Fl(e)){const t=qc(e,this._hostLView),r=Gc(e);return new Et(t[ot].data[r+8],t)}return new Et(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=q1(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-fn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const c=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(c,i,false),c}createComponent(e,t,r,i,s){const a=e&&!function qf(n){return"function"==typeof n}(e);let c;if(a)c=t;else{const q=t||{};c=q.index,r=q.injector,i=q.projectableNodes,s=q.environmentInjector||q.ngModuleRef}const u=a?e:new dp(Jt(e)),p=r||this.parentInjector;if(!s&&null==u.ngModule){const le=(a?p:this.parentInjector).get(gs,null);le&&(s=le)}Jt(u.componentType??{});const I=u.create(p,i,null,s);return this.insertImpl(I.hostView,c,false),I}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Xw(n){return oi(n[Hn])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const p=i[Hn],g=new G1(p,p[Or],p[Hn]);g.detach(g.indexOf(e))}}const a=this._adjustIndex(t),c=this._lContainer;return P8(c,i,a,!r),e.attachToViewContainerRef(),Lk(B0(c),a,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=q1(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=$_(this._lContainer,t);r&&(O_(B0(this._lContainer),t),mC(r[ot],r))}detach(e){const t=this._adjustIndex(e,-1),r=$_(this._lContainer,t);return r&&null!=O_(B0(this._lContainer),t)?new up(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function q1(n){return n[8]}function B0(n){return n[8]||(n[8]=[])}function K1(n,e){let t;const r=e[n.index];return oi(r)?t=r:(t=SM(r,e,null,n),e[n.index]=t,fv(e,t)),Y1(t,e,n,r),new G1(t,n,e)}let Y1=function Z1(n,e,t,r){if(n[Ps])return;let i;i=8&t.type?hn(r):function G8(n,e){const t=n[Nt],r=t.createComment(""),i=mi(e,n);return Yc(t,G_(t,i),r,function dz(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Ps]=i};class U0{constructor(e){this.queryList=e,this.matches=null}clone(){return new U0(this.queryList)}setDirty(){this.queryList.setDirty()}}class V0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const a=t.getByIndex(s);i.push(this.queries[a.indexInDeclarationView].clone())}return new V0(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==nO(e,t).matches&&this.queries[t].setDirty()}}class X1{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class j0{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new j0(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class H0{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new H0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Y8(t,s)),this.matchTNodeWithReadOption(e,t,We(t,e,s,!1,!1))}else r===Zo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,We(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===zr||i===$s||i===Zo&&4&t.type)this.addMatch(t.index,-2);else{const s=We(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Y8(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function X8(n,e,t,r){return-1===t?function Z8(n,e){return 11&n.type?Rd(n,e):4&n.type?Av(n,e):null}(e,n):-2===t?function Q8(n,e,t){return t===zr?Rd(e,n):t===Zo?Av(e,n):t===$s?K1(e,n):void 0}(n,e,r):Ye(n,n[ot],t,e)}function Q1(n,e,t,r){const i=e[si].queries[r];if(null===i.matches){const s=n.data,a=t.matches,c=[];for(let u=0;u<a.length;u+=2){const p=a[u];c.push(p<0?null:X8(e,s[p],a[u+1],t.metadata.read))}i.matches=c}return i.matches}function z0(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const a=Q1(n,e,i,t);for(let c=0;c<s.length;c+=2){const u=s[c];if(u>0)r.push(a[c/2]);else{const p=s[c+1],g=e[-u];for(let _=fn;_<g.length;_++){const w=g[_];w[ls]===w[Hn]&&z0(w[ot],w,p,r)}if(null!==g[Dr]){const _=g[Dr];for(let w=0;w<_.length;w++){const I=_[w];z0(I[ot],I,p,r)}}}}}return r}function xv(n){const e=je(),t=Zt(),r=Nl();Ff(r+1);const i=nO(t,r);if(n.dirty&&function ai(n){return 4==(4&n[Ft])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?z0(t,e,r,[]):Q1(t,e,i,r);n.reset(s,m3),n.notifyOnChanges()}return!0}return!1}function W0(n,e,t){const r=Zt();r.firstCreatePass&&(tO(r,new X1(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),eO(r,je(),e)}function Mv(){return function J8(n,e){return n[si].queries[e].queryList}(je(),Nl())}function eO(n,e,t){const r=new F0(4==(4&t));(function K3(n,e,t,r){const i=TM(e);i.push(t),n.firstCreatePass&&IM(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[si]&&(e[si]=new V0),e[si].queries.push(new U0(r))}function tO(n,e,t){null===n.queries&&(n.queries=new j0),n.queries.track(new H0(e,t))}function nO(n,e){return n.queries.getByIndex(e)}const Z0=new et("Application Initializer");let X0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=nt(Z0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(mp(s))t.push(s);else if(oR(s)){const a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});t.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yO=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Xo=new et("LocaleId",{providedIn:"root",factory:()=>nt(Xo,Wt.Optional|Wt.SkipSelf)||function C$(){return typeof $localize<"u"&&$localize.locale||qd}()});let Ov=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new at(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class D${constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let bO=(()=>{class n{compileModuleSync(t){return new N0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Ba(ii(t).declarations).reduce((a,c)=>{const u=Jt(c);return u&&a.push(new dp(u)),a},[]);return new D$(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const SO=new et(""),Pv=new et("");let nE,eE=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nE||(function $$(n){nE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(zt),Ce(tE),Ce(Pv))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),tE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return nE?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Wl=null;const DO=new et("AllowMultipleToken"),rE=new et("PlatformDestroyListeners"),iE=new et("appBootstrapListener");class IO{constructor(e,t){this.name=e,this.token=t}}function kO(n,e,t=[]){const r=`Platform: ${e}`,i=new et(r);return(s=[])=>{let a=sE();if(!a||a.injector.get(DO,!1)){const c=[...t,...s,{provide:i,useValue:!0}];n?n(c):function K$(n){if(Wl&&!Wl.get(DO,!1))throw new Se(400,!1);(function TO(){!function t_(n){Tf=n}(()=>{throw new Se(600,!1)})})(),Wl=n;const e=n.get(MO);(function AO(n){n.get(Ux,null)?.forEach(t=>t())})(n)}(function xO(n=[],e){return Fr.create({name:e,providers:[{provide:RC,useValue:"platform"},{provide:rE,useValue:new Set([()=>Wl=null])},...n]})}(c,r))}return function Z$(n){const e=sE();if(!e)throw new Se(401,!1);return e}()}}function sE(){return Wl?.get(MO)??null}let MO=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function X$(n="zone.js",e){return"noop"===n?new M3:"zone.js"===n?new zt(e):n}(r?.ngZone,function RO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function c8(n,e,t){return new O0(n,e,t)}(t.moduleType,this.injector,function FO(n){return[{provide:zt,useFactory:n},{provide:np,multi:!0,useFactory:()=>{const e=nt(J$,{optional:!0});return()=>e.initialize()}},{provide:LO,useFactory:Q$},{provide:eM,useFactory:tM}]}(()=>i)),a=s.injector.get(Fa,null);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{Lv(this._modules,s),c.unsubscribe()})}),function OO(n,e,t){try{const r=t();return mp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(a,i,()=>{const c=s.injector.get(X0);return c.runInitializers(),c.donePromise.then(()=>(function n1(n){ki(n,"Expected localeId to be defined"),"string"==typeof n&&(t1=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Xo,qd)||qd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=NO({},r);return function G$(n,e,t){const r=new N0(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get($l);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Se(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(rE,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(Fr))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function NO(n,e){return Array.isArray(e)?e.reduce(NO,n):{...n,...e}}let $l=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nt(LO),this.zoneIsStable=nt(eM),this.componentTypes=[],this.components=[],this.isStable=nt(Ov).hasPendingTasks.pipe(vr(t=>t?gt(!1):this.zoneIsStable),zh(),Sc()),this._injector=nt(gs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof zx;if(!this._injector.get(X0).done)throw!i&&function _l(n){const e=Jt(n)||Sr(n)||Rr(n);return null!==e&&e.standalone}(t),new Se(405,!1);let a;a=i?t:this._injector.get(Md).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const c=function q$(n){return n.isBoundToModule}(a)?void 0:this._injector.get(nu),p=a.create(Fr.NULL,[],r||a.selector,c),g=p.location.nativeElement,_=p.injector.get(SO,null);return _?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Lv(this.components,p),_?.unregisterApplication(g)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Lv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(iE,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Lv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Se(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const LO=new et("",{providedIn:"root",factory:()=>nt(Fa).handleError.bind(void 0)});function Q$(){const n=nt(zt),e=nt(Fa);return t=>n.runOutsideAngular(()=>e.handleError(t))}let J$=(()=>{class n{constructor(){this.zone=nt(zt),this.applicationRef=nt($l)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Fv=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=t4}return n})();function t4(n){return function n4(n,e,t){if(Da(n)&&!t){const r=Ri(n.index,e);return new up(r,r)}return 47&n.type?new up(e[Fn],e):null}(Hr(),je(),16==(16&n))}class jO{constructor(){}supports(e){return _v(e)}create(e){return new l4(e)}}const a4=(n,e)=>e;class l4{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||a4}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const a=!r||t&&t.currentIndex<zO(r,i,s)?t:r,c=zO(a,i,s),u=a.currentIndex;if(a===r)i--,r=r._nextRemoved;else if(t=t._next,null==a.previousIndex)i++;else{s||(s=[]);const p=c-i,g=u-i;if(p!=g){for(let w=0;w<p;w++){const I=w<s.length?s[w]:s[w]=0,R=I+w;g<=R&&R<p&&(s[w]=I+1)}s[a.previousIndex]=g-p}}c!==u&&e(a,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!_v(e))throw new Se(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,a,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],a=this._trackByFn(c,s),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,s,a,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,a,c),r=!0),t=t._next}else i=0,function VW(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,c=>{a=this._trackByFn(i,c),null!==t&&Object.is(t.trackById,a)?(r&&(t=this._verifyReinsertion(t,c,a,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)):(t=this._mismatch(t,c,a,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new c4(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new HO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class c4{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class u4{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class HO{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new u4,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zO(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class WO{constructor(){}supports(e){return e instanceof Map||p0(e)}create(){return new d4}}class d4{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||p0(e)))throw new Se(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}const r=new h4(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class h4{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $O(){return new Vv([new jO])}let Vv=(()=>{class n{static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:$O});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||$O()),deps:[[n,new L_,new P_]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Se(901,!1)}}return n})();function GO(){return new xp([new WO])}let xp=(()=>{class n{static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:GO});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||GO()),deps:[[n,new L_,new P_]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Se(901,!1)}}return n})();const g4=kO(null,"core",[]);let m4=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(Ce($l))};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({})}return n})();function Zd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let dE=null;function Gl(){return dE}class x4{}const sn=new et("DocumentToken");let hE=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return nt(R4)},providedIn:"platform"})}return n})();const M4=new et("Location Initialized");let R4=(()=>{class n extends hE{constructor(){super(),this._doc=nt(sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gl().getBaseHref(this._doc)}onPopState(t){const r=Gl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Gl().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function fE(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function tN(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ja(n){return n&&"?"!==n[0]?"?"+n:n}let iu=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return nt(rN)},providedIn:"root"})}return n})();const nN=new et("appBaseHref");let rN=(()=>{class n extends iu{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??nt(sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fE(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ja(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const a=this.prepareExternalUrl(i+ja(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){const a=this.prepareExternalUrl(i+ja(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(hE),Ce(nN,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O4=(()=>{class n extends iu{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=fE(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+ja(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+ja(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(hE),Ce(nN,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),Mp=(()=>{class n{constructor(t){this._subject=new rn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function L4(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(tN(iN(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ja(r))}normalize(t){return n.stripTrailingSlash(function P4(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,iN(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ja(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ja(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=ja;static#t=this.joinWithSlash=fE;static#n=this.stripTrailingSlash=tN;static#r=this.\u0275fac=function(r){return new(r||n)(Ce(iu))};static#i=this.\u0275prov=Qe({token:n,factory:function(){return function N4(){return new Mp(Ce(iu))}()},providedIn:"root"})}return n})();function iN(n){return n.replace(/\/index.html$/,"")}function fN(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const EE=/\s+/,pN=[];let Np=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=pN,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(EE):pN}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(EE):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(EE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(be(Vv),be(xp),be(zr),be(La))};static#t=this.\u0275dir=xt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class wG{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pp=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,a)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new wG(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)r.remove(null===s?void 0:s);else if(null!==s){const c=r.get(s);r.move(c,a),mN(c,i)}});for(let i=0,s=r.length;i<s;i++){const c=r.get(i).context;c.index=i,c.count=s,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{mN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(be($s),be(Zo),be(Vv))};static#t=this.\u0275dir=xt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function mN(n,e){n.context.$implicit=e.item}let Qd=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new CG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){_N("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){_N("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(be($s),be(Zo))};static#t=this.\u0275dir=xt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class CG{constructor(){this.$implicit=null,this.ngIf=null}}function _N(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${yr(e)}'.`)}let su=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),a=-1===i.indexOf("-")?void 0:Vl.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,i,a)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)(be(zr),be(xp),be(La))};static#t=this.\u0275dir=xt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Lp=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=yN}transform(t,r=yN){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),s=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(a=>{this.keyValues.push(function zG(n,e){return{key:n,value:e}}(a.key,a.currentValue))})),(i||s)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static#e=this.\u0275fac=function(r){return new(r||n)(be(xp,16))};static#t=this.\u0275pipe=Mr({name:"keyvalue",type:n,pure:!1,standalone:!0})}return n})();function yN(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),s=String(r);return i==s?0:i<s?-1:1}let qG=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({})}return n})();const bN="browser";function wN(n){return"server"===n}let QG=(()=>{class n{static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:()=>new JG(Ce(sn),window)})}return n})();class JG{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function eq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const a=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(a)return a}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class CN{}class Eq extends x4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class xE extends Eq{static makeCurrent(){!function k4(n){dE||(dE=n)}(new xE)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Sq(){return Bp=Bp||document.querySelector("base"),Bp?Bp.getAttribute("href"):null}();return null==t?null:function Dq(n){ey=ey||document.createElement("a"),ey.setAttribute("href",n);const e=ey.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bp=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fN(document.cookie,e)}}let ey,Bp=null,Iq=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const ME=new et("EventManagerPlugins");let IN=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Se(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(ME),Ce(zt))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();class AN{constructor(e){this._doc=e}}const RE="ng-app-id";let kN=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=wN(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${RE}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(RE),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(RE,this.appId),a}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,a=s.get(r)?.elements;a?a.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn),Ce(iv),Ce(LC,8),Ce(jl))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const OE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},NE=/%COMP%/g,Mq=new et("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function MN(n,e){return e.map(t=>t.replace(NE,n))}let PE=(()=>{class n{constructor(t,r,i,s,a,c,u,p=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=wN(c),this.defaultRenderer=new LE(t,a,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cr.ShadowDom&&(r={...r,encapsulation:cr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof ON?i.applyToHost(t):i instanceof FE&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const a=this.doc,c=this.ngZone,u=this.eventManager,p=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(r.encapsulation){case cr.Emulated:s=new ON(u,p,r,this.appId,g,a,c,_);break;case cr.ShadowDom:return new Pq(u,p,t,r,a,c,this.nonce,_);default:s=new FE(u,p,r,g,a,c,_)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(IN),Ce(kN),Ce(iv),Ce(Mq),Ce(sn),Ce(jl),Ce(zt),Ce(LC))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();class LE{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(OE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(RN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(RN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Se(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=OE[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=OE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Vl.DashCase|Vl.Important)?e.style.setProperty(t,r,i&Vl.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Vl.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Gl().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function RN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Pq extends LE{constructor(e,t,r,i,s,a,c,u){super(e,s,a,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=MN(i.id,i.styles);for(const g of p){const _=document.createElement("style");c&&_.setAttribute("nonce",c),_.textContent=g,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class FE extends LE{constructor(e,t,r,i,s,a,c,u){super(e,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?MN(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ON extends FE{constructor(e,t,r,i,s,a,c,u){const p=i+"-"+r.id;super(e,t,r,s,a,c,u,p),this.contentAttr=function Rq(n){return"_ngcontent-%COMP%".replace(NE,n)}(p),this.hostAttr=function Oq(n){return"_nghost-%COMP%".replace(NE,n)}(p)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Lq=(()=>{class n extends AN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const NN=["alt","control","meta","shift"],Fq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bq={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Uq=(()=>{class n extends AN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gl().onAndCancel(t,s.domEventName,a))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),NN.forEach(p=>{const g=r.indexOf(p);g>-1&&(r.splice(g,1),a+=p+".")}),a+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(t,r){let i=Fq[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),NN.forEach(a=>{a!==i&&(0,Bq[a])(t)&&(s+=a+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const zq=kO(g4,"browser",[{provide:jl,useValue:bN},{provide:Ux,useValue:function Vq(){xE.makeCurrent()},multi:!0},{provide:sn,useFactory:function Hq(){return function yz(n){EC=n}(document),document},deps:[]}]),Wq=new et(""),FN=[{provide:Pv,useClass:class Tq{addToWindow(e){Rn.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Se(5103,!1);return s},Rn.getAllAngularTestabilities=()=>e.getAllTestabilities(),Rn.getAllAngularRootElements=()=>e.getAllRootElements(),Rn.frameworkStabilizers||(Rn.frameworkStabilizers=[]),Rn.frameworkStabilizers.push(r=>{const i=Rn.getAllAngularTestabilities();let s=i.length,a=!1;const c=function(u){a=a||u,s--,0==s&&r(a)};i.forEach(u=>{u.whenStable(c)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Gl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:SO,useClass:eE,deps:[zt,tE,Pv]},{provide:eE,useClass:eE,deps:[zt,tE,Pv]}],BN=[{provide:RC,useValue:"root"},{provide:Fa,useFactory:function jq(){return new Fa},deps:[]},{provide:ME,useClass:Lq,multi:!0,deps:[sn,zt,jl]},{provide:ME,useClass:Uq,multi:!0,deps:[sn]},PE,kN,IN,{provide:op,useExisting:PE},{provide:CN,useClass:Iq,deps:[]},[]];let UN=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:iv,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(Wq,12))};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({providers:[...BN,...FN],imports:[qG,m4]})}return n})(),VN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn))};static#t=this.\u0275prov=Qe({token:n,factory:function(r){let i=null;return i=r?new r:function Gq(){return new VN(Ce(sn))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let UE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(r){let i=null;return i=r?new(r||n):Ce(zN),i},providedIn:"root"})}return n})(),zN=(()=>{class n extends UE{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Vs.NONE:return r;case Vs.HTML:return Ho(r,"HTML")?ps(r):kx(this._doc,String(r)).toString();case Vs.STYLE:return Ho(r,"Style")?ps(r):r;case Vs.SCRIPT:if(Ho(r,"Script"))return ps(r);throw new Se(5200,!1);case Vs.URL:return Ho(r,"URL")?ps(r):X_(String(r));case Vs.RESOURCE_URL:if(Ho(r,"ResourceURL"))return ps(r);throw new Se(5201,!1);default:throw new Se(5202,!1)}}bypassSecurityTrustHtml(t){return function Tz(n){return new bz(n)}(t)}bypassSecurityTrustStyle(t){return function Iz(n){return new wz(n)}(t)}bypassSecurityTrustScript(t){return function Az(n){return new Cz(n)}(t)}bypassSecurityTrustUrl(t){return function kz(n){return new Ez(n)}(t)}bypassSecurityTrustResourceUrl(t){return function xz(n){return new Sz(n)}(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn))};static#t=this.\u0275prov=Qe({token:n,factory:function(r){let i=null;return i=r?new r:function Zq(n){return new zN(n.get(sn))}(Ce(Fr)),i},providedIn:"root"})}return n})();const{isArray:Qq}=Array,{getPrototypeOf:Jq,prototype:e9,keys:t9}=Object;function $N(n){if(1===n.length){const e=n[0];if(Qq(e))return{args:e,keys:null};if(function n9(n){return n&&"object"==typeof n&&Jq(n)===e9}(e)){const t=t9(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:r9}=Array;function VE(n){return Xe(e=>function i9(n,e){return r9(e)?n(...e):n(e)}(n,e))}function GN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ty(...n){const e=rs(n),t=xs(n),{args:r,keys:i}=$N(n);if(0===r.length)return Ct([],e);const s=new Ie(function s9(n,e,t=T){return r=>{qN(e,()=>{const{length:i}=n,s=new Array(i);let a=i,c=i;for(let u=0;u<i;u++)qN(e,()=>{const p=Ct(n[u],e);let g=!1;p.subscribe(xe(r,_=>{s[u]=_,g||(g=!0,c--),c||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}(r,e,i?a=>GN(i,a):T));return t?s.pipe(VE(t)):s}function qN(n,e,t){n?ni(t,n,e):e()}const ny=K(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ry(...n){return function o9(){return Vi(1)}()(Ct(n,rs(n)))}function iy(n){return new Ie(e=>{kr(n()).subscribe(e)})}function Up(n,e){const t=V(n)?n:()=>n,r=i=>i.error(t());return new Ie(e?i=>e.schedule(r,0,i):r)}function jE(){return He((n,e)=>{let t=null;n._refCount++;const r=xe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class KN extends Ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,St(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new N;const t=this.getSubject();e.add(this.source.subscribe(xe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=N.EMPTY)}return e}refCount(){return jE()(this)}}function Ks(n){return n<=0?()=>xr:He((e,t)=>{let r=0;e.subscribe(xe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function sy(...n){const e=rs(n);return He((t,r)=>{(e?ry(n,t,e):ry(n,t)).subscribe(r)})}function wi(n,e){return He((t,r)=>{let i=0;t.subscribe(xe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function oy(n){return He((e,t)=>{let r=!1;e.subscribe(xe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function YN(n=a9){return He((e,t)=>{let r=!1;e.subscribe(xe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function a9(){return new ny}function ou(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wi((i,s)=>n(i,s,r)):T,Ks(1),t?oy(e):YN(()=>new ny))}function Jd(n,e){return V(e)?on(n,e,1):on(n,1)}function Ci(n,e,t){const r=V(n)||e||t?{next:n,error:e,complete:t}:n;return r?He((i,s)=>{var a;null===(a=r.subscribe)||void 0===a||a.call(r);let c=!0;i.subscribe(xe(s,u=>{var p;null===(p=r.next)||void 0===p||p.call(r,u),s.next(u)},()=>{var u;c=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var p;c=!1,null===(p=r.error)||void 0===p||p.call(r,u),s.error(u)},()=>{var u,p;c&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(p=r.finalize)||void 0===p||p.call(r)}))}):T}function au(n){return He((e,t)=>{let s,r=null,i=!1;r=e.subscribe(xe(t,void 0,void 0,a=>{s=kr(n(a,au(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function HE(n){return n<=0?()=>xr:He((e,t)=>{let r=[];e.subscribe(xe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Vp(n){return He((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ay(n){return He((e,t)=>{kr(n).subscribe(xe(t,()=>t.complete(),k)),!t.closed&&e.subscribe(t)})}const Ht="primary",jp=Symbol("RouteTitle");class h9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function eh(n){return new h9(n)}function f9(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const a=r[s],c=n[s];if(a.startsWith(":"))i[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Qo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!ZN(n[i],e[i]))return!1;return!0}function ZN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function XN(n){return n.length>0?n[n.length-1]:null}function Kl(n){return function Xq(n){return!!n&&(n instanceof Ie||V(n.lift)&&V(n.subscribe))}(n)?n:mp(n)?Ct(Promise.resolve(n)):gt(n)}const g9={exact:function eP(n,e,t){if(!lu(n.segments,e.segments)||!ly(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!eP(n.children[r],e.children[r],t))return!1;return!0},subset:tP},QN={exact:function m9(n,e){return Qo(n,e)},subset:function _9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ZN(n[t],e[t]))},ignored:()=>!0};function JN(n,e,t){return g9[t.paths](n.root,e.root,t.matrixParams)&&QN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function tP(n,e,t){return nP(n,e,e.segments,t)}function nP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!lu(i,t)||e.hasChildren()||!ly(i,t,r))}if(n.segments.length===t.length){if(!lu(n.segments,t)||!ly(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!tP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(lu(n.segments,i)&&ly(n.segments,i,r)&&n.children[Ht])&&nP(n.children[Ht],e,s,r)}}function ly(n,e,t){return e.every((r,i)=>QN[t](n[i].parameters,r.parameters))}class th{constructor(e=new kn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eh(this.queryParams)),this._queryParamMap}toString(){return b9.serialize(this)}}class kn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cy(this)}}class Hp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=eh(this.parameters)),this._parameterMap}toString(){return sP(this)}}function lu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let zp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return new zE},providedIn:"root"})}return n})();class zE{parse(e){const t=new M9(e);return new th(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Wp(e.root,!0)}`,r=function E9(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${uy(t)}=${uy(i)}`).join("&"):`${uy(t)}=${uy(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function w9(n){return encodeURI(n)}(e.fragment)}`:""}`}}const b9=new zE;function cy(n){return n.segments.map(e=>sP(e)).join("/")}function Wp(n,e){if(!n.hasChildren())return cy(n);if(e){const t=n.children[Ht]?Wp(n.children[Ht],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Ht&&r.push(`${i}:${Wp(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function y9(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ht&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ht&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Ht?[Wp(n.children[Ht],!1)]:[`${i}:${Wp(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${cy(n)}/${t[0]}`:`${cy(n)}/(${t.join("//")})`}}function rP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uy(n){return rP(n).replace(/%3B/gi,";")}function WE(n){return rP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dy(n){return decodeURIComponent(n)}function iP(n){return dy(n.replace(/\+/g,"%20"))}function sP(n){return`${WE(n.path)}${function C9(n){return Object.keys(n).map(e=>`;${WE(e)}=${WE(n[e])}`).join("")}(n.parameters)}`}const S9=/^[^\/()?;#]+/;function $E(n){const e=n.match(S9);return e?e[0]:""}const D9=/^[^\/()?;=#]+/,I9=/^[^=?&#]+/,k9=/^[^&#]+/;class M9{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kn([],{}):new kn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ht]=new kn(e,t)),r}parseSegment(){const e=$E(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Se(4009,!1);return this.capture(e),new Hp(dy(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function T9(n){const e=n.match(D9);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=$E(this.remaining);i&&(r=i,this.capture(r))}e[dy(t)]=dy(r)}parseQueryParam(e){const t=function A9(n){const e=n.match(I9);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=function x9(n){const e=n.match(k9);return e?e[0]:""}(this.remaining);a&&(r=a,this.capture(r))}const i=iP(t),s=iP(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$E(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Se(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ht);const a=this.parseChildren();t[s]=1===Object.keys(a).length?a[Ht]:new kn([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Se(4011,!1)}}function oP(n){return n.segments.length>0?new kn([],{[Ht]:n}):n}function aP(n){const e={};for(const r of Object.keys(n.children)){const s=aP(n.children[r]);if(r===Ht&&0===s.segments.length&&s.hasChildren())for(const[a,c]of Object.entries(s.children))e[a]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function R9(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new kn(n.segments.concat(e.segments),e.children)}return n}(new kn(n.segments,e))}function cu(n){return n instanceof th}function lP(n){let e;const i=oP(function t(s){const a={};for(const u of s.children){const p=t(u);a[u.outlet]=p}const c=new kn(s.url,a);return s===n&&(e=c),c}(n.root));return e??i}function cP(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return GE(i,i,i,t,r);const s=function N9(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new dP(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([u,p])=>{c[u]="string"==typeof p?p.split("/"):p}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===a?(s.split("/").forEach((c,u)=>{0==u&&"."===c||(0==u&&""===c?t=!0:".."===c?e++:""!=c&&i.push(c))}),i):[...i,s]},[]);return new dP(t,e,r)}(e);if(s.toRoot())return GE(i,i,new kn([],{}),t,r);const a=function P9(n,e,t){if(n.isAbsolute)return new fy(e,!0,0);if(!t)return new fy(e,!1,NaN);if(null===t.parent)return new fy(t,!0,0);const r=hy(n.commands[0])?0:1;return function L9(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Se(4005,!1);i=r.segments.length}return new fy(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),c=a.processChildren?Gp(a.segmentGroup,a.index,s.commands):hP(a.segmentGroup,a.index,s.commands);return GE(i,a.segmentGroup,c,t,r)}function hy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function $p(n){return"object"==typeof n&&null!=n&&n.outlets}function GE(n,e,t,r,i){let a,s={};r&&Object.entries(r).forEach(([u,p])=>{s[u]=Array.isArray(p)?p.map(g=>`${g}`):`${p}`}),a=n===e?t:uP(n,e,t);const c=oP(aP(a));return new th(c,s,i)}function uP(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:uP(s,e,t)}),new kn(n.segments,r)}class dP{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hy(r[0]))throw new Se(4003,!1);const i=r.find($p);if(i&&i!==XN(r))throw new Se(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fy{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function hP(n,e,t){if(n||(n=new kn([],{})),0===n.segments.length&&n.hasChildren())return Gp(n,e,t);const r=function B9(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const a=n.segments[i],c=t[r];if($p(c))break;const u=`${c}`,p=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&p&&"object"==typeof p&&void 0===p.outlets){if(!pP(u,p,a))return s;r+=2}else{if(!pP(u,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new kn(n.segments.slice(0,r.pathIndex),{});return s.children[Ht]=new kn(n.segments.slice(r.pathIndex),n.children),Gp(s,0,i)}return r.match&&0===i.length?new kn(n.segments,{}):r.match&&!n.hasChildren()?qE(n,e,t):r.match?Gp(n,0,i):qE(n,e,t)}function Gp(n,e,t){if(0===t.length)return new kn(n.segments,{});{const r=function F9(n){return $p(n[0])?n[0].outlets:{[Ht]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Ht)&&n.children[Ht]&&1===n.numberOfChildren&&0===n.children[Ht].segments.length){const s=Gp(n.children[Ht],e,t);return new kn(n.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{"string"==typeof a&&(a=[a]),null!==a&&(i[s]=hP(n.children[s],e,a))}),Object.entries(n.children).forEach(([s,a])=>{void 0===r[s]&&(i[s]=a)}),new kn(n.segments,i)}}function qE(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if($p(s)){const u=U9(s.outlets);return new kn(r,u)}if(0===i&&hy(t[0])){r.push(new Hp(n.segments[e].path,fP(t[0]))),i++;continue}const a=$p(s)?s.outlets[Ht]:`${s}`,c=i<t.length-1?t[i+1]:null;a&&c&&hy(c)?(r.push(new Hp(a,fP(c))),i+=2):(r.push(new Hp(a,{})),i++)}return new kn(r,{})}function U9(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=qE(new kn([],{}),0,r))}),e}function fP(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function pP(n,e,t){return n==t.path&&Qo(e,t.parameters)}const qp="imperative";class Jo{constructor(e,t){this.id=e,this.url=t}}class py extends Jo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yl extends Jo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kp extends Jo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nh extends Jo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class gy extends Jo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gP extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V9 extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j9 extends Jo{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class H9 extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z9 extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W9{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $9{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class G9{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q9{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K9{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y9{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class KE{}class YE{constructor(e){this.url=e}}class Z9{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yp,this.attachRef=null}}let Yp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Z9,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class _P{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ZE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ZE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=XE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return XE(e,this._root).map(t=>t.value)}}function ZE(n,e){if(n===e.value)return e;for(const t of e.children){const r=ZE(n,t);if(r)return r}return null}function XE(n,e){if(n===e.value)return[e];for(const t of e.children){const r=XE(n,t);if(r.length)return r.unshift(e),r}return[]}class Wa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function rh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class vP extends _P{constructor(e,t){super(e),this.snapshot=t,QE(this,e)}toString(){return this.snapshot.toString()}}function yP(n,e){const t=function X9(n,e){const a=new my([],{},{},"",{},Ht,e,null,{});return new wP("",new Wa(a,[]))}(0,e),r=new at([new Hp("",{})]),i=new at({}),s=new at({}),a=new at({}),c=new at(""),u=new ih(r,i,a,c,s,Ht,e,t.root);return u.snapshot=t.root,new vP(new Wa(u,[]),t)}class ih{constructor(e,t,r,i,s,a,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Xe(p=>p[jp]))??gt(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Xe(e=>eh(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Xe(e=>eh(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bP(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Q9(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class my{get title(){return this.data?.[jp]}constructor(e,t,r,i,s,a,c,u,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=c,this.routeConfig=u,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=eh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=eh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wP extends _P{constructor(e,t){super(t),this.url=e,QE(this,t)}toString(){return CP(this._root)}}function QE(n,e){e.value._routerState=n,e.children.forEach(t=>QE(n,t))}function CP(n){const e=n.children.length>0?` { ${n.children.map(CP).join(", ")} } `:"";return`${n.value}${e}`}function JE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Qo(e.params,t.params)||n.paramsSubject.next(t.params),function p9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Qo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function eS(n,e){const t=Qo(n.params,e.params)&&function v9(n,e){return lu(n,e)&&n.every((t,r)=>Qo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||eS(n.parent,e.parent))}let _y=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new rn,this.deactivateEvents=new rn,this.attachEvents=new rn,this.detachEvents=new rn,this.parentContexts=nt(Yp),this.location=nt($s),this.changeDetector=nt(Fv),this.environmentInjector=nt(gs),this.inputBinder=nt(vy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Se(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Se(4013,!1);this._activatedRoute=t;const i=this.location,a=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new J9(t,c,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=xt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mi]})}return n})();class J9{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ih?this.route:e===Yp?this.childContexts:this.parent.get(e,t)}}const vy=new et("");let EP=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=ty([r.queryParams,r.params,r.data]).pipe(vr(([s,a,c],u)=>(c={...s,...a,...c},0===u?gt(c):Promise.resolve(c)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const a=function A4(n){const e=Jt(n);if(!e)return null;const t=new dp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(a)for(const{templateName:c}of a.inputs)t.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();function Zp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function t7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zp(n,r,i);return Zp(n,r)})}(n,e,t);return new Wa(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(c=>Zp(n,c)),a}}const r=function n7(n){return new ih(new at(n.url),new at(n.params),new at(n.queryParams),new at(n.fragment),new at(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Zp(n,s));return new Wa(r,i)}}const tS="ngNavigationCancelingError";function SP(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=cu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DP(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function DP(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[tS]=!0,r.cancellationCode=e,t&&(r.url=t),r}function TP(n){return n&&n[tS]}let IP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=bn({type:n,selectors:[["ng-component"]],standalone:!0,features:[x1],decls:1,vars:0,template:function(r,i){1&r&&vn(0,"router-outlet")},dependencies:[_y],encapsulation:2})}return n})();function nS(n){const e=n.children&&n.children.map(nS),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=IP),t}function vo(n){return n.outlet||Ht}function Xp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class u7{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),JE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=rh(t);e.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=rh(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);if(r&&r.outlet){const a=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=rh(e);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=rh(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Y9(s.value.snapshot))}),e.children.length&&this.forwardEvent(new q9(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(JE(i),i===s)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),JE(c.route.value),this.activateChildRoutes(e,null,a.children)}else{const c=Xp(i.snapshot);a.attachRef=null,a.route=i,a.injector=c,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class AP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yy{constructor(e,t){this.component=e,this.route=t}}function d7(n,e,t){const r=n._root;return Qp(r,e?e._root:null,t,[r.value])}function sh(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Ku(n){return null!==Hi(n)}(n)?e.get(n):n:r}function Qp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=rh(e);return n.children.forEach(a=>{(function f7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,a=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function p7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!lu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!lu(n.url,e.url)||!Qo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eS(n,e)||!Qo(n.queryParams,e.queryParams);default:return!eS(n,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new AP(r)):(s.data=a.data,s._resolvedData=a._resolvedData),Qp(n,e,s.component?c?c.children:null:t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new yy(c.outlet.component,a))}else a&&Jp(e,c,i),i.canActivateChecks.push(new AP(r)),Qp(n,null,s.component?c?c.children:null:t,r,i)})(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,c])=>Jp(c,t.getContext(a),i)),i}function Jp(n,e,t){const r=rh(n),i=n.value;Object.entries(r).forEach(([s,a])=>{Jp(a,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new yy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function eg(n){return"function"==typeof n}function kP(n){return n instanceof ny||"EmptyError"===n?.name}const by=Symbol("INITIAL_VALUE");function oh(){return vr(n=>ty(n.map(e=>e.pipe(Ks(1),sy(by)))).pipe(Xe(e=>{for(const t of e)if(!0!==t){if(t===by)return by;if(!1===t||t instanceof th)return t}return!0}),wi(e=>e!==by),Ks(1)))}function xP(n){return function Oe(...n){return ce(n)}(Ci(e=>{if(cu(e))throw SP(0,e)}),Xe(e=>!0===e))}class wy{constructor(e){this.segmentGroup=e||null}}class MP{constructor(e){this.urlTree=e}}function ah(n){return Up(new wy(n))}function RP(n){return Up(new MP(n))}class N7{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new Se(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return gt(r);if(i.numberOfChildren>1||!i.children[Ht])return Up(new Se(4e3,!1));i=i.children[Ht]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new th(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let a={};return Object.entries(t.children).forEach(([c,u])=>{a[c]=this.createSegmentGroup(e,u,r,i)}),new kn(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Se(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const rS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P7(n,e,t,r,i){const s=iS(n,e,t);return s.matched?(r=function i7(n,e){return n.providers&&!n._injector&&(n._injector=P0(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function M7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?gt(i.map(a=>{const c=sh(a,n);return Kl(function b7(n){return n&&eg(n.canMatch)}(c)?c.canMatch(e,t):n.runInContext(()=>c(e,t)))})).pipe(oh(),xP()):gt(!0)}(r,e,t).pipe(Xe(a=>!0===a?s:{...rS}))):gt(s)}function iS(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...rS}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||f9)(t,n,e);if(!i)return{...rS};const s={};Object.entries(i.posParams??{}).forEach(([c,u])=>{s[c]=u.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function OP(n,e,t,r){return t.length>0&&function B7(n,e,t){return t.some(r=>Cy(n,e,r)&&vo(r)!==Ht)}(n,t,r)?{segmentGroup:new kn(e,F7(r,new kn(t,n.children))),slicedSegments:[]}:0===t.length&&function U7(n,e,t){return t.some(r=>Cy(n,e,r))}(n,t,r)?{segmentGroup:new kn(n.segments,L7(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new kn(n.segments,n.children),slicedSegments:t}}function L7(n,e,t,r,i){const s={};for(const a of r)if(Cy(n,t,a)&&!i[vo(a)]){const c=new kn([],{});s[vo(a)]=c}return{...i,...s}}function F7(n,e){const t={};t[Ht]=e;for(const r of n)if(""===r.path&&vo(r)!==Ht){const i=new kn([],{});t[vo(r)]=i}return t}function Cy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class z7{constructor(e,t,r,i,s,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new N7(this.urlSerializer,this.urlTree)}noMatchError(e){return new Se(4002,!1)}recognize(){const e=OP(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ht).pipe(au(t=>{if(t instanceof MP)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof wy?this.noMatchError(t):t}),Xe(t=>{const r=new my([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,{}),i=new Wa(r,t),s=new wP("",i),a=function O9(n,e,t=null,r=null){return cP(lP(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),this.inheritParamsAndData(s._root),{state:s,tree:a}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ht).pipe(au(r=>{throw r instanceof wy?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=bP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Ct(i).pipe(Jd(s=>{const a=r.children[s],c=function l7(n,e){const t=n.filter(r=>vo(r)===e);return t.push(...n.filter(r=>vo(r)!==e)),t}(t,s);return this.processSegmentGroup(e,c,a,s)}),function c9(n,e){return He(function l9(n,e,t,r,i){return(s,a)=>{let c=t,u=e,p=0;s.subscribe(xe(a,g=>{const _=p++;u=c?n(u,g,_):(c=!0,g),r&&a.next(u)},i&&(()=>{c&&a.next(u),a.complete()})))}}(n,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),oy(null),function u9(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wi((i,s)=>n(i,s,r)):T,HE(1),t?oy(e):YN(()=>new ny))}(),on(s=>{if(null===s)return ah(r);const a=NP(s);return function W7(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(a),gt(a)}))}processSegment(e,t,r,i,s,a){return Ct(t).pipe(Jd(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,a).pipe(au(u=>{if(u instanceof wy)return gt(null);throw u}))),ou(c=>!!c),au(c=>{if(kP(c))return function j7(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?gt([]):ah(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,a,c){return function V7(n,e,t,r){return!!(vo(n)===r||r!==Ht&&Cy(e,t,n))&&("**"===n.path||iS(e,n,t).matched)}(r,i,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,a,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,a):ah(i):ah(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RP(s):this.applyRedirects.lineralizeSegments(r,s).pipe(on(a=>{const c=new kn(a,{});return this.processSegment(e,t,c,a,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a){const{matched:c,consumedSegments:u,remainingSegments:p,positionalParamSegments:g}=iS(t,i,s);if(!c)return ah(t);const _=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,g);return i.redirectTo.startsWith("/")?RP(_):this.applyRedirects.lineralizeSegments(i,_).pipe(on(w=>this.processSegment(e,r,t,w.concat(p),a,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,a){let c;if("**"===r.path){const u=i.length>0?XN(i).parameters:{};c=gt({snapshot:new my(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PP(r),vo(r),r.component??r._loadedComponent??null,r,LP(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else c=P7(t,r,i,e).pipe(Xe(({matched:u,consumedSegments:p,remainingSegments:g,parameters:_})=>u?{snapshot:new my(p,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,PP(r),vo(r),r.component??r._loadedComponent??null,r,LP(r)),consumedSegments:p,remainingSegments:g}:null));return c.pipe(vr(u=>null===u?ah(t):this.getChildConfig(e=r._injector??e,r,i).pipe(vr(({routes:p})=>{const g=r._loadedInjector??e,{snapshot:_,consumedSegments:w,remainingSegments:I}=u,{segmentGroup:R,slicedSegments:q}=OP(t,w,I,p);if(0===q.length&&R.hasChildren())return this.processChildren(g,p,R).pipe(Xe(Te=>null===Te?null:[new Wa(_,Te)]));if(0===p.length&&0===q.length)return gt([new Wa(_,[])]);const le=vo(r)===s;return this.processSegment(g,p,R,q,le?Ht:s,!0).pipe(Xe(Te=>[new Wa(_,Te)]))}))))}getChildConfig(e,t,r){return t.children?gt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?gt({routes:t._loadedRoutes,injector:t._loadedInjector}):function x7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?gt(!0):gt(i.map(a=>{const c=sh(a,n);return Kl(function m7(n){return n&&eg(n.canLoad)}(c)?c.canLoad(e,t):n.runInContext(()=>c(e,t)))})).pipe(oh(),xP())}(e,t,r).pipe(on(i=>i?this.configLoader.loadChildren(e,t).pipe(Ci(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function O7(n){return Up(DP(!1,3))}())):gt({routes:[],injector:e})}}function $7(n){const e=n.value.routeConfig;return e&&""===e.path}function NP(n){const e=[],t=new Set;for(const r of n){if(!$7(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=NP(r.children);e.push(new Wa(r.value,i))}return e.filter(r=>!t.has(r))}function PP(n){return n.data||{}}function LP(n){return n.resolve||{}}function FP(n){return"string"==typeof n.title||null===n.title}function sS(n){return vr(e=>{const t=n(e);return t?Ct(t).pipe(Xe(()=>e)):gt(e)})}const lh=new et("ROUTES");let oS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=nt(bO)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return gt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Kl(t.loadComponent()).pipe(Xe(BP),Ci(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Vp(()=>{this.componentLoaders.delete(t)})),i=new KN(r,()=>new Ne).pipe(jE());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return gt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function Q7(n,e,t,r){return Kl(n.loadChildren()).pipe(Xe(BP),on(i=>i instanceof A1||Array.isArray(i)?gt(i):Ct(e.compileModuleAsync(i))),Xe(i=>{r&&r(n);let s,a,c=!1;return Array.isArray(i)?(a=i,!0):(s=i.create(t).injector,a=s.get(lh,[],{optional:!0,self:!0}).flat()),{routes:a.map(nS),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Vp(()=>{this.childrenLoaders.delete(r)})),a=new KN(s,()=>new Ne).pipe(jE());return this.childrenLoaders.set(r,a),a}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BP(n){return function J7(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ey=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=nt(oS),this.environmentInjector=nt(gs),this.urlSerializer=nt(zp),this.rootContexts=nt(Yp),this.inputBindingEnabled=null!==nt(vy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>gt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new $9(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new W9(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new at({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:qp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wi(s=>0!==s.id),Xe(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),vr(s=>{this.currentTransition=s;let a=!1,c=!1;return gt(s).pipe(Ci(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vr(u=>{const p=u.currentBrowserUrl.toString(),g=!t.navigated||u.extractedUrl.toString()!==p||p!==u.currentUrlTree.toString();if(!g&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const w="";return this.events.next(new nh(u.id,this.urlSerializer.serialize(u.rawUrl),w,0)),u.resolve(null),xr}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return gt(u).pipe(vr(w=>{const I=this.transitions?.getValue();return this.events.next(new py(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),I!==this.transitions?.getValue()?xr:Promise.resolve(w)}),function G7(n,e,t,r,i,s){return on(a=>function H7(n,e,t,r,i,s,a="emptyOnly"){return new z7(n,e,t,r,i,a,s).recognize()}(n,e,t,r,a.extractedUrl,i,s).pipe(Xe(({state:c,tree:u})=>({...a,targetSnapshot:c,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ci(w=>{s.targetSnapshot=w.targetSnapshot,s.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:w.urlAfterRedirects};const I=new gP(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(I)}));if(g&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:w,extractedUrl:I,source:R,restoredState:q,extras:le}=u,Te=new py(w,this.urlSerializer.serialize(I),R,q);this.events.next(Te);const me=yP(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:me,urlAfterRedirects:I,extras:{...le,skipLocationChange:!1,replaceUrl:!1}},gt(s)}{const w="";return this.events.next(new nh(u.id,this.urlSerializer.serialize(u.extractedUrl),w,1)),u.resolve(null),xr}}),Ci(u=>{const p=new V9(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),Xe(u=>(this.currentTransition=s={...u,guards:d7(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function C7(n,e){return on(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return 0===a.length&&0===s.length?gt({...t,guardsResult:!0}):function E7(n,e,t,r){return Ct(n).pipe(on(i=>function k7(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?gt(s.map(c=>{const u=Xp(e)??i,p=sh(c,u);return Kl(function y7(n){return n&&eg(n.canDeactivate)}(p)?p.canDeactivate(n,e,t,r):u.runInContext(()=>p(n,e,t,r))).pipe(ou())})).pipe(oh()):gt(!0)}(i.component,i.route,t,e,r)),ou(i=>!0!==i,!0))}(a,r,i,n).pipe(on(c=>c&&function g7(n){return"boolean"==typeof n}(c)?function S7(n,e,t,r){return Ct(e).pipe(Jd(i=>ry(function T7(n,e){return null!==n&&e&&e(new G9(n)),gt(!0)}(i.route.parent,r),function D7(n,e){return null!==n&&e&&e(new K9(n)),gt(!0)}(i.route,r),function A7(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>function h7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(a)).filter(a=>null!==a).map(a=>iy(()=>gt(a.guards.map(u=>{const p=Xp(a.node)??t,g=sh(u,p);return Kl(function v7(n){return n&&eg(n.canActivateChild)}(g)?g.canActivateChild(r,n):p.runInContext(()=>g(r,n))).pipe(ou())})).pipe(oh())));return gt(s).pipe(oh())}(n,i.path,t),function I7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const i=r.map(s=>iy(()=>{const a=Xp(e)??t,c=sh(s,a);return Kl(function _7(n){return n&&eg(n.canActivate)}(c)?c.canActivate(e,n):a.runInContext(()=>c(e,n))).pipe(ou())}));return gt(i).pipe(oh())}(n,i.route,t))),ou(i=>!0!==i,!0))}(r,s,n,e):gt(c)),Xe(c=>({...t,guardsResult:c})))})}(this.environmentInjector,u=>this.events.next(u)),Ci(u=>{if(s.guardsResult=u.guardsResult,cu(u.guardsResult))throw SP(0,u.guardsResult);const p=new j9(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(p)}),wi(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),sS(u=>{if(u.guards.canActivateChecks.length)return gt(u).pipe(Ci(p=>{const g=new H9(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}),vr(p=>{let g=!1;return gt(p).pipe(function q7(n,e){return on(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return gt(t);let s=0;return Ct(i).pipe(Jd(a=>function K7(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!FP(i)&&(s[jp]=i.title),function Y7(n,e,t,r){const i=function Z7(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return gt({});const s={};return Ct(i).pipe(on(a=>function X7(n,e,t,r){const i=Xp(e)??r,s=sh(n,i);return Kl(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[a],e,t,r).pipe(ou(),Ci(c=>{s[a]=c}))),HE(1),function d9(n){return Xe(()=>n)}(s),au(a=>kP(a)?xr:Up(a)))}(s,n,e,r).pipe(Xe(a=>(n._resolvedData=a,n.data=bP(n,t).resolve,i&&FP(i)&&(n.data[jp]=i.title),null)))}(a.route,r,n,e)),Ci(()=>s++),HE(1),on(a=>s===i.length?gt(t):xr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ci({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(p,"",2)}}))}),Ci(p=>{const g=new z9(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}))}),sS(u=>{const p=g=>{const _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(Ci(w=>{g.component=w}),Xe(()=>{})));for(const w of g.children)_.push(...p(w));return _};return ty(p(u.targetSnapshot.root)).pipe(oy(),Ks(1))}),sS(()=>this.afterPreactivation()),Xe(u=>{const p=function e7(n,e,t){const r=Zp(n,e._root,t?t._root:void 0);return new vP(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:p},s}),Ci(()=>{this.events.next(new KE)}),((n,e,t,r)=>Xe(i=>(new u7(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ks(1),Ci({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ay(this.transitionAbortSubject.pipe(Ci(u=>{throw u}))),Vp(()=>{a||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),au(u=>{if(c=!0,TP(u))this.events.next(new Kp(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function r7(n){return TP(n)&&cu(n.url)}(u)?this.events.next(new YE(u.url)):s.resolve(!1);else{this.events.next(new gy(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(u))}catch(p){s.reject(p)}}return xr}))}))}cancelNavigationTransition(t,r,i){const s=new Kp(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UP(n){return n!==qp}let VP=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ht);return r}getResolvedTitleForRoute(t){return t.data[jp]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return nt(eK)},providedIn:"root"})}return n})(),eK=(()=>{class n extends VP{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(VN))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return nt(rK)},providedIn:"root"})}return n})();class nK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let rK=(()=>{class n extends nK{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}();static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Sy=new et("",{providedIn:"root",factory:()=>({})});let iK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return nt(sK)},providedIn:"root"})}return n})(),sK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(tg||{});function jP(n,e){n.events.pipe(wi(t=>t instanceof Yl||t instanceof Kp||t instanceof gy||t instanceof nh),Xe(t=>t instanceof Yl||t instanceof nh?tg.COMPLETE:t instanceof Kp&&(0===t.code||1===t.code)?tg.REDIRECTING:tg.FAILED),wi(t=>t!==tg.REDIRECTING),Ks(1)).subscribe(()=>{e()})}function oK(n){throw n}function aK(n,e,t){return e.parse("/")}const lK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=nt(yO),this.isNgZoneEnabled=!1,this._events=new Ne,this.options=nt(Sy,{optional:!0})||{},this.pendingTasks=nt(Ov),this.errorHandler=this.options.errorHandler||oK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||aK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=nt(iK),this.routeReuseStrategy=nt(tK),this.titleStrategy=nt(VP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=nt(lh,{optional:!0})?.flat()??[],this.navigationTransitions=nt(Ey),this.urlSerializer=nt(zp),this.location=nt(Mp),this.componentInputBindingEnabled=!!nt(vy,{optional:!0}),this.eventsSubscription=new N,this.isNgZoneEnabled=nt(zt)instanceof zt&&zt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new th,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yP(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(HP(r)&&this._events.next(r));if(r instanceof py)UP(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof nh)this.rawUrlTree=i.rawUrl;else if(r instanceof gP){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof KE)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Kp)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof YE){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||UP(i.source)};this.scheduleNavigation(s,qp,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof gy&&this.restoreHistory(i,!0),r instanceof Yl&&(this.navigated=!0),HP(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),qp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const c=this.parseUrl(t);this.scheduleNavigation(c,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(nS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,p=u?this.currentUrlTree.fragment:a;let _,g=null;switch(c){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}null!==g&&(g=this.removeEmptyProps(g));try{_=lP(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),_=this.currentUrlTree.root}return cP(_,t,g,p??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=cu(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,qp,null,r)}navigate(t,r={skipLocationChange:!1}){return function uK(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new Se(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...lK}:!1===r?{...cK}:r,cu(t))return JN(this.currentUrlTree,t,i);const s=this.parseUrl(t);return JN(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,p;a?(c=a.resolve,u=a.reject,p=a.promise):p=new Promise((_,w)=>{c=_,u=w});const g=this.pendingTasks.add();return jP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const a={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HP(n){return!(n instanceof KE||n instanceof YE)}let Dy=(()=>{class n{constructor(t,r,i,s,a,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Ne,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(p=>{p instanceof Yl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,a){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||a||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function Mx(n,e,t){return function $z(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?J_:xx}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(be(vs),be(ih),function Wn(n){return function U(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Pc(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Hr(),n)}("tabindex"),be(La),be(zr),be(iu))};static#t=this.\u0275dir=xt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Xt("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&r&&Hs("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Zd],skipLocationChange:["skipLocationChange","skipLocationChange",Zd],replaceUrl:["replaceUrl","replaceUrl",Zd],routerLink:"routerLink"},standalone:!0,features:[HM,Mi]})}return n})(),zP=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,a){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new rn,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof Yl&&this.update()})}ngAfterContentInit(){gt(this.links.changes,gt(null)).pipe(Vi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ct(t).pipe(Vi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function dK(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||n)(be(vs),be(zr),be(La),be(Fv),be(Dy,8))};static#t=this.\u0275dir=xt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(1&r&&function J1(n,e,t,r){const i=Zt();if(i.firstCreatePass){const s=Hr();tO(i,new X1(e,t,r),s.index),function e$(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}eO(i,je(),t)}(s,Dy,5),2&r){let a;xv(a=Mv())&&(i.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Mi]})}return n})();class WP{}let hK=(()=>{class n{constructor(t,r,i,s,a){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(wi(t=>t instanceof Yl),Jd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=P0(s.providers,t,`Route: ${s.path}`));const a=s._injector??t,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Ct(i).pipe(Vi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):gt(null);const s=i.pipe(on(a=>null===a?gt(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));return r.loadComponent&&!r._loadedComponent?Ct([s,this.loader.loadComponent(r)]).pipe(Vi()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(vs),Ce(bO),Ce(gs),Ce(WP),Ce(oS))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const aS=new et("");let $P=(()=>{class n{constructor(t,r,i,s,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof py?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yl?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof nh&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof mP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new mP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){t0()};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();function $a(n,e){return{\u0275kind:n,\u0275providers:e}}function qP(){const n=nt(Fr);return e=>{const t=n.get($l);if(e!==t.components[0])return;const r=n.get(vs),i=n.get(KP);1===n.get(lS)&&r.initialNavigation(),n.get(YP,null,Wt.Optional)?.setUpPreloading(),n.get(aS,null,Wt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const KP=new et("",{factory:()=>new Ne}),lS=new et("",{providedIn:"root",factory:()=>1}),YP=new et("");function mK(n){return $a(0,[{provide:YP,useExisting:hK},{provide:WP,useExisting:n}])}const ZP=new et("ROUTER_FORROOT_GUARD"),vK=[Mp,{provide:zp,useClass:zE},vs,Yp,{provide:ih,useFactory:function GP(n){return n.routerState.root},deps:[vs]},oS,[]];function yK(){return new IO("Router",vs)}let cS=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[vK,[],{provide:lh,multi:!0,useValue:t},{provide:ZP,useFactory:EK,deps:[[vs,new P_,new L_]]},{provide:Sy,useValue:r||{}},r?.useHash?{provide:iu,useClass:O4}:{provide:iu,useClass:rN},{provide:aS,useFactory:()=>{const n=nt(QG),e=nt(zt),t=nt(Sy),r=nt(Ey),i=nt(zp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new $P(i,r,n,e,t)}},r?.preloadingStrategy?mK(r.preloadingStrategy).\u0275providers:[],{provide:IO,multi:!0,useFactory:yK},r?.initialNavigation?SK(r):[],r?.bindToComponentInputs?$a(8,[EP,{provide:vy,useExisting:EP}]).\u0275providers:[],[{provide:XP,useFactory:qP},{provide:iE,multi:!0,useExisting:XP}]]}}static forChild(t){return{ngModule:n,providers:[{provide:lh,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(ZP,8))};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({})}return n})();function EK(n){return"guarded"}function SK(n){return["disabled"===n.initialNavigation?$a(3,[{provide:Z0,multi:!0,useFactory:()=>{const e=nt(vs);return()=>{e.setUpLocationChangeListener()}}},{provide:lS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?$a(2,[{provide:lS,useValue:0},{provide:Z0,multi:!0,deps:[Fr],useFactory:e=>{const t=e.get(M4,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(vs),s=e.get(KP);jP(i,()=>{r(!0)}),e.get(Ey).afterPreactivation=()=>(r(!0),s.closed?gt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const XP=new et("");function QP(n,e,t,r,i,s,a){try{var c=n[s](a),u=c.value}catch(p){return void t(p)}c.done?e(u):Promise.resolve(u).then(r,i)}function Ae(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function a(u){QP(s,r,i,a,c,"next",u)}function c(u){QP(s,r,i,a,c,"throw",u)}a(void 0)})}}const tt=function(n,e){if(!n)throw ch(e)},ch=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},JP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},dS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],a=i+1<n.length,c=a?n[i+1]:0,u=i+2<n.length,p=u?n[i+2]:0;let w=(15&c)<<2|p>>6,I=63&p;u||(I=64,a||(w=64)),r.push(t[s>>2],t[(3&s)<<4|c>>4],t[w],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(JP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],a=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==c||null==p||null==_)throw new IK;r.push(s<<2|c>>4),64!==p&&(r.push(c<<4&240|p>>2),64!==_&&r.push(p<<6&192|_))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class IK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eL=function(n){const e=JP(n);return dS.encodeByteArray(e,!0)},Ty=function(n){return eL(n).replace(/\./g,"")},Iy=function(n){try{return dS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AK(n){return tL(void 0,n)}function tL(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!kK(t)||(n[t]=tL(n[t],e[t]));return n}function kK(n){return"__proto__"!==n}const Ay=()=>{try{return function xK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Iy(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},nL=n=>{var e,t;return null===(t=null===(e=Ay())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},rL=n=>{const e=nL(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},iL=()=>{var n;return null===(n=Ay())||void 0===n?void 0:n.config},sL=n=>{var e;return null===(e=Ay())||void 0===e?void 0:e[`_${n}`]};class ng{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function oL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ty(JSON.stringify({alg:"none",type:"JWT"})),Ty(JSON.stringify(a)),""].join(".")}function Xr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function hS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xr())}function lL(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class qa extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,qa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rg.prototype.create)}}class rg{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?function UK(n,e){return n.replace(VK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new qa(i,`${this.serviceName}: ${a} (${i}).`,r)}}const VK=/\{\$([^}]+)}/g;function ig(n){return JSON.parse(n)}function Qr(n){return JSON.stringify(n)}const ky=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=ig(Iy(s[0])||""),t=ig(Iy(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function Ka(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function uh(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function fS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function xy(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function My(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],a=e[i];if(cL(s)&&cL(a)){if(!My(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function cL(n){return null!==n&&"object"==typeof n}function sg(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function og(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ag(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class zK{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let _=0;_<16;_++)r[_]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let _=0;_<16;_++)r[_]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let _=16;_<80;_++){const w=r[_-3]^r[_-8]^r[_-14]^r[_-16];r[_]=4294967295&(w<<1|w>>>31)}let p,g,i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let _=0;_<80;_++){_<40?_<20?(p=c^s&(a^c),g=1518500249):(p=s^a^c,g=1859775393):_<60?(p=s&a|c&(s|a),g=2400959708):(p=s^a^c,g=3395469782);const w=(i<<5|i>>>27)+p+u+g+r[_]&4294967295;u=c,c=a,a=4294967295&(s<<30|s>>>2),s=i,i=w}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<t;){if(0===a)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<t;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class $K{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function GK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=pS),void 0===i.error&&(i.error=pS),void 0===i.complete&&(i.complete=pS);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pS(){}function dh(n,e){return`${n} failed: ${e} argument `}const Ry=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};function ui(n){return n&&n._delegate?n._delegate:n}class Zl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const uu="[DEFAULT]";class JK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ng;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function tY(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:uu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=uu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return Ae(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=uu){return this.instances.has(e)}getOptions(e=uu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,a]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&a.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===uu?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=uu){return this.component?this.component.multipleInstances?e:uu:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const gS=[];var Nn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Nn||{});const uL={debug:Nn.DEBUG,verbose:Nn.VERBOSE,info:Nn.INFO,warn:Nn.WARN,error:Nn.ERROR,silent:Nn.SILENT},rY=Nn.INFO,iY={[Nn.DEBUG]:"log",[Nn.VERBOSE]:"log",[Nn.INFO]:"info",[Nn.WARN]:"warn",[Nn.ERROR]:"error"},sY=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=iY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class mS{constructor(e){this.name=e,this._logLevel=rY,this._logHandler=sY,this._userLogHandler=null,gS.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?uL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nn.DEBUG,...e),this._logHandler(this,Nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nn.VERBOSE,...e),this._logHandler(this,Nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nn.INFO,...e),this._logHandler(this,Nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nn.WARN,...e),this._logHandler(this,Nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nn.ERROR,...e),this._logHandler(this,Nn.ERROR,...e)}}const oY=(n,e)=>e.some(t=>n instanceof t);let dL,hL;const fL=new WeakMap,_S=new WeakMap,pL=new WeakMap,vS=new WeakMap,yS=new WeakMap;let bS={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return _S.get(n);if("objectStoreNames"===e)return n.objectStoreNames||pL.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xl(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function fY(n){return"function"==typeof n?function hY(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lY(){return hL||(hL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(wS(this),e),Xl(fL.get(this))}:function(...e){return Xl(n.apply(wS(this),e))}:function(e,...t){const r=n.call(wS(this),e,...t);return pL.set(r,e.sort?e.sort():[e]),Xl(r)}}(n):(n instanceof IDBTransaction&&function uY(n){if(_S.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});_S.set(n,e)}(n),oY(n,function aY(){return dL||(dL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,bS):n)}function Xl(n){if(n instanceof IDBRequest)return function cY(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Xl(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&fL.set(t,n)}).catch(()=>{}),yS.set(e,n),e}(n);if(vS.has(n))return vS.get(n);const e=fY(n);return e!==n&&(vS.set(n,e),yS.set(e,n)),e}const wS=n=>yS.get(n),gY=["get","getKey","getAll","getAllKeys","count"],mY=["put","add","delete","clear"],CS=new Map;function gL(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(CS.get(e))return CS.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=mY.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!gY.includes(t))return;const s=function(){var a=Ae(function*(c,...u){const p=this.transaction(c,i?"readwrite":"readonly");let g=p.store;return r&&(g=g.index(u.shift())),(yield Promise.all([g[t](...u),i&&p.done]))[0]});return function(u){return a.apply(this,arguments)}}();return CS.set(e,s),s}!function dY(n){bS=n(bS)}(n=>({...n,get:(e,t,r)=>gL(e,t)||n.get(e,t,r),has:(e,t)=>!!gL(e,t)||n.has(e,t)}));class _Y{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function vY(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const ES="@firebase/app",du=new mS("@firebase/app"),Oy="[DEFAULT]",WY={[ES]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hu=new Map,Ny=new Map;function $Y(n,e){try{n.container.addComponent(e)}catch(t){du.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fu(n){const e=n.name;if(Ny.has(e))return du.debug(`There were multiple attempts to register component ${e}.`),!1;Ny.set(e,n);for(const t of hu.values())$Y(t,n);return!0}function lg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ya=new rg("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class qY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}const pu="10.4.0";function _L(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Oy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ya.create("bad-app-name",{appName:String(i)});if(t||(t=iL()),!t)throw Ya.create("no-options");const s=hu.get(i);if(s){if(My(t,s.options)&&My(r,s.config))return s;throw Ya.create("duplicate-app",{appName:i})}const a=new nY(i);for(const u of Ny.values())a.addComponent(u);const c=new qY(t,r,a);return hu.set(i,c),c}function SS(n=Oy){const e=hu.get(n);if(!e&&n===Oy&&iL())return _L();if(!e)throw Ya.create("no-app",{appName:n});return e}function ea(n,e,t){var r;let i=null!==(r=WY[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const c=[`Unable to register library "${i}" with version "${e}":`];return s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void du.warn(c.join(" "))}fu(new Zl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const KY="firebase-heartbeat-database",YY=1,cg="firebase-heartbeat-store";let TS=null;function vL(){return TS||(TS=function pY(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(n,e),c=Xl(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Xl(a.result),u.oldVersion,u.newVersion,Xl(a.transaction),u)}),t&&a.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}(KY,YY,{upgrade:(n,e)=>{0===e&&n.createObjectStore(cg)}}).catch(n=>{throw Ya.create("idb-open",{originalErrorMessage:n.message})})),TS}function IS(){return(IS=Ae(function*(n){try{return yield(yield vL()).transaction(cg).objectStore(cg).get(bL(n))}catch(e){if(e instanceof qa)du.warn(e.message);else{const t=Ya.create("idb-get",{originalErrorMessage:e?.message});du.warn(t.message)}}})).apply(this,arguments)}function yL(n,e){return AS.apply(this,arguments)}function AS(){return(AS=Ae(function*(n,e){try{const r=(yield vL()).transaction(cg,"readwrite");yield r.objectStore(cg).put(e,bL(n)),yield r.done}catch(t){if(t instanceof qa)du.warn(t.message);else{const r=Ya.create("idb-set",{originalErrorMessage:t?.message});du.warn(r.message)}}})).apply(this,arguments)}function bL(n){return`${n.name}!${n.options.appId}`}class JY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tZ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return Ae(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=wL();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return Ae(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=wL(),{heartbeatsToSend:r,unsentEntries:i}=function eZ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),CL(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),CL(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Ty(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function wL(){return(new Date).toISOString().substring(0,10)}class tZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return Ae(function*(){return!!function LK(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function FK(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return Ae(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ZY(n){return IS.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return Ae(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return yL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return Ae(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return yL(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function CL(n){return Ty(JSON.stringify({version:2,heartbeats:n})).length}!function nZ(n){fu(new Zl("platform-logger",e=>new _Y(e),"PRIVATE")),fu(new Zl("heartbeat",e=>new JY(e),"PRIVATE")),ea(ES,"0.9.19",n),ea(ES,"0.9.19","esm2017"),ea("fire-js","")}("");const EL="@firebase/database";let kS="";class rZ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qr(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ig(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class iZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ka(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const TL=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new rZ(e)}}catch{}return new iZ},gu=TL("localStorage"),xS=TL("sessionStorage"),hh=new mS("@firebase/database"),IL=function(){let n=1;return function(){return n++}}(),AL=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,tt(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new zK;t.update(e);const r=t.digest();return dS.encodeByteArray(r)},ug=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=ug.apply(null,r):e+="object"==typeof r?Qr(r):r,e+=" "}return e};let mu=null,kL=!0;const Jr=function(...n){if(!0===kL&&(kL=!1,null===mu&&!0===xS.get("logging_enabled")&&function(n,e){tt(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(hh.logLevel=Nn.VERBOSE,mu=hh.log.bind(hh),e&&xS.set("logging_enabled",!0)):"function"==typeof n?mu=n:(mu=null,xS.remove("logging_enabled"))}(!0)),mu){const e=ug.apply(null,n);mu(e)}},dg=function(n){return function(...e){Jr(n,...e)}},MS=function(...n){const e="FIREBASE INTERNAL ERROR: "+ug(...n);hh.error(e)},ta=function(...n){const e=`FIREBASE FATAL ERROR: ${ug(...n)}`;throw hh.error(e),new Error(e)},Ei=function(...n){const e="FIREBASE WARNING: "+ug(...n);hh.warn(e)},Py=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ql="[MIN_NAME]",Za="[MAX_NAME]",_u=function(n,e){if(n===e)return 0;if(n===Ql||e===Za)return-1;if(e===Ql||n===Za)return 1;{const t=OL(n),r=OL(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},aZ=function(n,e){return n===e?0:n<e?-1:1},hg=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Qr(e))},RS=function(n){if("object"!=typeof n||null===n)return Qr(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Qr(e[r]),t+=":",t+=RS(n[e[r]]);return t+="}",t},ML=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function ei(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const RL=function(n){tt(!Py(n),"Invalid JSON number");const r=1023;let i,s,a,c,u;0===n?(s=0,a=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=c+r,a=Math.round(n*Math.pow(2,52-c)-Math.pow(2,52))):(s=0,a=Math.round(n/Math.pow(2,-1074))));const p=[];for(u=52;u;u-=1)p.push(a%2?1:0),a=Math.floor(a/2);for(u=11;u;u-=1)p.push(s%2?1:0),s=Math.floor(s/2);p.push(i?1:0),p.reverse();const g=p.join("");let _="";for(u=0;u<64;u+=8){let w=parseInt(g.substr(u,8),2).toString(16);1===w.length&&(w="0"+w),_+=w}return _.toLowerCase()},dZ=new RegExp("^-?(0*)\\d{1,10}$"),OL=function(n){if(dZ.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},fh=function(n){try{n()}catch(e){setTimeout(()=>{throw Ei("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},fg=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class gZ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ei(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mZ{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Jr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ei(e)}}let pg=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const BL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,jL="websocket",HL="long_polling";class NS{constructor(e,t,r,i,s=!1,a="",c=!1,u=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=gu.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&gu.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function zL(n,e,t){let r;if(tt("string"==typeof e,"typeof type must == string"),tt("object"==typeof t,"typeof params must == object"),e===jL)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==HL)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function _Z(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return ei(t,(s,a)=>{i.push(s+"="+a)}),r+i.join("&")}class vZ{constructor(){this.counters_={}}incrementCounter(e,t=1){Ka(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return AK(this.counters_)}}const PS={},LS={};function FS(n){const e=n.toString();return PS[e]||(PS[e]=new vZ),PS[e]}class bZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&fh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Jl{constructor(e,t,r,i,s,a,c){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=dg(e),this.stats_=FS(t),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),zL(t,HL,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new bZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new BS((...s)=>{const[a,c,u,p,g]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===a)this.id=c,this.password=u;else{if("close"!==a)throw new Error("Unrecognized command received: "+a);c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[a,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,c)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&BL.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Jl.forceAllow_=!0}static forceDisallow(){Jl.forceDisallow_=!0}static isAvailable(){return!(!Jl.forceAllow_&&(Jl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Qr(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=eL(t),i=ML(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Qr(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class BS{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=IL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=BS.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){Jr("frame writing exception"),c.stack&&Jr(c.stack),Jr(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Jr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const a=this.pendingSegs.shift();r=r+"&seg"+i+"="+a.seg+"&ts"+i+"="+a.ts+"&d"+i+"="+a.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Jr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Fy=null;typeof MozWebSocket<"u"?Fy=MozWebSocket:typeof WebSocket<"u"&&(Fy=WebSocket);let ph=(()=>{class n{constructor(t,r,i,s,a,c,u){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=dg(this.connId),this.stats_=FS(r),this.connURL=n.connectionURL_(r,c,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,a){const c={v:"5"};return typeof location<"u"&&location.hostname&&BL.test(location.hostname)&&(c.r="f"),r&&(c.s=r),i&&(c.ls=i),s&&(c.ac=s),a&&(c.p=a),zL(t,jL,c)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,gu.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Fy(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Fy&&!n.forceDisallow_}static previouslyFailed(){return gu.isInMemoryStorage||!0===gu.get("previous_websocket_failure")}markConnectionHealthy(){gu.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=ig(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(tt(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Qr(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=ML(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),ZL=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Jl,ph]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=ph&&ph.isAvailable();let i=r&&!ph.previouslyFailed();if(t.webSocketOnly&&(r||Ei("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ph];else{const s=this.transports_=[];for(const a of n.ALL_TRANSPORTS)a&&a.isAvailable()&&s.push(a);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class rF{constructor(e,t,r,i,s,a,c,u,p,g){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=c,this.onDisconnect_=u,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=dg("c:"+this.id+":"),this.transportManager_=new ZL(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=fg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=hg("t",e),r=hg("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=hg("t",e),r=hg("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=hg("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?MS("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):MS("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Ei("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),fg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(gu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class iF{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class sF{constructor(e){this.allowedEvents_=e,this.listeners_={},tt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){tt(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class By extends sF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new By}getInitialEvent(e){return tt("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Tn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function yn(){return new Tn("")}function qt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ec(n){return n.pieces_.length-n.pieceNum_}function jn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Tn(n.pieces_,e)}function VS(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function gg(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function lF(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Tn(e,0)}function rr(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Tn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Tn(t,0)}function Kt(n){return n.pieceNum_>=n.pieces_.length}function Li(n,e){const t=qt(n),r=qt(e);if(null===t)return e;if(t===r)return Li(jn(n),jn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function jS(n,e){if(ec(n)!==ec(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Ys(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(ec(n)>ec(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class zZ{constructor(e,t){this.errorPrefix_=t,this.parts_=gg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Ry(this.parts_[r]);cF(this)}}function cF(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vu(n))}function vu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class HS extends sF{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new HS}getInitialEvent(e){return tt("visible"===e,"Unknown event type: "+e),[this.visible_]}}const mg=1e3;let Vy,yu=(()=>{class n extends iF{constructor(t,r,i,s,a,c,u,p){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=a,this.authTokenProvider_=c,this.appCheckTokenProvider_=u,this.authOverride_=p,this.id=n.nextPersistentConnectionId_++,this.log_=dg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mg,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");HS.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&By.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,a={r:s,a:t,b:r};this.log_(Qr(a)),tt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new ng,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:c=>{const u=c.d;"ok"===c.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const a=t._queryIdentifier,c=t._path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),tt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),tt(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(c).set(a,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const a={p:i};t.tag&&(a.q=r._queryObject,a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,u=>{const p=u.d,g=u.s;n.warnOnListenWarnings_(p,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",u),"ok"!==g&&this.removeListen_(i,s),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&Ka(t,"w")){const i=uh(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();Ei(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=ky(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=ky(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const a=s.s,c=s.d||"error";this.authToken_===t&&("ok"===a?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),tt(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const a={p:t};s&&(a.q=i,a.t=s),this.sendRequest("n",a)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const a={p:r,d:i};this.log_("onDisconnect "+t,a),this.sendRequest(t,a,c=>{s&&setTimeout(()=>{s(c.s,c.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,a){this.initConnection_();const c={p:r,d:i};void 0!==a&&(c.h=a),this.outstandingPuts_.push({action:t,request:c,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,a=>{this.log_(r+" response",a),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(a.s,a.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Qr(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):MS("Unrecognized action received from server: "+Qr(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){tt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mg,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=mg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=mg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return Ae(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),a=t.id+":"+n.nextConnectionId_++,c=t.lastSessionId;let u=!1,p=null;const g=function(){p?p.close():(u=!0,s())};t.realtime_={close:g,sendRequest:function(I){tt(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(I)}};const w=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[I,R]=yield Promise.all([t.authTokenProvider_.getToken(w),t.appCheckTokenProvider_.getToken(w)]);u?Jr("getToken() completed but was canceled"):(Jr("getToken() completed. Creating connection."),t.authToken_=I&&I.accessToken,t.appCheckToken_=R&&R.token,p=new rF(a,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,q=>{Ei(q+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},c))}catch(I){t.log_("Failed to get token: "+I),u||(t.repoInfo_.nodeAdmin&&Ei(I),g())}}})()}interrupt(t){Jr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Jr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],fS(this.interruptReasons_)&&(this.reconnectDelay_=mg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(a=>RS(a)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Tn(t).toString();let s;if(this.listens.has(i)){const a=this.listens.get(i);s=a.get(r),a.delete(r),0===a.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Jr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Jr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+kS.replace(/\./g,"-")]=1,hS()?t["framework.cordova"]=1:lL()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=By.getInstance().currentlyOnline();return fS(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Qt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Qt(e,t)}}class Uy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Qt(Ql,e),i=new Qt(Ql,t);return 0!==this.compare(r,i)}minPost(){return Qt.MIN}}class hF extends Uy{static get __EMPTY_NODE(){return Vy}static set __EMPTY_NODE(e){Vy=e}compare(e,t){return _u(e.name,t.name)}isDefinedOn(e){throw ch("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Qt.MIN}maxPost(){return new Qt(Za,Vy)}makePost(e,t){return tt("string"==typeof e,"KeyIndex indexValue must always be a string."),new Qt(e,Vy)}toString(){return".key"}}const na=new hF;class jy{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,i&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let WS,yo=(()=>{class n{constructor(t,r,i,s,a){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??Xi.EMPTY_NODE,this.right=a??Xi.EMPTY_NODE}copy(t,r,i,s,a){return new n(t??this.key,r??this.value,i??this.color,s??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const a=i(t,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===a?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Xi.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Xi{constructor(e,t=Xi.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Xi(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,yo.BLACK,null,null))}remove(e){return new Xi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,yo.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jy(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new jy(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new jy(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new jy(this.root_,null,this.comparator_,!0,e)}}function XZ(n,e){return _u(n.name,e.name)}function zS(n,e){return _u(n,e)}Xi.EMPTY_NODE=new class ZZ{copy(e,t,r,i,s){return this}insert(e,t,r){return new yo(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const fF=function(n){return"number"==typeof n?"number:"+RL(n):"string:"+n},pF=function(n){if(n.isLeafNode()){const e=n.val();tt("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ka(e,".sv"),"Priority must be a string or number.")}else tt(n===WS||n.isEmpty(),"priority of unexpected type.");tt(n===WS||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let gF,mF,_F,gh=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,tt(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),pF(this.priorityNode_)}static set __childrenNodeConstructor(t){gF=t}static get __childrenNodeConstructor(){return gF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Kt(t)?this:".priority"===qt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=qt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(tt(".priority"!==i||1===ec(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(jn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+fF(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?RL(this.value_):this.value_,this.lazyHash_=AL(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(tt(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),a=n.VALUE_TYPE_ORDER.indexOf(i);return tt(s>=0,"Unknown leaf type: "+r),tt(a>=0,"Unknown leaf type: "+i),s===a?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const qn=new class tX extends Uy{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?_u(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Qt.MIN}maxPost(){return new Qt(Za,new gh("[PRIORITY-POST]",_F))}makePost(e,t){const r=mF(e);return new Qt(t,new gh("[PRIORITY-POST]",r))}toString(){return".priority"}},nX=Math.log(2);class rX{constructor(e){this.count=parseInt(Math.log(e+1)/nX,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Hy=function(n,e,t,r){n.sort(e);const i=function(u,p){const g=p-u;let _,w;if(0===g)return null;if(1===g)return _=n[u],w=t?t(_):_,new yo(w,_.node,yo.BLACK,null,null);{const I=parseInt(g/2,10)+u,R=i(u,I),q=i(I+1,p);return _=n[I],w=t?t(_):_,new yo(w,_.node,yo.BLACK,R,q)}},c=function(u){let p=null,g=null,_=n.length;const w=function(R,q){const le=_-R,Te=_;_-=R;const me=i(le+1,Te),ze=n[le],Ze=t?t(ze):ze;I(new yo(Ze,ze.node,q,null,me))},I=function(R){p?(p.left=R,p=R):(g=R,p=R)};for(let R=0;R<u.count;++R){const q=u.nextBitIsOne(),le=Math.pow(2,u.count-(R+1));q?w(le,yo.BLACK):(w(le,yo.BLACK),w(le,yo.RED))}return g}(new rX(n.length));return new Xi(r||e,c)};let $S;const mh={};class Xa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return tt(mh&&qn,"ChildrenNode.ts has not been loaded"),$S=$S||new Xa({".priority":mh},{".priority":qn}),$S}get(e){const t=uh(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Xi?t:null}hasIndex(e){return Ka(this.indexSet_,e.toString())}addIndex(e,t){tt(e!==na,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Qt.Wrap);let c,a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();c=i?Hy(r,e.getCompare()):mh;const u=e.toString(),p=Object.assign({},this.indexSet_);p[u]=e;const g=Object.assign({},this.indexes_);return g[u]=c,new Xa(g,p)}addToIndexes(e,t){const r=xy(this.indexes_,(i,s)=>{const a=uh(this.indexSet_,s);if(tt(a,"Missing index implementation for "+s),i===mh){if(a.isDefinedOn(e.node)){const c=[],u=t.getIterator(Qt.Wrap);let p=u.getNext();for(;p;)p.name!==e.name&&c.push(p),p=u.getNext();return c.push(e),Hy(c,a.getCompare())}return mh}{const c=t.get(e.name);let u=i;return c&&(u=u.remove(new Qt(e.name,c))),u.insert(e,e.node)}});return new Xa(r,this.indexSet_)}removeFromIndexes(e,t){const r=xy(this.indexes_,i=>{if(i===mh)return i;{const s=t.get(e.name);return s?i.remove(new Qt(e.name,s)):i}});return new Xa(r,this.indexSet_)}}let _g,jt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&pF(this.priorityNode_),this.children_.isEmpty()&&tt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _g||(_g=new n(new Xi(zS),null,Xa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_g}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?_g:r}}getChild(t){const r=qt(t);return null===r?this:this.getImmediateChild(r).getChild(jn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(tt(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Qt(t,r);let s,a;r.isEmpty()?(s=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),a=this.indexMap_.addToIndexes(i,this.children_));const c=s.isEmpty()?_g:this.priorityNode_;return new n(s,c,a)}}updateChild(t,r){const i=qt(t);if(null===i)return r;{tt(".priority"!==qt(t)||1===ec(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(jn(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,a=!0;if(this.forEachChild(qn,(c,u)=>{r[c]=u.val(t),i++,a&&n.INTEGER_REGEXP_.test(c)?s=Math.max(s,Number(c)):a=!1}),!t&&a&&s<2*i){const c=[];for(const u in r)c[u]=r[u];return c}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+fF(this.getPriority().val())+":"),this.forEachChild(qn,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":AL(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const a=s.getPredecessorKey(new Qt(t,r));return a?a.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Qt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Qt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Qt.Wrap);let a=s.peek();for(;null!=a&&r.compare(a,t)<0;)s.getNext(),a=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Qt.Wrap);let a=s.peek();for(;null!=a&&r.compare(a,t)>0;)s.getNext(),a=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===vg?-1:0}withIndex(t){if(t===na||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===na||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(qn),s=r.getIterator(qn);let a=i.getNext(),c=s.getNext();for(;a&&c;){if(a.name!==c.name||!a.node.equals(c.node))return!1;a=i.getNext(),c=s.getNext()}return null===a&&null===c}return!1}return!1}}resolveIndex_(t){return t===na?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const vg=new class iX extends jt{constructor(){super(new Xi(zS),jt.EMPTY_NODE,Xa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return jt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Qt,{MIN:{value:new Qt(Ql,jt.EMPTY_NODE)},MAX:{value:new Qt(Za,vg)}}),hF.__EMPTY_NODE=jt.EMPTY_NODE,gh.__childrenNodeConstructor=jt,function QZ(n){WS=n}(vg),function eX(n){_F=n}(vg);const sX=!0;function hr(n,e=null){if(null===n)return jt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),tt(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new gh(n,hr(e));if(n instanceof Array||!sX){let t=jt.EMPTY_NODE;return ei(n,(r,i)=>{if(Ka(n,r)&&"."!==r.substring(0,1)){const s=hr(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(hr(e))}{const t=[];let r=!1;if(ei(n,(a,c)=>{if("."!==a.substring(0,1)){const u=hr(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),t.push(new Qt(a,u)))}}),0===t.length)return jt.EMPTY_NODE;const s=Hy(t,XZ,a=>a.name,zS);if(r){const a=Hy(t,qn.getCompare());return new jt(s,hr(e),new Xa({".priority":a},{".priority":qn}))}return new jt(s,hr(e),Xa.Default)}}!function JZ(n){mF=n}(hr);class GS extends Uy{constructor(e){super(),this.indexPath_=e,tt(!Kt(e)&&".priority"!==qt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?_u(e.name,t.name):s}makePost(e,t){const r=hr(e),i=jt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Qt(t,i)}maxPost(){const e=jt.EMPTY_NODE.updateChild(this.indexPath_,vg);return new Qt(Za,e)}toString(){return gg(this.indexPath_,0).join("/")}}const qS=new class oX extends Uy{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?_u(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Qt.MIN}maxPost(){return Qt.MAX}makePost(e,t){const r=hr(e);return new Qt(t,r)}toString(){return".value"}};function vF(n){return{type:"value",snapshotNode:n}}function _h(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function yg(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function bg(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class KS{constructor(e){this.index_=e}updateChild(e,t,r,i,s,a){tt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(t);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(null!=a&&(r.isEmpty()?e.hasChild(t)?a.trackChildChange(yg(t,c)):tt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(_h(t,r)):a.trackChildChange(bg(t,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(qn,(i,s)=>{t.hasChild(i)||r.trackChildChange(yg(i,s))}),t.isLeafNode()||t.forEachChild(qn,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(bg(i,s,a))}else r.trackChildChange(_h(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?jt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wg{constructor(e){this.indexedFilter_=new KS(e.getIndex()),this.index_=e.getIndex(),this.startPost_=wg.getStartPost_(e),this.endPost_=wg.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,a){return this.matches(new Qt(t,r))||(r=jt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,a)}updateFullNode(e,t,r){t.isLeafNode()&&(t=jt.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(jt.EMPTY_NODE);const s=this;return t.forEachChild(qn,(a,c)=>{s.matches(new Qt(a,c))||(i=i.updateImmediateChild(a,jt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class lX{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new wg(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,a){return this.rangedFilter_.matches(new Qt(t,r))||(r=jt.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,a):this.fullLimitUpdateChild_(e,t,r,s,a)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=jt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;i=jt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c)){if(!this.withinDirectionalEnd(c))break;i=i.updateImmediateChild(c.name,c.node),a++}}}else{let s;i=t.withIndex(this.index_),i=i.updatePriority(jt.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let a=0;for(;s.hasNext();){const c=s.getNext();a<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?a++:i=i.updateImmediateChild(c.name,jt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let a;if(this.reverse_){const _=this.index_.getCompare();a=(w,I)=>_(I,w)}else a=this.index_.getCompare();const c=e;tt(c.numChildren()===this.limit_,"");const u=new Qt(t,r),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(u);if(c.hasChild(t)){const _=c.getImmediateChild(t);let w=i.getChildAfterChild(this.index_,p,this.reverse_);for(;null!=w&&(w.name===t||c.hasChild(w.name));)w=i.getChildAfterChild(this.index_,w,this.reverse_);const I=null==w?1:a(w,u);if(g&&!r.isEmpty()&&I>=0)return s?.trackChildChange(bg(t,r,_)),c.updateImmediateChild(t,r);{s?.trackChildChange(yg(t,_));const q=c.updateImmediateChild(t,jt.EMPTY_NODE);return null!=w&&this.rangedFilter_.matches(w)?(s?.trackChildChange(_h(w.name,w.node)),q.updateImmediateChild(w.name,w.node)):q}}return r.isEmpty()?e:g&&a(p,u)>=0?(null!=s&&(s.trackChildChange(yg(p.name,p.node)),s.trackChildChange(_h(t,r))),c.updateImmediateChild(t,r).updateImmediateChild(p.name,jt.EMPTY_NODE)):e}}class YS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return tt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return tt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ql}hasEnd(){return this.endSet_}getIndexEndValue(){return tt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return tt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Za}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return tt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qn}copy(){const e=new YS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yF(n){const e={};if(n.isDefault())return e;let t;if(n.index_===qn?t="$priority":n.index_===qS?t="$value":n.index_===na?t="$key":(tt(n.index_ instanceof GS,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Qr(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=Qr(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Qr(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Qr(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Qr(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function bF(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==qn&&(e.i=n.index_.toString()),e}class Wy extends iF{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=dg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(tt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=Wy.getListenId_(e,r),c={};this.listens_[a]=c;const u=yF(e._queryParams);this.restRequest_(s+".json",u,(p,g)=>{let _=g;if(404===p&&(_=null,p=null),null===p&&this.onDataUpdate_(s,_,!1,r),uh(this.listens_,a)===c){let w;w=p?401===p?"permission_denied":"rest_error:"+p:"ok",i(w,null)}})}unlisten(e,t){const r=Wy.getListenId_(e,t);delete this.listens_[r]}get(e){const t=yF(e._queryParams),r=e._path.toString(),i=new ng;return this.restRequest_(r+".json",t,(s,a)=>{let c=a;404===s&&(c=null,s=null),null===s?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+sg(t);this.log_("Sending REST request for "+a);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&4===c.readyState){this.log_("REST Response for "+a+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=ig(c.responseText)}catch{Ei("Failed to parse JSON response for "+a+": "+c.responseText)}r(null,u)}else 401!==c.status&&404!==c.status&&Ei("Got unsuccessful REST response for "+a+" Status: "+c.status),r(c.status);r=null}},c.open("GET",a,!0),c.send()})}}class pX{constructor(){this.rootNode_=jt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function $y(){return{value:null,children:new Map}}function vh(n,e,t){if(Kt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=qt(e);n.children.has(r)||n.children.set(r,$y()),vh(n.children.get(r),e=jn(e),t)}}function JS(n,e,t){null!==n.value?t(e,n.value):function gX(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{JS(i,new Tn(e.toString()+"/"+r),t)})}class mX{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ei(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class yX{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new mX(e);const r=1e4+2e4*Math.random();fg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;ei(e,(i,s)=>{s>0&&Ka(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),fg(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ra=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(ra||{});function nD(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Gy{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=ra.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Kt(this.path)){if(null!=this.affectedTree.value)return tt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Tn(e));return new Gy(yn(),t,this.revert)}}return tt(qt(this.path)===e,"operationForChild called for unrelated child."),new Gy(jn(this.path),this.affectedTree,this.revert)}}class Cg{constructor(e,t){this.source=e,this.path=t,this.type=ra.LISTEN_COMPLETE}operationForChild(e){return Kt(this.path)?new Cg(this.source,yn()):new Cg(this.source,jn(this.path))}}class bu{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=ra.OVERWRITE}operationForChild(e){return Kt(this.path)?new bu(this.source,yn(),this.snap.getImmediateChild(e)):new bu(this.source,jn(this.path),this.snap)}}class yh{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=ra.MERGE}operationForChild(e){if(Kt(this.path)){const t=this.children.subtree(new Tn(e));return t.isEmpty()?null:t.value?new bu(this.source,yn(),t.value):new yh(this.source,yn(),t)}return tt(qt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new yh(this.source,jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tc{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Kt(e))return this.isFullyInitialized()&&!this.filtered_;const t=qt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class bX{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Eg(n,e,t,r,i,s){const a=r.filter(c=>c.type===t);a.sort((c,u)=>function EX(n,e,t){if(null==e.childName||null==t.childName)throw ch("Should only compare child_ events.");const r=new Qt(e.childName,e.snapshotNode),i=new Qt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,c,u)),a.forEach(c=>{const u=function CX(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,c,s);i.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(u,n.query_))})})}function qy(n,e){return{eventCache:n,serverCache:e}}function Sg(n,e,t,r){return qy(new tc(e,t,r),n.serverCache)}function CF(n,e,t,r){return qy(n.eventCache,new tc(e,t,r))}function Ky(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function wu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rD;class Kn{constructor(e,t=(()=>(rD||(rD=new Xi(aZ)),rD))()){this.value=e,this.children=t}static fromObject(e){let t=new Kn(null);return ei(e,(r,i)=>{t=t.set(new Tn(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:yn(),value:this.value};if(Kt(e))return null;{const r=qt(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(jn(e),t);return null!=s?{path:rr(new Tn(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Kt(e))return this;{const t=qt(e),r=this.children.get(t);return null!==r?r.subtree(jn(e)):new Kn(null)}}set(e,t){if(Kt(e))return new Kn(t,this.children);{const r=qt(e),s=(this.children.get(r)||new Kn(null)).set(jn(e),t),a=this.children.insert(r,s);return new Kn(this.value,a)}}remove(e){if(Kt(e))return this.children.isEmpty()?new Kn(null):new Kn(null,this.children);{const t=qt(e),r=this.children.get(t);if(r){const i=r.remove(jn(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new Kn(null):new Kn(this.value,s)}return this}}get(e){if(Kt(e))return this.value;{const t=qt(e),r=this.children.get(t);return r?r.get(jn(e)):null}}setTree(e,t){if(Kt(e))return t;{const r=qt(e),s=(this.children.get(r)||new Kn(null)).setTree(jn(e),t);let a;return a=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new Kn(this.value,a)}}fold(e){return this.fold_(yn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(rr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,yn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Kt(e))return null;{const s=qt(e),a=this.children.get(s);return a?a.findOnPath_(jn(e),rr(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,yn(),t)}foreachOnPath_(e,t,r){if(Kt(e))return this;{this.value&&r(t,this.value);const i=qt(e),s=this.children.get(i);return s?s.foreachOnPath_(jn(e),rr(t,i),r):new Kn(null)}}foreach(e){this.foreach_(yn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(rr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class bo{constructor(e){this.writeTree_=e}static empty(){return new bo(new Kn(null))}}function Dg(n,e,t){if(Kt(e))return new bo(new Kn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const a=Li(i,e);return s=s.updateChild(a,t),new bo(n.writeTree_.set(i,s))}{const i=new Kn(t),s=n.writeTree_.setTree(e,i);return new bo(s)}}}function iD(n,e,t){let r=n;return ei(t,(i,s)=>{r=Dg(r,rr(e,i),s)}),r}function EF(n,e){if(Kt(e))return bo.empty();{const t=n.writeTree_.setTree(e,new Kn(null));return new bo(t)}}function sD(n,e){return null!=Cu(n,e)}function Cu(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Li(t.path,e)):null}function SF(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(qn,(r,i)=>{e.push(new Qt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Qt(r,i.value))}),e}function nc(n,e){if(Kt(e))return n;{const t=Cu(n,e);return new bo(null!=t?new Kn(t):n.writeTree_.subtree(e))}}function oD(n){return n.writeTree_.isEmpty()}function bh(n,e){return DF(yn(),n.writeTree_,e)}function DF(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(tt(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=DF(rr(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(rr(n,".priority"),r)),t}}function Yy(n,e){return xF(e,n)}function kX(n,e){if(n.snap)return Ys(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ys(rr(n.path,t),e))return!0;return!1}function MX(n){return n.visible}function TF(n,e,t){let r=bo.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const a=s.path;let c;if(s.snap)Ys(t,a)?(c=Li(t,a),r=Dg(r,c,s.snap)):Ys(a,t)&&(c=Li(a,t),r=Dg(r,yn(),s.snap.getChild(c)));else{if(!s.children)throw ch("WriteRecord should have .snap or .children");if(Ys(t,a))c=Li(t,a),r=iD(r,c,s.children);else if(Ys(a,t))if(c=Li(a,t),Kt(c))r=iD(r,yn(),s.children);else{const u=uh(s.children,qt(c));if(u){const p=u.getChild(jn(c));r=Dg(r,yn(),p)}}}}}return r}function IF(n,e,t,r,i){if(r||i){const s=nc(n.visibleWrites,e);return!i&&oD(s)?t:i||null!=t||sD(s,yn())?bh(TF(n.allWrites,function(p){return(p.visible||i)&&(!r||!~r.indexOf(p.writeId))&&(Ys(p.path,e)||Ys(e,p.path))},e),t||jt.EMPTY_NODE):null}{const s=Cu(n.visibleWrites,e);if(null!=s)return s;{const a=nc(n.visibleWrites,e);return oD(a)?t:null!=t||sD(a,yn())?bh(a,t||jt.EMPTY_NODE):null}}}function Zy(n,e,t,r){return IF(n.writeTree,n.treePath,e,t,r)}function aD(n,e){return function RX(n,e,t){let r=jt.EMPTY_NODE;const i=Cu(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(qn,(s,a)=>{r=r.updateImmediateChild(s,a)}),r;if(t){const s=nc(n.visibleWrites,e);return t.forEachChild(qn,(a,c)=>{const u=bh(nc(s,new Tn(a)),c);r=r.updateImmediateChild(a,u)}),SF(s).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}return SF(nc(n.visibleWrites,e)).forEach(a=>{r=r.updateImmediateChild(a.name,a.node)}),r}(n.writeTree,n.treePath,e)}function AF(n,e,t,r){return function OX(n,e,t,r,i){tt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=rr(e,t);if(sD(n.visibleWrites,s))return null;{const a=nc(n.visibleWrites,s);return oD(a)?i.getChild(t):bh(a,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Xy(n,e){return function PX(n,e){return Cu(n.visibleWrites,e)}(n.writeTree,rr(n.treePath,e))}function lD(n,e,t){return function NX(n,e,t,r){const i=rr(e,t),s=Cu(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?bh(nc(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function kF(n,e){return xF(rr(n.treePath,e),n.writeTree)}function xF(n,e){return{treePath:n,writeTree:e}}class UX{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;tt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),tt(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,bg(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,yg(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,_h(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw ch("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,bg(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const MF=new class VX{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class cD{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new tc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return lD(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:wu(this.viewCache_),s=function BX(n,e,t,r,i,s){return function LX(n,e,t,r,i,s,a){let c;const u=nc(n.visibleWrites,e),p=Cu(u,yn());if(null!=p)c=p;else{if(null==t)return[];c=bh(u,t)}if(c=c.withIndex(a),c.isEmpty()||c.isLeafNode())return[];{const g=[],_=a.getCompare(),w=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a);let I=w.getNext();for(;I&&g.length<i;)0!==_(I,r)&&g.push(I),I=w.getNext();return g}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function RF(n,e,t,r,i,s){const a=e.eventCache;if(null!=Xy(r,t))return e;{let c,u;if(Kt(t))if(tt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=wu(e),_=aD(r,p instanceof jt?p:jt.EMPTY_NODE);c=n.filter.updateFullNode(e.eventCache.getNode(),_,s)}else{const p=Zy(r,wu(e));c=n.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const p=qt(t);if(".priority"===p){tt(1===ec(t),"Can't have a priority with additional path components");const g=a.getNode();u=e.serverCache.getNode();const _=AF(r,t,g,u);c=null!=_?n.filter.updatePriority(g,_):a.getNode()}else{const g=jn(t);let _;if(a.isCompleteForChild(p)){u=e.serverCache.getNode();const w=AF(r,t,a.getNode(),u);_=null!=w?a.getNode().getImmediateChild(p).updateChild(g,w):a.getNode().getImmediateChild(p)}else _=lD(r,p,e.serverCache);c=null!=_?n.filter.updateChild(a.getNode(),p,_,g,i,s):a.getNode()}}return Sg(e,c,a.isFullyInitialized()||Kt(t),n.filter.filtersNodes())}}function Qy(n,e,t,r,i,s,a,c){const u=e.serverCache;let p;const g=a?n.filter:n.filter.getIndexedFilter();if(Kt(t))p=g.updateFullNode(u.getNode(),r,null);else if(g.filtersNodes()&&!u.isFiltered()){const I=u.getNode().updateChild(t,r);p=g.updateFullNode(u.getNode(),I,null)}else{const I=qt(t);if(!u.isCompleteForPath(t)&&ec(t)>1)return e;const R=jn(t),le=u.getNode().getImmediateChild(I).updateChild(R,r);p=".priority"===I?g.updatePriority(u.getNode(),le):g.updateChild(u.getNode(),I,le,R,MF,null)}const _=CF(e,p,u.isFullyInitialized()||Kt(t),g.filtersNodes());return RF(n,_,t,i,new cD(i,_,s),c)}function uD(n,e,t,r,i,s,a){const c=e.eventCache;let u,p;const g=new cD(i,e,s);if(Kt(t))p=n.filter.updateFullNode(e.eventCache.getNode(),r,a),u=Sg(e,p,!0,n.filter.filtersNodes());else{const _=qt(t);if(".priority"===_)p=n.filter.updatePriority(e.eventCache.getNode(),r),u=Sg(e,p,c.isFullyInitialized(),c.isFiltered());else{const w=jn(t),I=c.getNode().getImmediateChild(_);let R;if(Kt(w))R=r;else{const q=g.getCompleteChild(_);R=null!=q?".priority"===VS(w)&&q.getChild(lF(w)).isEmpty()?q:q.updateChild(w,r):jt.EMPTY_NODE}u=I.equals(R)?e:Sg(e,n.filter.updateChild(c.getNode(),_,R,w,g,a),c.isFullyInitialized(),n.filter.filtersNodes())}}return u}function OF(n,e){return n.eventCache.isCompleteForChild(e)}function NF(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function dD(n,e,t,r,i,s,a,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p,u=e;p=Kt(t)?r:new Kn(null).setTree(t,r);const g=e.serverCache.getNode();return p.children.inorderTraversal((_,w)=>{if(g.hasChild(_)){const R=NF(0,e.serverCache.getNode().getImmediateChild(_),w);u=Qy(n,u,new Tn(_),R,i,s,a,c)}}),p.children.inorderTraversal((_,w)=>{const I=!e.serverCache.isCompleteForChild(_)&&null===w.value;if(!g.hasChild(_)&&!I){const q=NF(0,e.serverCache.getNode().getImmediateChild(_),w);u=Qy(n,u,new Tn(_),q,i,s,a,c)}}),u}class YX{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new KS(r.getIndex()),s=function cX(n){return n.loadsAllData()?new KS(n.getIndex()):n.hasLimit()?new lX(n):new wg(n)}(r);this.processor_=function jX(n){return{filter:n}}(s);const a=t.serverCache,c=t.eventCache,u=i.updateFullNode(jt.EMPTY_NODE,a.getNode(),null),p=s.updateFullNode(jt.EMPTY_NODE,c.getNode(),null),g=new tc(u,a.isFullyInitialized(),i.filtersNodes()),_=new tc(p,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=qy(_,g),this.eventGenerator_=new bX(this.query_)}get query(){return this.query_}}function QX(n,e){const t=wu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Kt(e)&&!t.getImmediateChild(qt(e)).isEmpty())?t.getChild(e):null}function PF(n){return 0===n.eventRegistrations_.length}function LF(n,e,t){const r=[];if(t){tt(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(t,i);a&&r.push(a)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){const a=n.eventRegistrations_[s];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}else i.push(a)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function FF(n,e,t,r){e.type===ra.MERGE&&null!==e.source.queryId&&(tt(wu(n.viewCache_),"We should always have a full cache before handling merges"),tt(Ky(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function zX(n,e,t,r,i){const s=new UX;let a,c;if(t.type===ra.OVERWRITE){const p=t;p.source.fromUser?a=uD(n,e,p.path,p.snap,r,i,s):(tt(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!Kt(p.path),a=Qy(n,e,p.path,p.snap,r,i,c,s))}else if(t.type===ra.MERGE){const p=t;p.source.fromUser?a=function $X(n,e,t,r,i,s,a){let c=e;return r.foreach((u,p)=>{const g=rr(t,u);OF(e,qt(g))&&(c=uD(n,c,g,p,i,s,a))}),r.foreach((u,p)=>{const g=rr(t,u);OF(e,qt(g))||(c=uD(n,c,g,p,i,s,a))}),c}(n,e,p.path,p.children,r,i,s):(tt(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),a=dD(n,e,p.path,p.children,r,i,c,s))}else if(t.type===ra.ACK_USER_WRITE){const p=t;a=p.revert?function KX(n,e,t,r,i,s){let a;if(null!=Xy(r,t))return e;{const c=new cD(r,e,i),u=e.eventCache.getNode();let p;if(Kt(t)||".priority"===qt(t)){let g;if(e.serverCache.isFullyInitialized())g=Zy(r,wu(e));else{const _=e.serverCache.getNode();tt(_ instanceof jt,"serverChildren would be complete if leaf node"),g=aD(r,_)}p=n.filter.updateFullNode(u,g,s)}else{const g=qt(t);let _=lD(r,g,e.serverCache);null==_&&e.serverCache.isCompleteForChild(g)&&(_=u.getImmediateChild(g)),p=null!=_?n.filter.updateChild(u,g,_,jn(t),c,s):e.eventCache.getNode().hasChild(g)?n.filter.updateChild(u,g,jt.EMPTY_NODE,jn(t),c,s):u,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=Zy(r,wu(e)),a.isLeafNode()&&(p=n.filter.updateFullNode(p,a,s)))}return a=e.serverCache.isFullyInitialized()||null!=Xy(r,yn()),Sg(e,p,a,n.filter.filtersNodes())}}(n,e,p.path,r,i,s):function GX(n,e,t,r,i,s,a){if(null!=Xy(i,t))return e;const c=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(Kt(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return Qy(n,e,t,u.getNode().getChild(t),i,s,c,a);if(Kt(t)){let p=new Kn(null);return u.getNode().forEachChild(na,(g,_)=>{p=p.set(new Tn(g),_)}),dD(n,e,t,p,i,s,c,a)}return e}{let p=new Kn(null);return r.foreach((g,_)=>{const w=rr(t,g);u.isCompleteForPath(w)&&(p=p.set(g,u.getNode().getChild(w)))}),dD(n,e,t,p,i,s,c,a)}}(n,e,p.path,p.affectedTree,r,i,s)}else{if(t.type!==ra.LISTEN_COMPLETE)throw ch("Unknown operation type: "+t.type);a=function qX(n,e,t,r,i){const s=e.serverCache;return RF(n,CF(e,s.getNode(),s.isFullyInitialized()||Kt(t),s.isFiltered()),t,r,MF,i)}(n,e,t.path,r,s)}const u=s.getChanges();return function WX(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ky(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(vF(Ky(e)))}}(e,a,u),{viewCache:a,changes:u}}(n.processor_,i,e,t,r);return function HX(n,e){tt(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),tt(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),tt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,BF(n,s.changes,s.viewCache.eventCache.getNode(),null)}function BF(n,e,t,r){return function wX(n,e,t,r){const i=[],s=[];return e.forEach(a=>{"child_changed"===a.type&&n.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(function aX(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(a.childName,a.snapshotNode))}),Eg(n,i,"child_removed",e,r,t),Eg(n,i,"child_added",e,r,t),Eg(n,i,"child_moved",s,r,t),Eg(n,i,"child_changed",e,r,t),Eg(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let Jy,tb;class UF{constructor(){this.views=new Map}}function hD(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return tt(null!=s,"SyncTree gave us an op for an invalid query."),FF(s,e,t,r)}{let s=[];for(const a of n.views.values())s=s.concat(FF(a,e,t,r));return s}}function iQ(n,e,t,r,i,s){const a=function VF(n,e,t,r,i){const a=n.views.get(e._queryIdentifier);if(!a){let c=Zy(t,i?r:null),u=!1;c?u=!0:r instanceof jt?(c=aD(t,r),u=!1):(c=jt.EMPTY_NODE,u=!1);const p=qy(new tc(c,u,!1),new tc(r,i,!1));return new YX(e,p)}return a}(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,a),function JX(n,e){n.eventRegistrations_.push(e)}(a,t),function eQ(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(qn,(s,a)=>{r.push(_h(s,a))}),t.isFullyInitialized()&&r.push(vF(t.getNode())),BF(n,r,t.getNode(),e)}(a,t)}function jF(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function rc(n,e){let t=null;for(const r of n.views.values())t=t||QX(r,e);return t}function HF(n,e){return e._queryParams.loadsAllData()?eb(n):n.views.get(e._queryIdentifier)}function zF(n,e){return null!=HF(n,e)}function ic(n){return null!=eb(n)}function eb(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let lQ=1;class WF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Kn(null),this.pendingWriteTree_=function FX(){return{visibleWrites:bo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fD(n,e,t,r,i){return function DX(n,e,t,r,i){tt(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Dg(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?wh(n,new bu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function sc(n,e,t=!1){const r=function IX(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function AX(n,e){const t=n.allWrites.findIndex(c=>c.writeId===e);tt(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,a=n.allWrites.length-1;for(;i&&a>=0;){const c=n.allWrites[a];c.visible&&(a>=t&&kX(c,r.path)?i=!1:Ys(r.path,c.path)&&(s=!0)),a--}return!!i&&(s?(function xX(n){n.visibleWrites=TF(n.allWrites,MX,yn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=EF(n.visibleWrites,r.path):ei(r.children,u=>{n.visibleWrites=EF(n.visibleWrites,rr(r.path,u))}),!0))}(n.pendingWriteTree_,e)){let s=new Kn(null);return null!=r.snap?s=s.set(yn(),!0):ei(r.children,a=>{s=s.set(new Tn(a),!0)}),wh(n,new Gy(r.path,s,t))}return[]}function Tg(n,e,t){return wh(n,new bu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function nb(n,e,t,r,i=!1){const s=e._path,a=n.syncPointTree_.get(s);let c=[];if(a&&("default"===e._queryIdentifier||zF(a,e))){const u=function sQ(n,e,t,r){const i=e._queryIdentifier,s=[];let a=[];const c=ic(n);if("default"===i)for(const[u,p]of n.views.entries())a=a.concat(LF(p,t,r)),PF(p)&&(n.views.delete(u),p.query._queryParams.loadsAllData()||s.push(p.query));else{const u=n.views.get(i);u&&(a=a.concat(LF(u,t,r)),PF(u)&&(n.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!ic(n)&&s.push(new(function nQ(){return tt(Jy,"Reference.ts has not been loaded"),Jy}())(e._repo,e._path)),{removed:s,events:a}}(a,e,t,r);(function rQ(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const p=u.removed;if(c=u.events,!i){const g=-1!==p.findIndex(w=>w._queryParams.loadsAllData()),_=n.syncPointTree_.findOnPath(s,(w,I)=>ic(I));if(g&&!_){const w=n.syncPointTree_.subtree(s);if(!w.isEmpty()){const I=function gQ(n){return n.fold((e,t,r)=>{if(t&&ic(t))return[eb(t)];{let i=[];return t&&(i=jF(t)),ei(r,(s,a)=>{i=i.concat(a)}),i}})}(w);for(let R=0;R<I.length;++R){const q=I[R],le=q.query,Te=KF(n,q);n.listenProvider_.startListening(Ag(le),Ig(n,le),Te.hashFn,Te.onComplete)}}}!_&&p.length>0&&!r&&(g?n.listenProvider_.stopListening(Ag(e),null):p.forEach(w=>{const I=n.queryToTagMap.get(ib(w));n.listenProvider_.stopListening(Ag(w),I)}))}!function mQ(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=ib(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function pD(n,e,t,r=!1){const i=e._path;let s=null,a=!1;n.syncPointTree_.foreachOnPath(i,(w,I)=>{const R=Li(w,i);s=s||rc(I,R),a=a||ic(I)});let u,c=n.syncPointTree_.get(i);c?(a=a||ic(c),s=s||rc(c,yn())):(c=new UF,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=s?u=!0:(u=!1,s=jt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((I,R)=>{const q=rc(R,yn());q&&(s=s.updateImmediateChild(I,q))}));const p=zF(c,e);if(!p&&!e._queryParams.loadsAllData()){const w=ib(e);tt(!n.queryToTagMap.has(w),"View does not exist, but we have a tag");const I=function _Q(){return lQ++}();n.queryToTagMap.set(w,I),n.tagToQueryMap.set(I,w)}let _=iQ(c,e,t,Yy(n.pendingWriteTree_,i),s,u);if(!p&&!a&&!r){const w=HF(c,e);_=_.concat(function vQ(n,e,t){const r=e._path,i=Ig(n,e),s=KF(n,t),a=n.listenProvider_.startListening(Ag(e),i,s.hashFn,s.onComplete),c=n.syncPointTree_.subtree(r);if(i)tt(!ic(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((p,g,_)=>{if(!Kt(p)&&g&&ic(g))return[eb(g).query];{let w=[];return g&&(w=w.concat(jF(g).map(I=>I.query))),ei(_,(I,R)=>{w=w.concat(R)}),w}});for(let p=0;p<u.length;++p){const g=u[p];n.listenProvider_.stopListening(Ag(g),Ig(n,g))}}return a}(n,e,w))}return _}function rb(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(a,c)=>{const p=rc(c,Li(a,e));if(p)return p});return IF(i,e,s,t,!0)}function wh(n,e){return GF(e,n.syncPointTree_,null,Yy(n.pendingWriteTree_,yn()))}function GF(n,e,t,r){if(Kt(n.path))return qF(n,e,t,r);{const i=e.get(yn());null==t&&null!=i&&(t=rc(i,yn()));let s=[];const a=qt(n.path),c=n.operationForChild(a),u=e.children.get(a);if(u&&c){const p=t?t.getImmediateChild(a):null,g=kF(r,a);s=s.concat(GF(c,u,p,g))}return i&&(s=s.concat(hD(i,n,r,t))),s}}function qF(n,e,t,r){const i=e.get(yn());null==t&&null!=i&&(t=rc(i,yn()));let s=[];return e.children.inorderTraversal((a,c)=>{const u=t?t.getImmediateChild(a):null,p=kF(r,a),g=n.operationForChild(a);g&&(s=s.concat(qF(g,c,u,p)))}),i&&(s=s.concat(hD(i,n,r,t))),s}function KF(n,e){const t=e.query,r=Ig(n,t);return{hashFn:()=>(function ZX(n){return n.viewCache_.serverCache.getNode()}(e)||jt.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function hQ(n,e,t){const r=gD(n,t);if(r){const i=mD(r),s=i.path,a=i.queryId,c=Li(s,e);return _D(n,s,new Cg(nD(a),c))}return[]}(n,t._path,r):function dQ(n,e){return wh(n,new Cg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function uZ(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return nb(n,t,null,s)}}}}function Ig(n,e){const t=ib(e);return n.queryToTagMap.get(t)}function ib(n){return n._path.toString()+"$"+n._queryIdentifier}function gD(n,e){return n.tagToQueryMap.get(e)}function mD(n){const e=n.indexOf("$");return tt(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Tn(n.substr(0,e))}}function _D(n,e,t){const r=n.syncPointTree_.get(e);return tt(r,"Missing sync point for query tag that we're tracking"),hD(r,t,Yy(n.pendingWriteTree_,e),null)}function Ag(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function aQ(){return tt(tb,"Reference.ts has not been loaded"),tb}())(n._repo,n._path):n}class vD{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new vD(t)}node(){return this.node_}}class yD{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=rr(this.path_,e);return new yD(this.syncTree_,t)}node(){return rb(this.syncTree_,this.path_)}}const yQ=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},YF=function(n,e,t){return n&&"object"==typeof n?(tt(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?bQ(n[".sv"],e,t):"object"==typeof n[".sv"]?wQ(n[".sv"],e):void tt(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},bQ=function(n,e,t){if("timestamp"===n)return t.timestamp;tt(!1,"Unexpected server value: "+n)},wQ=function(n,e,t){n.hasOwnProperty("increment")||tt(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&tt(!1,"Unexpected increment value: "+r);const i=e.node();if(tt(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const a=i.getValue();return"number"!=typeof a?r:a+r},ZF=function(n,e,t,r){return wD(e,new yD(t,n),r)},bD=function(n,e,t){return wD(n,new vD(e),t)};function wD(n,e,t){const r=n.getPriority().val(),i=YF(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const a=n,c=YF(a.getValue(),e,t);return c!==a.getValue()||i!==a.getPriority().val()?new gh(c,hr(i)):n}{const a=n;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new gh(i))),a.forEachChild(qn,(c,u)=>{const p=wD(u,e.getImmediateChild(c),t);p!==u&&(s=s.updateImmediateChild(c,p))}),s}}class CD{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function sb(n,e){let t=e instanceof Tn?e:new Tn(e),r=n,i=qt(t);for(;null!==i;){const s=uh(r.node.children,i)||{children:{},childCount:0};r=new CD(i,r,s),t=jn(t),i=qt(t)}return r}function Eu(n){return n.node.value}function ED(n,e){n.node.value=e,SD(n)}function XF(n){return n.node.childCount>0}function ob(n,e){ei(n.node.children,(t,r)=>{e(new CD(t,n,r))})}function QF(n,e,t,r){t&&!r&&e(n),ob(n,i=>{QF(i,e,!0,r)}),t&&r&&e(n)}function kg(n){return new Tn(null===n.parent?n.name:kg(n.parent)+"/"+n.name)}function SD(n){null!==n.parent&&function SQ(n,e,t){const r=function CQ(n){return void 0===Eu(n)&&!XF(n)}(t),i=Ka(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,SD(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,SD(n))}(n.parent,n.name,n)}const DQ=/[\[\].#$\/\u0000-\u001F\u007F]/,TQ=/[\[\].#$\u0000-\u001F\u007F]/,DD=10485760,ab=function(n){return"string"==typeof n&&0!==n.length&&!DQ.test(n)},JF=function(n){return"string"==typeof n&&0!==n.length&&!TQ.test(n)},Mg=function(n,e,t){const r=t instanceof Tn?new zZ(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+vu(r));if("function"==typeof e)throw new Error(n+"contains a function "+vu(r)+" with contents = "+e.toString());if(Py(e))throw new Error(n+"contains "+e.toString()+" "+vu(r));if("string"==typeof e&&e.length>DD/3&&Ry(e)>DD)throw new Error(n+"contains a string greater than "+DD+" utf8 bytes "+vu(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(ei(e,(a,c)=>{if(".value"===a)i=!0;else if(".priority"!==a&&".sv"!==a&&(s=!0,!ab(a)))throw new Error(n+" contains an invalid key ("+a+") "+vu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function WZ(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Ry(e),cF(n)})(r,a),Mg(n,c,r),function $Z(n){const e=n.parts_.pop();n.byteLength_-=Ry(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+vu(r)+" in addition to actual children.")}},ID=function(n,e,t,r){if(!(r&&void 0===t||JF(t)))throw new Error(dh(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},kQ=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ID(n,e,t,r)};class xQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lb(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!jS(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function n2(n,e,t){lb(n,t),r2(n,r=>jS(r,e))}function ys(n,e,t){lb(n,t),r2(n,r=>Ys(r,e)||Ys(e,r))}function r2(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(MQ(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function MQ(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();mu&&Jr("event: "+t.toString()),fh(r)}}}const RQ=25;class OQ{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$y(),this.transactionQueueTree_=new CD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function o2(n){const t=n.infoData_.getNode(new Tn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Og(n){return yQ({timestamp:o2(n)})}function a2(n,e,t,r,i){n.dataUpdateCount++;const s=new Tn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let a=[];if(i)if(r){const u=xy(t,p=>hr(p));a=function fQ(n,e,t,r){const i=gD(n,r);if(i){const s=mD(i),a=s.path,c=s.queryId,u=Li(a,e),p=Kn.fromObject(t);return _D(n,a,new yh(nD(c),u,p))}return[]}(n.serverSyncTree_,s,u,i)}else{const u=hr(t);a=function $F(n,e,t,r){const i=gD(n,r);if(null!=i){const s=mD(i),a=s.path,c=s.queryId,u=Li(a,e);return _D(n,a,new bu(nD(c),u,t))}return[]}(n.serverSyncTree_,s,u,i)}else if(r){const u=xy(t,p=>hr(p));a=function uQ(n,e,t){const r=Kn.fromObject(t);return wh(n,new yh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,u)}else{const u=hr(t);a=Tg(n.serverSyncTree_,s,u)}let c=s;a.length>0&&(c=Eh(n,s)),ys(n.eventQueue_,c,a)}function l2(n,e){AD(n,"connected",e),!1===e&&function BQ(n){Ch(n,"onDisconnectEvents");const e=Og(n),t=$y();JS(n.onDisconnect_,yn(),(i,s)=>{const a=ZF(i,s,n.serverSyncTree_,e);vh(t,i,a)});let r=[];JS(t,yn(),(i,s)=>{r=r.concat(Tg(n.serverSyncTree_,i,s));const a=RD(n,i);Eh(n,a)}),n.onDisconnect_=$y(),ys(n.eventQueue_,yn(),r)}(n)}function AD(n,e,t){const r=new Tn("/.info/"+e),i=hr(t);n.infoData_.updateSnapshot(r,i);const s=Tg(n.infoSyncTree_,r,i);ys(n.eventQueue_,r,s)}function cb(n){return n.nextWriteId_++}function kD(n,e,t,r,i){Ch(n,"set",{path:e.toString(),value:t,priority:r});const s=Og(n),a=hr(t,r),c=rb(n.serverSyncTree_,e),u=bD(a,c,s),p=cb(n),g=fD(n.serverSyncTree_,e,u,p,!0);lb(n.eventQueue_,g),n.server_.put(e.toString(),a.val(!0),(w,I)=>{const R="ok"===w;R||Ei("set at "+e+" failed: "+w);const q=sc(n.serverSyncTree_,p,!R);ys(n.eventQueue_,e,q),function oc(n,e,t,r){e&&fh(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const a=new Error(s);a.code=i,e(a)}})}(0,i,w,I)});const _=RD(n,e);Eh(n,_),ys(n.eventQueue_,_,[])}function xD(n,e,t){let r;r=".info"===qt(e._path)?nb(n.infoSyncTree_,e,t):nb(n.serverSyncTree_,e,t),n2(n.eventQueue_,e._path,r)}function Ch(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Jr(t,...e)}function MD(n,e,t){return rb(n.serverSyncTree_,e,t)||jt.EMPTY_NODE}function ub(n,e=n.transactionQueueTree_){if(e||db(n,e),Eu(e)){const t=h2(n,e);tt(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function $Q(n,e,t){const r=t.map(p=>p.currentWriteId),i=MD(n,e,r);let s=i;const a=i.hash();for(let p=0;p<t.length;p++){const g=t[p];tt(0===g.status,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const _=Li(e,g.path);s=s.updateChild(_,g.currentOutputSnapshotRaw)}const c=s.val(!0),u=e;n.server_.put(u.toString(),c,p=>{Ch(n,"transaction put response",{path:u.toString(),status:p});let g=[];if("ok"===p){const _=[];for(let w=0;w<t.length;w++)t[w].status=2,g=g.concat(sc(n.serverSyncTree_,t[w].currentWriteId)),t[w].onComplete&&_.push(()=>t[w].onComplete(null,!0,t[w].currentOutputSnapshotResolved)),t[w].unwatcher();db(n,sb(n.transactionQueueTree_,e)),ub(n,n.transactionQueueTree_),ys(n.eventQueue_,e,g);for(let w=0;w<_.length;w++)fh(_[w])}else{if("datastale"===p)for(let _=0;_<t.length;_++)t[_].status=3===t[_].status?4:0;else{Ei("transaction at "+u.toString()+" failed: "+p);for(let _=0;_<t.length;_++)t[_].status=4,t[_].abortReason=p}Eh(n,e)}},a)}(n,kg(e),t)}else XF(e)&&ob(e,t=>{ub(n,t)})}function Eh(n,e){const t=d2(n,e),r=kg(t);return function GQ(n,e,t){if(0===e.length)return;const r=[];let i=[];const a=e.filter(c=>0===c.status).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const u=e[c],p=Li(t,u.path);let _,g=!1;if(tt(null!==p,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)g=!0,_=u.abortReason,i=i.concat(sc(n.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=RQ)g=!0,_="maxretry",i=i.concat(sc(n.serverSyncTree_,u.currentWriteId,!0));else{const w=MD(n,u.path,a);u.currentInputSnapshot=w;const I=e[c].update(w.val());if(void 0!==I){Mg("transaction failed: Data returned ",I,u.path);let R=hr(I);"object"==typeof I&&null!=I&&Ka(I,".priority")||(R=R.updatePriority(w.getPriority()));const le=u.currentWriteId,Te=Og(n),me=bD(R,w,Te);u.currentOutputSnapshotRaw=R,u.currentOutputSnapshotResolved=me,u.currentWriteId=cb(n),a.splice(a.indexOf(le),1),i=i.concat(fD(n.serverSyncTree_,u.path,me,u.currentWriteId,u.applyLocally)),i=i.concat(sc(n.serverSyncTree_,le,!0))}else g=!0,_="nodata",i=i.concat(sc(n.serverSyncTree_,u.currentWriteId,!0))}ys(n.eventQueue_,t,i),i=[],g&&(e[c].status=2,setTimeout(e[c].unwatcher,Math.floor(0)),e[c].onComplete&&r.push("nodata"===_?()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot):()=>e[c].onComplete(new Error(_),!1,null)))}db(n,n.transactionQueueTree_);for(let c=0;c<r.length;c++)fh(r[c]);ub(n,n.transactionQueueTree_)}(n,h2(n,t),r),r}function d2(n,e){let t,r=n.transactionQueueTree_;for(t=qt(e);null!==t&&void 0===Eu(r);)r=sb(r,t),t=qt(e=jn(e));return r}function h2(n,e){const t=[];return f2(n,e,t),t.sort((r,i)=>r.order-i.order),t}function f2(n,e,t){const r=Eu(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);ob(e,i=>{f2(n,i,t)})}function db(n,e){const t=Eu(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,ED(e,t.length>0?t:void 0)}ob(e,r=>{db(n,r)})}function RD(n,e){const t=kg(d2(n,e)),r=sb(n.transactionQueueTree_,e);return function EQ(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{OD(n,i)}),OD(n,r),QF(r,i=>{OD(n,i)}),t}function OD(n,e){const t=Eu(e);if(t){const r=[];let i=[],s=-1;for(let a=0;a<t.length;a++)3===t[a].status||(1===t[a].status?(tt(s===a-1,"All SENT items should be at beginning of queue."),s=a,t[a].status=3,t[a].abortReason="set"):(tt(0===t[a].status,"Unexpected transaction status in abort"),t[a].unwatcher(),i=i.concat(sc(n.serverSyncTree_,t[a].currentWriteId,!0)),t[a].onComplete&&r.push(t[a].onComplete.bind(null,new Error("set"),!1,null))));-1===s?ED(e,void 0):t.length=s+1,ys(n.eventQueue_,kg(e),i);for(let a=0;a<r.length;a++)fh(r[a])}}const ND=function(n,e){const t=YQ(n),r=t.namespace;return"firebase.com"===t.domain&&ta(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ta("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ei("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new NS(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Tn(t.pathString)}},YQ=function(n){let e="",t="",r="",i="",s="",a=!0,c="https",u=443;if("string"==typeof n){let p=n.indexOf("//");p>=0&&(c=n.substring(0,p-1),n=n.substring(p+2));let g=n.indexOf("/");-1===g&&(g=n.length);let _=n.indexOf("?");-1===_&&(_=n.length),e=n.substring(0,Math.min(g,_)),g<_&&(i=function qQ(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(g,_)));const w=function KQ(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ei(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,_)));p=e.indexOf(":"),p>=0?(a="https"===c||"wss"===c,u=parseInt(e.substring(p+1),10)):p=e.length;const I=e.slice(0,p);if("localhost"===I.toLowerCase())t="localhost";else if(I.split(".").length<=2)t=I;else{const R=e.indexOf(".");r=e.substring(0,R).toLowerCase(),t=e.substring(R+1),s=r}"ns"in w&&(s=w.ns)}return{host:e,port:u,domain:t,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};class g2{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qr(this.snapshot.exportVal())}}class m2{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class PD{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return tt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class bs{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Kt(this._path)?null:VS(this._path)}get ref(){return new wo(this._repo,this._path)}get _queryIdentifier(){const e=bF(this._queryParams),t=RS(e);return"{}"===t?"default":t}get _queryObject(){return bF(this._queryParams)}isEqual(e){if(!((e=ui(e))instanceof bs))return!1;const t=this._repo===e._repo,r=jS(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function jZ(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class wo extends bs{constructor(e,t){super(e,t,new YS,!1)}get parent(){const e=lF(this._path);return null===e?null:new wo(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Su{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Tn(e),r=Sh(this.ref,e);return new Su(this._node.getChild(t),r,qn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Su(i,Sh(this.ref,r),qn)))}hasChild(e){const t=new Tn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qa(n,e){return(n=ui(n))._checkNotDeleted("ref"),void 0!==e?Sh(n._root,e):n._root}function Sh(n,e){return null===qt((n=ui(n))._path)?kQ("child","path",e,!1):ID("child","path",e,!1),new wo(n._repo,rr(n._path,e))}function lc(n,e){(function(n,e){if(".info"===qt(e))throw new Error(n+" failed = Can't modify data under /.info/")})("set",(n=ui(n))._path),function(n,e,t,r){r&&void 0===e||Mg(dh(n,"value"),e,t)}("set",e,n._path,!1);const t=new ng;return kD(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}class Ng{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new g2("value",this,new Su(e.snapshotNode,new wo(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new m2(this,e,t):null}matches(e){return e instanceof Ng&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class pb{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new m2(this,e,t):null}createEvent(e,t){tt(null!=e.childName,"Child events should have a childName.");const r=Sh(new wo(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new g2(e.type,this,new Su(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof pb&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function LD(n,e,t,r){return function Pg(n,e,t,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const u=t,p=(g,_)=>{xD(n._repo,n,c),u(g,_)};p.userCallback=t.userCallback,p.context=t.context,t=p}const a=new PD(t,s||void 0),c="value"===e?new Ng(a):new pb(e,a);return function HQ(n,e,t){let r;r=".info"===qt(e._path)?pD(n.infoSyncTree_,e,t):pD(n.serverSyncTree_,e,t),n2(n.eventQueue_,e._path,r)}(n._repo,n,c),()=>xD(n._repo,n,c)}(n,"value",e,t,r)}(function tQ(n){tt(!Jy,"__referenceConstructor has already been defined"),Jy=n})(wo),function oQ(n){tt(!tb,"__referenceConstructor has already been defined"),tb=n}(wo);const FD={};function b2(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||ta("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u,p,a=ND(s,i),c=a.repoInfo;typeof process<"u"&&process.env&&(p=process.env.FIREBASE_DATABASE_EMULATOR_HOST),p?(u=!0,s=`http://${p}?ns=${c.namespace}`,a=ND(s,i),c=a.repoInfo):u=!a.repoInfo.secure;const g=i&&u?new pg(pg.OWNER):new mZ(n.name,n.options,e);(function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!ab(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),JF(n)}(t))throw new Error(dh(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",a),Kt(a.path)||ta("Database URL must point to the root of a Firebase Database (not including a child path).");const _=function uJ(n,e,t,r){let i=FD[e.name];i||(i={},FD[e.name]=i);let s=i[n.toURLString()];return s&&ta("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new OQ(n,false,t,r),i[n.toURLString()]=s,s}(c,n,g,new gZ(n.name,t));return new hJ(_,n)}class hJ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function NQ(n,e,t){if(n.stats_=FS(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Wy(n.repoInfo_,(r,i,s,a)=>{a2(n,r,i,s,a)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>l2(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qr(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new yu(n.repoInfo_,e,(r,i,s,a)=>{a2(n,r,i,s,a)},r=>{l2(n,r)},r=>{!function PQ(n,e){ei(e,(t,r)=>{AD(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function yZ(n,e){const t=n.toString();return LS[t]||(LS[t]=e()),LS[t]}(n.repoInfo_,()=>new yX(n.stats_,n.server_)),n.infoData_=new pX,n.infoSyncTree_=new WF({startListening:(r,i,s,a)=>{let c=[];const u=n.infoData_.getNode(r._path);return u.isEmpty()||(c=Tg(n.infoSyncTree_,r._path,u),setTimeout(()=>{a("ok")},0)),c},stopListening:()=>{}}),AD(n,"connected",!1),n.serverSyncTree_=new WF({startListening:(r,i,s,a)=>(n.server_.listen(r,s,i,(c,u)=>{const p=a(c,u);ys(n.eventQueue_,r._path,p)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wo(this._repo,yn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function cJ(n,e){const t=FD[e];(!t||t[n.key]!==n)&&ta(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function u2(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ta("Cannot call "+e+" on a deleted database.")}}yu.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},yu.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function gJ(n){(function DL(n){kS=n})(pu),fu(new Zl("database",(e,{instanceIdentifier:t})=>b2(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),ea(EL,"1.0.1",n),ea(EL,"1.0.1","esm2017")}();const C2="firebasestorage.googleapis.com",E2="storageBucket";class fr extends qa{constructor(e,t,r=0){super(BD(e),`Firebase Storage: ${t} (${BD(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return BD(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ir=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(ir||{});function BD(n){return"storage/"+n}function UD(){return new fr(ir.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function VD(n){return new fr(ir.INVALID_ARGUMENT,n)}function I2(){return new fr(ir.APP_DELETED,"The Firebase app was deleted.")}function Lg(n,e){return new fr(ir.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Fg(n){throw new fr(ir.INTERNAL_ERROR,"Internal error: "+n)}class Fi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Fi.makeFromUrl(e,t)}catch{return new Fi(e,"")}if(""===r.path)return r;throw function IJ(n){return new fr(ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",c=new RegExp("^gs://"+i+"(/(.*))?$","i");function p(Ze){Ze.path_=decodeURIComponent(Ze.path)}const _=t.replace(/[.]/g,"\\."),ze=[{regex:c,indices:{bucket:1,path:3},postModify:function s(Ze){"/"===Ze.path.charAt(Ze.path.length-1)&&(Ze.path_=Ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${_}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:p},{regex:new RegExp(`^https?://${t===C2?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:p}];for(let Ze=0;Ze<ze.length;Ze++){const Tt=ze[Ze],$t=Tt.regex.exec(e);if($t){let Jn=$t[Tt.indices.path];Jn||(Jn=""),r=new Fi($t[Tt.indices.bucket],Jn),Tt.postModify(r);break}}if(null==r)throw function TJ(n){return new fr(ir.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class OJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function gb(n){return"string"==typeof n||n instanceof String}function A2(n){return jD()&&n instanceof Blob}function jD(){return typeof Blob<"u"&&!function aL(){var n;const e=null===(n=Ay())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function HD(n,e,t,r){if(r<e)throw VD(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw VD(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ja(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function k2(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Dh=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Dh||{});class UJ{constructor(e,t,r,i,s,a,c,u,p,g,_,w=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,R)=>{this.resolve_=I,this.reject_=R,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,a=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());!function LJ(n){return void 0!==n}(u)?s():s(u)}catch(u){a(u)}else if(null!==c){const u=UD();u.serverResponse=c.getErrorText(),a(this.errorCallback_?this.errorCallback_(c,u):u)}else a(i.canceled?this.appDelete_?I2():function D2(){return new fr(ir.CANCELED,"User canceled the upload/download.")}():function S2(){return new fr(ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new mb(!1,null,!0)):this.backoffId_=function NJ(n,e,t){let r=1,i=null,s=null,a=!1,c=0;function u(){return 2===c}let p=!1;function g(...le){p||(p=!0,e.apply(null,le))}function _(le){i=setTimeout(()=>{i=null,n(I,u())},le)}function w(){s&&clearTimeout(s)}function I(le,...Te){if(p)return void w();if(le)return w(),void g.call(null,le,...Te);if(u()||a)return w(),void g.call(null,le,...Te);let ze;r<64&&(r*=2),1===c?(c=2,ze=0):ze=1e3*(r+Math.random()),_(ze)}let R=!1;function q(le){R||(R=!0,w(),!p&&(null!==i?(le||(c=2),clearTimeout(i),_(0)):le||(c=1)))}return _(0),s=setTimeout(()=>{a=!0,q(!0)},t),q}((r,i)=>{if(i)return void r(!1,new mb(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const a=c=>{null!==this.progressCallback_&&this.progressCallback_(c.loaded,c.lengthComputable?c.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const c=s.getErrorCode()===Dh.NO_ERROR,u=s.getStatus();if(!c||function x2(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}(u,this.additionalRetryCodes_)&&this.retry){const g=s.getErrorCode()===Dh.ABORT;return void r(!1,new mb(!1,null,g))}const p=-1!==this.successCodes_.indexOf(u);r(!0,new mb(p,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function PJ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mb{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function GJ(...n){const e=function $J(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(jD())return new Blob(n);throw new fr(ir.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Co={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zD{constructor(e,t){this.data=e,this.contentType=t||null}}function M2(n,e){switch(n){case Co.RAW:return new zD(R2(e));case Co.BASE64:case Co.BASE64URL:return new zD(O2(n,e));case Co.DATA_URL:return new zD(function ZJ(n){const e=new N2(n);return e.base64?O2(Co.BASE64,e.rest):function YJ(n){let e;try{e=decodeURIComponent(n)}catch{throw Lg(Co.DATA_URL,"Malformed data URL.")}return R2(e)}(e.rest)}(e),function XJ(n){return new N2(n).contentType}(e))}throw UD()}function R2(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function O2(n,e){switch(n){case Co.BASE64:{const i=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(i||s)throw Lg(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Co.BASE64URL:{const i=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(i||s)throw Lg(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function KJ(n){if(typeof atob>"u")throw function MJ(n){return new fr(ir.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:Lg(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class N2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Lg(Co.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function QJ(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class el{constructor(e,t){let r=0,i="";A2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(A2(this.data_)){const i=function qJ(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new el(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new el(r,!0)}}static getBlob(...e){if(jD()){const t=e.map(r=>r instanceof el?r.data_:r);return new el(GJ.apply(null,t))}{const t=e.map(a=>gb(a)?M2(Co.RAW,a).data:a.data_);let r=0;t.forEach(a=>{r+=a.byteLength});const i=new Uint8Array(r);let s=0;return t.forEach(a=>{for(let c=0;c<a.length;c++)i[s++]=a[c]}),new el(i,!0)}}uploadData(){return this.data_}}function WD(n){let e;try{e=JSON.parse(n)}catch{return null}return function BJ(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function P2(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function tee(n,e){return e}class Bi{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||tee}}let _b=null;function Bg(){if(_b)return _b;const n=[];n.push(new Bi("bucket")),n.push(new Bi("generation")),n.push(new Bi("metageneration")),n.push(new Bi("name","fullPath",!0));const t=new Bi("name");t.xform=function e(s,a){return function nee(n){return!gb(n)||n.length<2?n:P2(n)}(a)},n.push(t);const i=new Bi("size");return i.xform=function r(s,a){return void 0!==a?Number(a):a},n.push(i),n.push(new Bi("timeCreated")),n.push(new Bi("updated")),n.push(new Bi("md5Hash",null,!0)),n.push(new Bi("cacheControl",null,!0)),n.push(new Bi("contentDisposition",null,!0)),n.push(new Bi("contentEncoding",null,!0)),n.push(new Bi("contentLanguage",null,!0)),n.push(new Bi("contentType",null,!0)),n.push(new Bi("metadata","customMetadata",!0)),_b=n,_b}function L2(n,e,t){const r=WD(e);return null===r?null:function iee(n,e,t){const r={type:"file"},i=t.length;for(let s=0;s<i;s++){const a=t[s];r[a.local]=a.xform(r,e[a.server])}return function ree(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Fi(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(r,n),r}(n,r,t)}class oa{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function aa(n){if(!n)throw UD()}function Th(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function SJ(){return new fr(ir.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function EJ(){return new fr(ir.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function CJ(n){return new fr(ir.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function DJ(n){return new fr(ir.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function H2(n,e,t,r,i){const s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},u=function c(){let ze="";for(let Ze=0;Ze<2;Ze++)ze+=Math.random().toString().slice(2);return ze}();a["Content-Type"]="multipart/related; boundary="+u;const p=function j2(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function pee(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,i),g=function $D(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}(p,t),I=el.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+g+"\r\n--"+u+"\r\nContent-Type: "+p.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===I)throw function T2(){return new fr(ir.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const R={name:p.fullPath},q=Ja(s,n.host,n._protocol),Te=n.maxUploadRetryTime,me=new oa(q,"POST",function vb(n,e){return function t(r,i){const s=L2(n,i,e);return aa(null!==s),s}}(n,t),Te);return me.urlParams=R,me.headers=a,me.body=I.uploadData(),me.errorHandler=Th(e),me}let W2=null;class yee{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Fg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class bee extends yee{initXhr(){this.xhr_.responseType="text"}}function Eo(){return W2?W2():new bee}class Du{constructor(e,t){this._service=e,this._location=t instanceof Fi?t:Fi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Du(e,t)}get root(){const e=new Fi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return P2(this._location.path)}get storage(){return this._service}get parent(){const e=function JJ(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Fi(this._location.bucket,e);return new Du(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function RJ(n){return new fr(ir.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Oee(n){n._throwIfRoot("getDownloadURL");const e=function dee(n,e,t){const i=Ja(e.fullServerUrl(),n.host,n._protocol),a=n.maxOperationRetryTime,c=new oa(i,"GET",function cee(n,e){return function t(r,i){const s=L2(n,i,e);return aa(null!==s),function see(n,e,t,r){const i=WD(e);if(null===i||!gb(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(p=>{const _=n.fullPath;return Ja("/b/"+a(n.bucket)+"/o/"+a(_),t,r)+k2({alt:"media",token:p})})[0]}(s,i,n.host,n._protocol)}}(n,t),a);return c.errorHandler=function Ug(n){const e=Th(n);return function t(r,i){let s=e(r,i);return 404===r.getStatus()&&(s=function wJ(n){return new fr(ir.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=i.serverResponse,s}}(e),c}(n.storage,n._location,Bg());return n.storage.makeRequestWithTokens(e,Eo).then(t=>{if(null===t)throw function xJ(){return new fr(ir.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function Y2(n,e){if(n instanceof YD){const t=n;if(null==t._bucket)throw function AJ(){return new fr(ir.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+E2+"' property when initializing the app?")}();const r=new Du(t,t._bucket);return null!=e?Y2(r,e):r}return void 0!==e?function K2(n,e){const t=function eee(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Fi(n._location.bucket,t);return new Du(n.storage,r)}(n,e):n}function Z2(n,e){const t=e?.[E2];return null==t?null:Fi.makeFromBucketSpec(t,n)}class YD{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=C2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Fi.makeFromBucketSpec(i,this._host):Z2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Fi.makeFromBucketSpec(this._url,e):Z2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return Ae(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return Ae(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Du(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new OJ(I2());{const a=function WJ(n,e,t,r,i,s,a=!0){const c=k2(n.urlParams),u=n.url+c,p=Object.assign({},n.headers);return function HJ(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function VJ(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function jJ(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(p,s),function zJ(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,r),new UJ(u,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,a)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return Ae(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const X2="@firebase/storage",J2="storage";function eB(n,e,t,r){return function kee(n,e,t=Co.RAW,r){n._throwIfRoot("uploadString");const i=M2(t,e),s=Object.assign({},r);return null==s.contentType&&null!=i.contentType&&(s.contentType=i.contentType),function $2(n,e,t){n._throwIfRoot("uploadBytes");const r=H2(n.storage,n._location,Bg(),new el(e,!0),t);return n.storage.makeRequestWithTokens(r,Eo).then(i=>({metadata:i,ref:n}))}(n,i.data,s)}(n=ui(n),e,t,r)}function ZD(n){return Oee(n=ui(n))}function Vg(n,e){return function Fee(n,e){if(e&&function Pee(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof YD)return function Lee(n,e){return new Du(n,e)}(n,e);throw VD("To use ref(service, url), the first argument must be a Storage instance.")}return Y2(n,e)}(n=ui(n),e)}function jee(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new YD(t,r,i,e,pu)}function nB(n){return void 0!==n&&void 0!==n.enterprise}!function Hee(){fu(new Zl(J2,jee,"PUBLIC").setMultipleInstances(!0)),ea(X2,"0.11.2",""),ea(X2,"0.11.2","esm2017")}(),ea("firebase","10.4.0","app");class rB{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}const $ee=function iB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},sB=new rg("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bb=new mS("@firebase/auth");function wb(n,...e){bb.logLevel<=Nn.ERROR&&bb.error(`Auth (${pu}): ${n}`,...e)}function Ji(n,...e){throw XD(n,...e)}function la(n,...e){return XD(n,...e)}function XD(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sB.create(n,...e)}function rt(n,e,...t){if(!n)throw XD(e,...t)}function ca(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wb(e),new Error(e)}function cc(n,e){n||ca(e)}function jg(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function aB(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function qee(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function QD(){return"http:"===aB()||"https:"===aB()}()||function NK(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Hg{constructor(e,t){this.shortDelay=e,this.longDelay=t,cc(t>e,"Short delay should be less than long delay!"),this.isMobile=hS()||lL()}get(){return qee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function JD(n,e){cc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class lB{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Yee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Zee=new Hg(3e4,6e4);function sr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function pr(n,e,t,r){return eT.apply(this,arguments)}function eT(){return(eT=Ae(function*(n,e,t,r,i={}){return cB(n,i,Ae(function*(){let s={},a={};r&&("GET"===e?a=r:s={body:JSON.stringify(r)});const c=sg(Object.assign({key:n.config.apiKey},a)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),lB.fetch()(uB(n,n.config.apiHost,t,c),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function cB(n,e,t){return tT.apply(this,arguments)}function tT(){return(tT=Ae(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Yee),e);try{const i=new Xee(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const a=yield s.json();if("needConfirmation"in a)throw zg(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const c=s.ok?a.errorMessage:a.error.message,[u,p]=c.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw zg(n,"credential-already-in-use",a);if("EMAIL_EXISTS"===u)throw zg(n,"email-already-in-use",a);if("USER_DISABLED"===u)throw zg(n,"user-disabled",a);const g=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw function oB(n,e,t){const r=Object.assign(Object.assign({},$ee()),{[e]:t});return new rg("auth","Firebase",r).create(e,{appName:n.name})}(n,g,p);Ji(n,g)}}catch(i){if(i instanceof qa)throw i;Ji(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function tl(n,e,t,r){return nT.apply(this,arguments)}function nT(){return(nT=Ae(function*(n,e,t,r,i={}){const s=yield pr(n,e,t,r,i);return"mfaPendingCredential"in s&&Ji(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function uB(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?JD(n.config,i):`${n.config.apiScheme}://${i}`}class Xee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(la(this.auth,"network-request-failed")),Zee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=la(n,e,r);return i.customData._tokenResponse=t,i}function dB(n,e){return iT.apply(this,arguments)}function iT(){return(iT=Ae(function*(n,e){return pr(n,"GET","/v2/recaptchaConfig",sr(n,e))})).apply(this,arguments)}function sT(){return(sT=Ae(function*(n,e){return pr(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function aT(){return(aT=Ae(function*(n,e){return pr(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Wg(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function lT(){return(lT=Ae(function*(n,e=!1){const t=ui(n),r=yield t.getIdToken(e),i=Cb(r);rt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Wg(cT(i.auth_time)),issuedAtTime:Wg(cT(i.iat)),expirationTime:Wg(cT(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function cT(n){return 1e3*Number(n)}function Cb(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return wb("JWT malformed, contained fewer than 3 sections"),null;try{const i=Iy(t);return i?JSON.parse(i):(wb("Failed to decode base64 JWT payload"),null)}catch(i){return wb("Caught error parsing JWT payload as JSON",i?.toString()),null}}function nl(n,e){return uT.apply(this,arguments)}function uT(){return(uT=Ae(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof qa&&function ite({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class ste{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(Ae(function*(){yield t.iteration()}),r)}iteration(){var e=this;return Ae(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class hB{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wg(this.lastLoginAt),this.creationTime=Wg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $g(n){return dT.apply(this,arguments)}function dT(){return dT=Ae(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield nl(n,function tte(n,e){return aT.apply(this,arguments)}(t,{idToken:r}));rt(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const a=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function lte(n){return n.map(e=>{var{providerId:t}=e,r=ke(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],c=function ate(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,a),g=!!n.isAnonymous&&!(n.email&&s.passwordHash||c?.length),_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new hB(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,_)}),dT.apply(this,arguments)}function hT(){return(hT=Ae(function*(n){const e=ui(n);yield $g(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function fT(){return(fT=Ae(function*(n,e){const t=yield cB(n,{},Ae(function*(){const r=sg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=uB(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",lB.fetch()(a,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Gg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function rte(n){const e=Cb(n);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return Ae(function*(){return rt(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return Ae(function*(){const{accessToken:i,refreshToken:s,expiresIn:a}=yield function cte(n,e){return fT.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(a))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new Gg;return r&&(rt("string"==typeof r,"internal-error",{appName:e}),a.refreshToken=r),i&&(rt("string"==typeof i,"internal-error",{appName:e}),a.accessToken=i),s&&(rt("number"==typeof s,"internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gg,this.toJSON())}_performRefresh(){return ca("not implemented")}}function uc(n,e){rt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Tu{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=ke(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ste(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hB(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return Ae(function*(){const r=yield nl(t,t.stsTokenManager.getToken(t.auth,e));return rt(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function nte(n){return lT.apply(this,arguments)}(this,e)}reload(){return function ote(n){return hT.apply(this,arguments)}(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Tu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return Ae(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield $g(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return Ae(function*(){const t=yield e.getIdToken();return yield nl(e,function Jee(n,e){return sT.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,c,u,p,g;const _=null!==(r=t.displayName)&&void 0!==r?r:void 0,w=null!==(i=t.email)&&void 0!==i?i:void 0,I=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,R=null!==(a=t.photoURL)&&void 0!==a?a:void 0,q=null!==(c=t.tenantId)&&void 0!==c?c:void 0,le=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,Te=null!==(p=t.createdAt)&&void 0!==p?p:void 0,me=null!==(g=t.lastLoginAt)&&void 0!==g?g:void 0,{uid:ze,emailVerified:Ze,isAnonymous:Tt,providerData:$t,stsTokenManager:gn}=t;rt(ze&&gn,e,"internal-error");const Jn=Gg.fromJSON(this.name,gn);rt("string"==typeof ze,e,"internal-error"),uc(_,e.name),uc(w,e.name),rt("boolean"==typeof Ze,e,"internal-error"),rt("boolean"==typeof Tt,e,"internal-error"),uc(I,e.name),uc(R,e.name),uc(q,e.name),uc(le,e.name),uc(Te,e.name),uc(me,e.name);const Ar=new Tu({uid:ze,auth:e,email:w,emailVerified:Ze,displayName:_,isAnonymous:Tt,photoURL:R,phoneNumber:I,tenantId:q,stsTokenManager:Jn,createdAt:Te,lastLoginAt:me});return $t&&Array.isArray($t)&&(Ar.providerData=$t.map(Es=>Object.assign({},Es))),le&&(Ar._redirectEventId=le),Ar}static _fromIdTokenResponse(e,t,r=!1){return Ae(function*(){const i=new Gg;i.updateFromServerResponse(t);const s=new Tu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $g(s),s})()}}const fB=new Map;function rl(n){cc(n instanceof Function,"Expected a class definition");let e=fB.get(n);return e?(cc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fB.set(n,e),e)}const pB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return Ae(function*(){return!0})()}_set(t,r){var i=this;return Ae(function*(){i.storage[t]=r})()}_get(t){var r=this;return Ae(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return Ae(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Eb(n,e,t){return`firebase:${n}:${e}:${t}`}class kh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Eb(this.userKey,i.apiKey,s),this.fullPersistenceKey=Eb("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return Ae(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Tu._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return Ae(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return Ae(function*(){if(!t.length)return new kh(rl(pB),e,r);const i=(yield Promise.all(t.map(function(){var p=Ae(function*(g){if(yield g._isAvailable())return g});return function(g){return p.apply(this,arguments)}}()))).filter(p=>p);let s=i[0]||rl(pB);const a=Eb(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const g=yield p._get(a);if(g){const _=Tu._fromJSON(e,g);p!==s&&(c=_),s=p;break}}catch{}const u=i.filter(p=>p._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],c&&(yield s._set(a,c.toJSON())),yield Promise.all(t.map(function(){var p=Ae(function*(g){if(g!==s)try{yield g._remove(a)}catch{}});return function(g){return p.apply(this,arguments)}}())),new kh(s,e,r)):new kh(s,e,r)})()}}function gB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bB(e))return"Blackberry";if(wB(e))return"Webos";if(pT(e))return"Safari";if((e.includes("chrome/")||_B(e))&&!e.includes("edge/"))return"Chrome";if(yB(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function mB(n=Xr()){return/firefox\//i.test(n)}function pT(n=Xr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _B(n=Xr()){return/crios\//i.test(n)}function vB(n=Xr()){return/iemobile/i.test(n)}function yB(n=Xr()){return/android/i.test(n)}function bB(n=Xr()){return/blackberry/i.test(n)}function wB(n=Xr()){return/webos/i.test(n)}function Sb(n=Xr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CB(n=Xr()){return Sb(n)||yB(n)||wB(n)||bB(n)||/windows phone/i.test(n)||vB(n)}function EB(n,e=[]){let t;switch(n){case"Browser":t=gB(Xr());break;case"Worker":t=`${gB(Xr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pu}/${r}`}class fte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((a,c)=>{try{a(e(s))}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return Ae(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function gT(){return(gT=Ae(function*(n,e={}){return pr(n,"GET","/v2/passwordPolicy",sr(n,e))})).apply(this,arguments)}class mte{constructor(e){var t,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(s=u.containsUppercaseLetter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNumericCharacter)||void 0===a||a),u.isValid&&(u.isValid=null===(c=u.containsNonAlphanumericCharacter)||void 0===c||c),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class _te{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SB(this),this.idTokenSubscription=new SB(this),this.beforeStateQueue=new fte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=rl(t)),this._initializationPromise=this.queue(Ae(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield kh.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return Ae(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return Ae(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const c=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,p=yield t.tryRedirectSignIn(e);(!c||c===u)&&p?.user&&(s=p.user,a=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{yield t.beforeStateQueue.runMiddleware(s)}catch(c){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(c))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return rt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return Ae(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return Ae(function*(){try{yield $g(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Kee(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return Ae(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return Ae(function*(){const r=e?ui(e):null;return r&&rt(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return Ae(function*(){if(!r._deleted)return e&&rt(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(Ae(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return Ae(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(Ae(function*(){yield t.assertedPersistence.setPersistence(rl(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return Ae(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return Ae(function*(){const t=yield function pte(n){return gT.apply(this,arguments)}(e),r=new mte(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rg("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return Ae(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return Ae(function*(){if(!t.redirectPersistenceManager){const r=e&&rl(e)||t._popupRedirectResolver;rt(r,t,"argument-error"),t.redirectPersistenceManager=yield kh.create(t,[rl(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return Ae(function*(){var r,i;return t._isInitialized&&(yield t.queue(Ae(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return Ae(function*(){if(e===t.currentUser)return t.queue(Ae(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(c,this,"internal-error"),c.then(()=>{a||s(this.currentUser)}),"function"==typeof t){const u=e.addObserver(t,r,i);return()=>{a=!0,u()}}{const u=e.addObserver(t);return()=>{a=!0,u()}}}directlySetCurrentUser(e){var t=this;return Ae(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return Ae(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return Ae(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Gee(n,...e){bb.logLevel<=Nn.WARN&&bb.warn(`Auth (${pu}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Ur(n){return ui(n)}class SB{constructor(e){this.auth=e,this.observer=null,this.addObserver=function WK(n,e){const t=new $K(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mT(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=la("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function vte(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function DB(n){return`__${n}${Math.floor(1e6*Math.random())}`}class TB{constructor(e){this.type="recaptcha-enterprise",this.auth=Ur(e)}verify(e="verify",t=!1){var r=this;return Ae(function*(){function s(){return s=Ae(function*(c){if(!t){if(null==c.tenantId&&null!=c._agentRecaptchaConfig)return c._agentRecaptchaConfig.siteKey;if(null!=c.tenantId&&void 0!==c._tenantRecaptchaConfigs[c.tenantId])return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(function(){var u=Ae(function*(p,g){dB(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(void 0!==_.recaptchaKey){const w=new rB(_);return null==c.tenantId?c._agentRecaptchaConfig=w:c._tenantRecaptchaConfigs[c.tenantId]=w,p(w.siteKey)}g(new Error("recaptcha Enterprise site key undefined"))}).catch(_=>{g(_)})});return function(p,g){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function a(c,u,p){const g=window.grecaptcha;nB(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(_=>{u(_)}).catch(()=>{u("NO_RECAPTCHA")})}):p(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,u)=>{(function i(c){return s.apply(this,arguments)})(r.auth).then(p=>{if(!t&&nB(window.grecaptcha))a(p,c,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));mT("https://www.google.com/recaptcha/enterprise.js?render="+p).then(()=>{a(p,c,u)}).catch(g=>{u(g)})}}).catch(p=>{u(p)})})})()}}function dc(n,e,t){return _T.apply(this,arguments)}function _T(){return(_T=Ae(function*(n,e,t,r=!1){const i=new TB(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const a=Object.assign({},e);return Object.assign(a,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})).apply(this,arguments)}function IB(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function AB(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class kB{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ca("not implemented")}_getIdTokenResponse(e){return ca("not implemented")}_linkToIdToken(e,t){return ca("not implemented")}_getReauthenticationResolver(e){return ca("not implemented")}}function MB(n,e){return bT.apply(this,arguments)}function bT(){return(bT=Ae(function*(n,e){return pr(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function CT(n,e){return ET.apply(this,arguments)}function ET(){return(ET=Ae(function*(n,e){return tl(n,"POST","/v1/accounts:signInWithPassword",sr(n,e))})).apply(this,arguments)}function MT(){return(MT=Ae(function*(n,e){return tl(n,"POST","/v1/accounts:signInWithEmailLink",sr(n,e))})).apply(this,arguments)}function RT(){return(RT=Ae(function*(n,e){return tl(n,"POST","/v1/accounts:signInWithEmailLink",sr(n,e))})).apply(this,arguments)}class qg extends kB{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new qg(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new qg(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return Ae(function*(){var r;switch(t.signInMethod){case"password":const i={returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield dc(e,i,"signInWithPassword");return CT(e,s)}return CT(e,i).catch(function(){var s=Ae(function*(a){if("auth/missing-recaptcha-token"===a.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const c=yield dc(e,i,"signInWithPassword");return CT(e,c)}return Promise.reject(a)});return function(a){return s.apply(this,arguments)}}());case"emailLink":return function Mte(n,e){return MT.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Ji(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return Ae(function*(){switch(r.signInMethod){case"password":return MB(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Rte(n,e){return RT.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Ji(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function il(n,e){return OT.apply(this,arguments)}function OT(){return(OT=Ae(function*(n,e){return tl(n,"POST","/v1/accounts:signInWithIdp",sr(n,e))})).apply(this,arguments)}class Zg{constructor(e){var t,r,i,s,a,c;const u=og(ag(e)),p=null!==(t=u.apiKey)&&void 0!==t?t:null,g=null!==(r=u.oobCode)&&void 0!==r?r:null,_=function Ute(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);rt(p&&g&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=g,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=u.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(c=u.tenantId)&&void 0!==c?c:null}static parseLink(e){const t=function Vte(n){const e=og(ag(n)).link,t=e?og(ag(e)).deep_link_id:null,r=og(ag(n)).deep_link_id;return(r?og(ag(r)).link:null)||r||t||e||n}(e);try{return new Zg(t)}catch{return null}}}let RB=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return qg._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Zg.parseLink(r);return rt(i,"argument-error"),qg._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class hc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jte extends hc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function Ib(n,e){return UT.apply(this,arguments)}function UT(){return(UT=Ae(function*(n,e){return tl(n,"POST","/v1/accounts:signUp",sr(n,e))})).apply(this,arguments)}class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return Ae(function*(){const s=yield Tu._fromIdTokenResponse(e,r,i),a=OB(r);return new Zs({user:s,providerId:a,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return Ae(function*(){yield e._updateTokensIfNecessary(r,!0);const i=OB(r);return new Zs({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function OB(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ab extends qa{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ab.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ab(e,t,r,i)}}function NB(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Ab._fromErrorAndOperation(n,s,e,r):s})}function zT(){return(zT=Ae(function*(n,e,t=!1){const r=yield nl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Zs._forOperation(n,"link",r)})).apply(this,arguments)}function $T(){return($T=Ae(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield nl(n,NB(r,i,e,n),t);rt(s.idToken,r,"internal-error");const a=Cb(s.idToken);rt(a,r,"internal-error");const{sub:c}=a;return rt(n.uid===c,r,"user-mismatch"),Zs._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Ji(r,"user-mismatch"),s}})).apply(this,arguments)}function FB(n,e){return GT.apply(this,arguments)}function GT(){return(GT=Ae(function*(n,e,t=!1){const r="signIn",i=yield NB(n,r,e),s=yield Zs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function qT(n,e){return KT.apply(this,arguments)}function KT(){return(KT=Ae(function*(n,e){return FB(Ur(n),e)})).apply(this,arguments)}function nI(n){return rI.apply(this,arguments)}function rI(){return(rI=Ae(function*(n){const e=Ur(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function cI(){return cI=Ae(function*(n,e,t){var r;const i=Ur(n),s={returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"};let a;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const p=yield dc(i,s,"signUpPassword");a=Ib(i,p)}else a=Ib(i,s).catch(function(){var p=Ae(function*(g){if("auth/missing-recaptcha-token"===g.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const _=yield dc(i,s,"signUpPassword");return Ib(i,_)}throw g});return function(g){return p.apply(this,arguments)}}());const c=yield a.catch(p=>{throw"auth/password-does-not-meet-requirements"===p.code&&nI(n),p}),u=yield Zs._fromIdTokenResponse(i,"signIn",c);return yield i._updateCurrentUser(u.user),u}),cI.apply(this,arguments)}const xb="__sak";class UB{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xb,"1"),this.storage.removeItem(xb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const fne=(()=>{class n extends UB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function une(){const n=Xr();return pT(n)||Sb(n)}()&&function hte(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=CB(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((c,u,p)=>{this.notifyListeners(c,p)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const c=this.storage.getItem(i);if(t.newValue!==c)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);!function dte(){return function PK(){const n=Xr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||a===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return Ae(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return Ae(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return Ae(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),VB=(()=>{class n extends UB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let gne=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return Ae(function*(){const i=t,{eventId:s,eventType:a,data:c}=i.data,u=r.handlersMap[a];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const p=Array.from(u).map(function(){var _=Ae(function*(w){return w(i.origin,c)});return function(w){return _.apply(this,arguments)}}()),g=yield function pne(n){return Promise.all(n.map(function(){var e=Ae(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:g})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function DI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class mne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return Ae(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,c;return new Promise((u,p)=>{const g=DI("",20);s.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(w){const I=w;if(I.data.eventId===g)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(I.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"))}}},i.handlers.add(c),s.port1.addEventListener("message",c.onMessage),i.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&i.removeMessageHandler(c)})})()}}function Vr(){return window}function TI(){return typeof Vr().WorkerGlobalScope<"u"&&"function"==typeof Vr().importScripts}function II(){return(II=Ae(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const jB="firebaseLocalStorageDb",Mb="firebaseLocalStorage",HB="fbase_key";class Qg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rb(n,e){return n.transaction([Mb],e?"readwrite":"readonly").objectStore(Mb)}function AI(){const n=indexedDB.open(jB,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Mb,{keyPath:HB})}catch(i){t(i)}}),n.addEventListener("success",Ae(function*(){const r=n.result;r.objectStoreNames.contains(Mb)?e(r):(r.close(),yield function Cne(){const n=indexedDB.deleteDatabase(jB);return new Qg(n).toPromise()}(),e(yield AI()))}))})}function zB(n,e,t){return kI.apply(this,arguments)}function kI(){return(kI=Ae(function*(n,e,t){const r=Rb(n,!0).put({[HB]:e,value:t});return new Qg(r).toPromise()})).apply(this,arguments)}function xI(){return(xI=Ae(function*(n,e){const t=Rb(n,!1).get(e),r=yield new Qg(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function WB(n,e){const t=Rb(n,!0).delete(e);return new Qg(t).toPromise()}const Tne=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return Ae(function*(){return t.db||(t.db=yield AI()),t.db})()}_withRetries(t){var r=this;return Ae(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return Ae(function*(){return TI()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return Ae(function*(){t.receiver=gne._getInstance(function bne(){return TI()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=Ae(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=Ae(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return Ae(function*(){var r,i;if(t.activeServiceWorker=yield function vne(){return II.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new mne(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return Ae(function*(){if(r.sender&&r.activeServiceWorker&&function yne(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return Ae(function*(){try{if(!indexedDB)return!1;const t=yield AI();return yield zB(t,xb,"1"),yield WB(t,xb),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return Ae(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return Ae(function*(){return i._withPendingWrite(Ae(function*(){return yield i._withRetries(s=>zB(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return Ae(function*(){const i=yield r._withRetries(s=>function Ene(n,e){return xI.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return Ae(function*(){return r._withPendingWrite(Ae(function*(){return yield r._withRetries(i=>WB(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return Ae(function*(){const r=yield t._withRetries(a=>{const c=Rb(a,!1).getAll();return new Qg(c).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:a,value:c}of r)s.add(a),JSON.stringify(t.localCache[a])!==JSON.stringify(c)&&(t.notifyListeners(a,c),i.push(a));for(const a of Object.keys(t.localCache))t.localCache[a]&&!s.has(a)&&(t.notifyListeners(a,null),i.push(a));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(Ae(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();DB("rcb"),new Hg(3e4,6e4);class UI extends kB{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return il(e,this._buildIdpRequest())}_linkToIdToken(e,t){return il(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return il(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Hne(n){return FB(n.auth,new UI(n),n.bypassAuthState)}function zne(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),function LB(n,e){return $T.apply(this,arguments)}(t,new UI(n),n.bypassAuthState)}function Wne(n){return VI.apply(this,arguments)}function VI(){return(VI=Ae(function*(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),function HT(n,e){return zT.apply(this,arguments)}(t,new UI(n),n.bypassAuthState)})).apply(this,arguments)}class $ne{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=Ae(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return Ae(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:a,error:c,type:u}=e;if(c)return void t.reject(c);const p={auth:t.auth,requestUri:r,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(p))}catch(g){t.reject(g)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hne;case"linkViaPopup":case"linkViaRedirect":return Wne;case"reauthViaPopup":case"reauthViaRedirect":return zne;default:Ji(this.auth,"internal-error")}}resolve(e){cc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Hg(2e3,1e4);const Gne="pendingRedirect",Jg=new Map;class qne extends $ne{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return Ae(function*(){let r=Jg.get(t.auth._key());if(!r){try{const s=(yield function Kne(n,e){return $I.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Jg.set(t.auth._key(),r)}return t.bypassAuthState||Jg.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return Ae(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return Ae(function*(){})()}cleanUp(){}}function $I(){return($I=Ae(function*(n,e){const t=function qB(n){return Eb(Gne,n.config.apiKey,n.name)}(e),r=function GB(n){return rl(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Yne(n,e){Jg.set(n._key(),e)}function KB(n,e){return QI.apply(this,arguments)}function QI(){return(QI=Ae(function*(n,e,t=!1){const r=Ur(n),i=function Au(n,e){return e?rl(e):(rt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),a=yield new qne(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})).apply(this,arguments)}class ere{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function tre(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XB(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!XB(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(la(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZB(e))}saveEventToCache(e){this.cachedEventUids.add(ZB(e)),this.lastProcessedEventTime=Date.now()}}function ZB(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XB({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function eA(){return(eA=Ae(function*(n,e={}){return pr(n,"GET","/v1/projects",e)})).apply(this,arguments)}const rre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ire=/^https?/;function tA(){return tA=Ae(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function nre(n){return eA.apply(this,arguments)}(n);for(const t of e)try{if(ore(t))return}catch{}Ji(n,"unauthorized-domain")}),tA.apply(this,arguments)}function ore(n){const e=jg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return""===a.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&a.hostname===r}if(!ire.test(t))return!1;if(rre.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const are=new Hg(3e4,6e4);function QB(){const n=Vr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Nb=null;const ure=new Hg(5e3,15e3),dre="__/auth/iframe",hre="emulator/auth/iframe",fre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gre(n){const e=n.config;rt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?JD(e,hre):`https://${n.config.authDomain}/${dre}`,r={apiKey:e.apiKey,appName:n.name,v:pu},i=pre.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${sg(r).slice(1)}`}function nA(){return nA=Ae(function*(n){const e=yield function cre(n){return Nb=Nb||function lre(n){return new Promise((e,t)=>{var r,i,s;function a(){QB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QB(),t(la(n,"network-request-failed"))},timeout:are.get()})}if(null!==(i=null===(r=Vr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Vr().gapi)||void 0===s||!s.load){const c=DB("iframefcb");return Vr()[c]=()=>{gapi.load?a():t(la(n,"network-request-failed"))},mT(`https://apis.google.com/js/api.js?onload=${c}`).catch(u=>t(u))}a()}}).catch(e=>{throw Nb=null,e})}(n),Nb}(n),t=Vr().gapi;return rt(t,n,"internal-error"),e.open({where:document.body,url:gre(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fre,dontclear:!0},r=>new Promise(function(){var i=Ae(function*(s,a){yield r.restyle({setHideOnLeave:!1});const c=la(n,"network-request-failed"),u=Vr().setTimeout(()=>{a(c)},ure.get());function p(){Vr().clearTimeout(u),s(r)}r.ping(p).then(p,()=>{a(c)})});return function(s,a){return i.apply(this,arguments)}}()))}),nA.apply(this,arguments)}const _re={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class JB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Sre="__/auth/handler",Dre="emulator/auth/handler",Tre=encodeURIComponent("fac");function eU(n,e,t,r,i,s){return rA.apply(this,arguments)}function rA(){return(rA=Ae(function*(n,e,t,r,i,s){rt(n.config.authDomain,n,"auth-domain-config-required"),rt(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:pu,eventId:i};if(e instanceof hc){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",fS(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(s||{}))a[g]=_}if(e instanceof jte){const g=e.getScopes().filter(_=>""!==_);g.length>0&&(a.scopes=g.join(","))}n.tenantId&&(a.tid=n.tenantId);const c=a;for(const g of Object.keys(c))void 0===c[g]&&delete c[g];const u=yield n._getAppCheckToken(),p=u?`#${Tre}=${encodeURIComponent(u)}`:"";return`${function Ire({config:n}){return n.emulator?JD(n,Dre):`https://${n.authDomain}/${Sre}`}(n)}?${sg(c).slice(1)}${p}`})).apply(this,arguments)}const iA="webStorageSupport",kre=class Are{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VB,this._completeRedirectFn=KB,this._overrideRedirectResult=Yne}_openPopup(e,t,r,i){var s=this;return Ae(function*(){var a;cc(null===(a=s.eventManagers[e._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()");const c=yield eU(e,t,r,jg(),i);return function Cre(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},_re),{width:r.toString(),height:i.toString(),top:s,left:a}),p=Xr().toLowerCase();t&&(c=_B(p)?"_blank":t),mB(p)&&(e=e||"http://localhost",u.scrollbars="yes");const g=Object.entries(u).reduce((w,[I,R])=>`${w}${I}=${R},`,"");if(function ute(n=Xr()){var e;return Sb(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(p)&&"_self"!==c)return function Ere(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",c),new JB(null);const _=window.open(e||"",c,g);rt(_,n,"popup-blocked");try{_.focus()}catch{}return new JB(_)}(e,c,DI())})()}_openRedirect(e,t,r,i){var s=this;return Ae(function*(){return yield s._originValidation(e),function _ne(n){Vr().location.href=n}(yield eU(e,t,r,jg(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(cc(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return Ae(function*(){const r=yield function mre(n){return nA.apply(this,arguments)}(e),i=new ere(e);return r.register("authEvent",s=>(rt(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(iA,{type:iA},i=>{var s;const a=null===(s=i?.[0])||void 0===s?void 0:s[iA];void 0!==a&&t(!!a),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function sre(n){return tA.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CB()||pT()||Sb()}};var rU="@firebase/auth";class xre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return Ae(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nre=sL("authIdTokenMaxAge")||300;let sU=null;const Pre=n=>function(){var e=Ae(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Nre)return;const s=r?.token;sU!==s&&(sU=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Lre(n=SS()){const e=lg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Ete(n,e){const t=lg(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(My(t.getOptions(),e??{}))return i;Ji(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:kre,persistence:[Tne,fne,VB]}),r=sL("authTokenSyncURL");if(r){const s=Pre(r);(function ine(n,e,t){ui(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function rne(n,e,t,r){ui(n).onIdTokenChanged(e,t,r)}(t,a=>s(a))}const i=nL("auth");return i&&function Dte(n,e,t){const r=Ur(n);rt(r._canInitEmulator,r,"emulator-config-failed"),rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=IB(e),{host:a,port:c}=function Tte(n){const e=IB(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:AB(r.substr(s.length+1))}}{const[s,a]=r.split(":");return{host:s,port:AB(a)}}}(e);r.config.emulator={url:`${s}//${a}${null===c?"":`:${c}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Ite(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function Rre(n){fu(new Zl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;rt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EB(n)},p=new _te(r,i,s,u);return function Ste(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(rl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),fu(new Zl("auth-internal",e=>{const t=Ur(e.getProvider("auth").getImmediate());return new xre(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ea(rU,"1.3.0",function Mre(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),ea(rU,"1.3.0","esm2017")}("Browser");let ku=(()=>{class n{constructor(){this.firebaseConfig={apiKey:"AIzaSyDJBwbkjNSaWynH--6UkpDEgUK3a3COIYw",authDomain:"css-generator-e85f6.firebaseapp.com",projectId:"css-generator-e85f6",storageBucket:"css-generator-e85f6.appspot.com",messagingSenderId:"921126506193",appId:"1:921126506193:web:b3b2ad861370b699b43ff0",measurementId:"G-RNCTHCLSYB"},this.userData={name:"",email:""},this.userDataChanged=new rn,this.authChange=new rn,this.app=_L(this.firebaseConfig),this.auth=Lre(this.app),this.database=function fJ(n=SS(),e){const t=lg(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=rL("database");r&&function pJ(n,e,t,r={}){(n=ui(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ta("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&ta('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new pg(pg.OWNER);else if(r.mockUserToken){const a="string"==typeof r.mockUserToken?r.mockUserToken:oL(r.mockUserToken,n.app.options.projectId);s=new pg(a)}!function lJ(n,e,t,r){n.repoInfo_=new NS(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}(),this.storage=function Uee(n=SS(),e){const r=lg(n=ui(n),J2).getImmediate({identifier:e}),i=rL("storage");return i&&function Vee(n,e,t,r={}){!function Bee(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:oL(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}(this.app),this.auth.onAuthStateChanged(()=>{this.cuser=this.auth.currentUser,this.authChange.emit(this.cuser)})}ngOnInit(){}signUp(t){return new Ie(r=>{(function Kte(n,e,t){return cI.apply(this,arguments)})(this.auth,t.email,t.pass).then(i=>{this.cuser=this.auth.currentUser,lc(Qa(this.database,this.auth.currentUser?.uid),{name:t.name,contact:t.contact,email:t.email}).then(s=>{r.next()}).catch(s=>{console.log(s),r.error("failed to update user "+s)})}).catch(i=>{console.log(i),r.error("failed to signup "+i)})})}login(t,r){return new Ie(i=>{(function Yte(n,e,t){return qT(ui(n),RB.credential(e,t)).catch(function(){var r=Ae(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&nI(n),i});return function(i){return r.apply(this,arguments)}}())})(this.auth,t,r).then(s=>{i.next(s)}).catch(s=>{console.log(s),i.error(s)})})}logout(){return function sne(n){return ui(n).signOut()}(this.auth)}getProjects(){return new Ie(t=>{LD(Qa(this.database,this.cuser?.uid),i=>{this.userData={name:i.child("name").val(),email:i.child("email").val()},this.userDataChanged.emit(this.userData);const s=i.child("projects").val();s?t.next(s):t.error("No data found")})})}createNewProject(t,r){return lc(Qa(this.database,this.cuser?.uid+"/projects/"+r.toString()),{name:t})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sl=(()=>{class n{constructor(t){this.authService=t,this.database=this.authService.database,this.storage=this.authService.storage,this.projectname="",this.cuser=this.authService.cuser,this.projectDataChange=new rn,this.classesToAplly=new rn,this.authService.authChange.subscribe(r=>{this.cuser=r})}setClasses(t){return lc(Qa(this.database,this.cuser?.uid+"/projects/"+this.keyProject+"/classes/"),t)}getClasses(t){return this.keyProject=t,new Ie(r=>{LD(Qa(this.database,this.cuser?.uid+"/projects/"+t+"/"),s=>{const a=s.child("classes").val();this.projectname=s.child("name").val(),a?(this.projectData=a,this.projectDataChange.emit(a),r.next(a)):r.error("No data found")})})}addClass(t){return lc(Qa(this.database,this.cuser?.uid+"/projects/"+this.keyProject+"/classes/"+t),"null")}addAttribute(t,r,i){return lc(Qa(this.database,this.cuser?.uid+"/projects/"+this.keyProject+"/classes/"+t+"/"+r),i)}removeAttr(t,r){return lc(Qa(this.database,this.cuser.uid+"/projects/"+this.keyProject+"/classes/"+t+"/"+r),null)}saveProject(t,r){return new Ie(i=>{eB(Vg(this.storage,this.cuser.uid+"/projects/"+this.keyProject+"/htmlFile"),t).then(()=>{eB(Vg(this.storage,this.cuser.uid+"/projects/"+this.keyProject+"/cssFile"),r).then(()=>{i.next()}).catch(s=>{i.error("failed to upload css error:"+s)})}).catch(s=>{i.error("failed to upload html error:"+s)})})}loadProjectFiles(t){return new Ie(r=>{ZD(Vg(this.storage,this.cuser.uid+"/projects/"+t+"/htmlFile")).then(i=>{fetch(i).then(s=>{s.text().then(a=>{r.next(a)}).catch(a=>{r.error("no content Error: "+a)})}).catch(s=>{r.error("url invalid Error: "+s)})}).catch(i=>{r.error("no files Error: "+i)})})}downloadProject(){var t={htmlUrl:"",cssUrl:""},r={htmlBlob:new Blob,cssBlob:new Blob};return new Ie(i=>{ZD(Vg(this.storage,this.cuser.uid+"/projects/"+this.keyProject+"/htmlFile")).then(s=>{t.htmlUrl=s,ZD(Vg(this.storage,this.cuser.uid+"/projects/"+this.keyProject+"/cssFile")).then(a=>{t.cssUrl=a,fetch(t.htmlUrl).then(c=>c.blob()).then(c=>{r.htmlBlob=c,fetch(t.cssUrl).then(u=>u.blob()).then(u=>{r.cssBlob=u,i.next(r)})})}).catch(a=>{i.error(a)})}).catch(s=>{i.error(s)})})}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(ku))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Lb{}class Fb{}class ua{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ua?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ua;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ua?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let a=this.headers.get(t);if(!a)return;a=a.filter(c=>-1===s.indexOf(c)),0===a.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Fre{encodeKey(e){return oU(e)}encodeValue(e){return oU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Ure=/%(\d[a-f0-9])/gi,Vre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oU(n){return encodeURIComponent(n).replace(Ure,(e,t)=>Vre[t]??e)}function Bb(n){return`${n}`}class fc{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Fre,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Bre(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[a,c]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(a)||[];u.push(c),t.set(a,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Bb):[Bb(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new fc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Bb(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Bb(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class jre{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function aU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function lU(n){return typeof Blob<"u"&&n instanceof Blob}function cU(n){return typeof FormData<"u"&&n instanceof FormData}class em{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Hre(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ua),this.context||(this.context=new jre),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+a}}else this.params=new fc,this.urlWithParams=t}serializeBody(){return null===this.body?null:aU(this.body)||lU(this.body)||cU(this.body)||function zre(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cU(this.body)?null:lU(this.body)?this.body.type||null:aU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,p=e.params||this.params;const g=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((_,w)=>_.set(w,e.setHeaders[w]),u)),e.setParams&&(p=Object.keys(e.setParams).reduce((_,w)=>_.set(w,e.setParams[w]),p)),new em(t,r,s,{params:p,headers:u,context:g,reportProgress:c,responseType:i,withCredentials:a})}}var Mh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Mh||{});class oA{constructor(e,t=200,r="OK"){this.headers=e.headers||new ua,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class aA extends oA{constructor(e={}){super(e),this.type=Mh.ResponseHeader}clone(e={}){return new aA({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Rh extends oA{constructor(e={}){super(e),this.type=Mh.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Rh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uU extends oA{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function lA(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let dU=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof em)s=t;else{let u,p;u=i.headers instanceof ua?i.headers:new ua(i.headers),i.params&&(p=i.params instanceof fc?i.params:new fc({fromObject:i.params})),s=new em(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:p,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const a=gt(s).pipe(Jd(u=>this.handler.handle(u)));if(t instanceof em||"events"===i.observe)return a;const c=a.pipe(wi(u=>u instanceof Rh));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Xe(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(Xe(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(Xe(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return c.pipe(Xe(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new fc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,lA(i,r))}post(t,r,i={}){return this.request("POST",t,lA(i,r))}put(t,r,i={}){return this.request("PUT",t,lA(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(Lb))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();function pU(n,e){return e(n)}function $re(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const qre=new et(""),tm=new et(""),gU=new et("");function Kre(){let n=null;return(e,t)=>{null===n&&(n=(nt(qre,{optional:!0})??[]).reduceRight($re,pU));const r=nt(Ov),i=r.add();return n(e,t).pipe(Vp(()=>r.remove(i)))}}let mU=(()=>{class n extends Lb{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=nt(Ov)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(tm),...this.injector.get(gU,[])]));this.chain=i.reduceRight((s,a)=>function Gre(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(s,a,this.injector),pU)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Vp(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(Fb),Ce(gs))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const Qre=/^\)\]\}',?\n/;let vU=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Se(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Ct(r.\u0275loadImpl()):gt(null)).pipe(vr(()=>new Ie(s=>{const a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((q,le)=>a.setRequestHeader(q,le.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const q=t.detectContentTypeHeader();null!==q&&a.setRequestHeader("Content-Type",q)}if(t.responseType){const q=t.responseType.toLowerCase();a.responseType="json"!==q?q:"text"}const c=t.serializeBody();let u=null;const p=()=>{if(null!==u)return u;const q=a.statusText||"OK",le=new ua(a.getAllResponseHeaders()),Te=function Jre(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||t.url;return u=new aA({headers:le,status:a.status,statusText:q,url:Te}),u},g=()=>{let{headers:q,status:le,statusText:Te,url:me}=p(),ze=null;204!==le&&(ze=typeof a.response>"u"?a.responseText:a.response),0===le&&(le=ze?200:0);let Ze=le>=200&&le<300;if("json"===t.responseType&&"string"==typeof ze){const Tt=ze;ze=ze.replace(Qre,"");try{ze=""!==ze?JSON.parse(ze):null}catch($t){ze=Tt,Ze&&(Ze=!1,ze={error:$t,text:ze})}}Ze?(s.next(new Rh({body:ze,headers:q,status:le,statusText:Te,url:me||void 0})),s.complete()):s.error(new uU({error:ze,headers:q,status:le,statusText:Te,url:me||void 0}))},_=q=>{const{url:le}=p(),Te=new uU({error:q,status:a.status||0,statusText:a.statusText||"Unknown Error",url:le||void 0});s.error(Te)};let w=!1;const I=q=>{w||(s.next(p()),w=!0);let le={type:Mh.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(le.total=q.total),"text"===t.responseType&&a.responseText&&(le.partialText=a.responseText),s.next(le)},R=q=>{let le={type:Mh.UploadProgress,loaded:q.loaded};q.lengthComputable&&(le.total=q.total),s.next(le)};return a.addEventListener("load",g),a.addEventListener("error",_),a.addEventListener("timeout",_),a.addEventListener("abort",_),t.reportProgress&&(a.addEventListener("progress",I),null!==c&&a.upload&&a.upload.addEventListener("progress",R)),a.send(c),s.next({type:Mh.Sent}),()=>{a.removeEventListener("error",_),a.removeEventListener("abort",_),a.removeEventListener("load",g),a.removeEventListener("timeout",_),t.reportProgress&&(a.removeEventListener("progress",I),null!==c&&a.upload&&a.upload.removeEventListener("progress",R)),a.readyState!==a.DONE&&a.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(CN))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const cA=new et("XSRF_ENABLED"),yU=new et("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),bU=new et("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class wU{}let nie=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=fN(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn),Ce(jl),Ce(yU))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();function rie(n,e){const t=n.url.toLowerCase();if(!nt(cA)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=nt(wU).getToken(),i=nt(bU);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var pc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(pc||{});function iie(...n){const e=[dU,vU,mU,{provide:Lb,useExisting:mU},{provide:Fb,useExisting:vU},{provide:tm,useValue:rie,multi:!0},{provide:cA,useValue:!0},{provide:wU,useClass:nie}];for(const t of n)e.push(...t.\u0275providers);return function kC(n){return{\u0275providers:n}}(e)}const CU=new et("LEGACY_INTERCEPTOR_FN");function sie(){return function xu(n,e){return{\u0275kind:n,\u0275providers:e}}(pc.LegacyInterceptors,[{provide:CU,useFactory:Kre},{provide:tm,useExisting:CU,multi:!0}])}let oie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({providers:[iie(sie())]})}return n})(),da=(()=>{class n{constructor(t,r){this.projectService=t,this.httpClient=r,this.htmlContent="",this.finalCss="",this.finalCssChange=new rn,this.spinner=new rn,this.htmlCodeChange=new rn,this.previewMobile=new rn,this.removeClass=new rn,this.fullscreenChange=new rn,this.htmlCodeChange.subscribe(i=>{this.htmlContent=i}),this.projectService.projectDataChange.subscribe(i=>{this.cssString=[{"*":[{"border-color":"blue"},{"border-style":"solid"},{"border-width":"1px"}]}];const s=Object.keys(i);for(const a of s){const c=i[a];if("null"!=c){const u=Object.keys(c),p=[];for(const g of u)p.push({[g]:c[g]});this.cssString.push({[a]:p})}}this.finalCss=this.convertToCSS(this.cssString),this.finalCssChange.emit(this.finalCss)})}convertToCSS(t){let r="";return t.forEach(i=>{for(const s in i)Object.hasOwnProperty.call(i,s)&&(r+="*"!=s?`.${s} {\n`:`${s} {\n`,i[s].forEach(c=>{for(const u in c)Object.hasOwnProperty.call(c,u)&&(r+=`  ${u}: ${c[u]};\n`)}),r+="}\n\n")}),r}fetchAllCssProperties(){return this.httpClient.get("assets/css-properties.txt",{responseType:"text"})}setFullScreen(t){this.fullscreenChange.emit(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sl),Ce(dU))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hie=["desktopFrame"];function fie(n,e){if(1&n){const t=Ws();qe(0,"div",4),Xt("click",function(){return li(t),ci(Va().fullScreen=!1)}),vn(1,"i",5),$e()}}let pie=(()=>{class n{constructor(t,r,i){this.htmlService=t,this._sanitizer=r,this.projectHandler=i,this.htmlCode="",this.cssString="",this.fullScreen=!1}onMessage(t){this.projectHandler.classesToAplly.emit(t.data),t.data.inner&&(this.htmlService.htmlCodeChange.emit(t.data.inner),this.htmlService.previewMobile.emit(t.data.inner+`<style>${this.cssString}</style>`))}ngOnInit(){this.cssString=this.htmlService.finalCss,this.projectHandler.classesToAplly.emit(""),this.cssString&&""!=this.cssString&&this.updatePreview(),this.htmlService.finalCssChange.subscribe(i=>{this.cssString=i,this.htmlCode=this.htmlService.htmlContent,this.updatePreview()}),this.htmlService.removeClass.subscribe(i=>{this.frame.nativeElement.contentWindow.postMessage({call:"updateClass",value:i},"*")}),this.htmlService.fullscreenChange.subscribe(i=>{this.fullScreen=!!i})}updatePreview(){this.htmlCode=this.htmlService.htmlContent;let t=this.stringToArray(this.htmlCode);this.htmlCode=`<style>${this.cssString}</style>`+this.htmlCode,this.htmlService.previewMobile.emit(this.htmlCode),t.forEach(r=>{this.htmlCode=this.htmlCode.replace(new RegExp(`<${r}`,"g"),`<${r} onclick='handle(event)' ondragover="allowDrop(event)" ondrop="drop(event)"`)}),this.htmlCode="<script>\n      let ele;\n      function handle(event){\n        ele=event.target;\n        event.stopPropagation();\n        window.parent.postMessage({classes:Array.from(ele.classList)},'*');\n      }\n      function allowDrop(even) {\n        even.preventDefault();\n      } \n      function drop(even) {\n        ele=even.target;\n        even.preventDefault();\n        var fetchData = even.dataTransfer.getData(\"text\");\n        even.target.classList.remove(fetchData);\n        even.target.classList.add(fetchData);\n        next();\n      }\n      function next(){\n        const clone = document.documentElement.cloneNode(true);\n        const scriptElements = clone.querySelectorAll('script');\n        scriptElements.forEach((scriptElement) => {\n          scriptElement.parentNode.removeChild(scriptElement);\n        });\n        const styleElements = clone.querySelectorAll('style');\n        styleElements.forEach((styleElement) => {\n          styleElement.parentNode.removeChild(styleElement);\n        });\n        const elementsWithAttributesToRemove = clone.querySelectorAll('[onclick], [ondragover], [ondrop]');\n        elementsWithAttributesToRemove.forEach((element) => {\n          element.removeAttribute('onclick');\n          element.removeAttribute('ondragover');\n          element.removeAttribute('ondrop');\n        });\n        window.parent.postMessage({classes:Array.from(ele.classList),inner:clone.innerHTML},'*');\n      }\n      window.addEventListener('message', function(event) {\n        var origin = event.origin || event.originalEvent.origin;\n        if (typeof event.data == 'object' && event.data.call=='updateClass') {\n            ele.classList.remove(event.data.value)\n            next();\n        }\n      }, false);\n    <\/script>\n    "+this.htmlCode,this.safeHtml=this._sanitizer.bypassSecurityTrustResourceUrl(`data:text/html;charset=utf-8,${encodeURIComponent(this.htmlCode)}`)}stringToArray(t){let r=[];var i="",s=!1;for(let a=0;a<t.length;a++)s&&" "==t.charAt(a)||">"==t.charAt(a)&&""!=i?(r.includes(i)||r.push(i),s=!1,i=""):s?i+=t.charAt(a):"<"==t.charAt(a)&&"/"!=t.charAt(a+1)&&(s=!0);return r}static#e=this.\u0275fac=function(r){return new(r||n)(be(da),be(UE),be(sl))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-preview"]],viewQuery:function(r,i){if(1&r&&W0(hie,5),2&r){let s;xv(s=Mv())&&(i.frame=s.first)}},hostBindings:function(r,i){1&r&&Xt("message",function(a){return i.onMessage(a)},0,nM)},decls:4,vars:3,consts:[[1,"preview-container"],[3,"click",4,"ngIf"],["sandbox","allow-scripts allow-same-origin",1,"m-0","p-0",3,"ngClass","src"],["desktopFrame",""],[3,"click"],[1,"bi","bi-x-lg","closeFloat"]],template:function(r,i){1&r&&(qe(0,"div",0),Qn(1,fie,2,0,"div",1),vn(2,"iframe",2,3),$e()),2&r&&(Dt(1),Bt("ngIf",i.fullScreen),Dt(1),Bt("ngClass",i.fullScreen?"fullScreen":"smallScreen")("src",i.safeHtml,J_))},dependencies:[Np,Qd],styles:[".table-gray[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{background-color:#fff;color:#000}.fullScreen[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;inset:0;z-index:5000;background-color:#fff}.smallScreen[_ngcontent-%COMP%]{width:100%;height:100%}.closeFloat[_ngcontent-%COMP%]{position:fixed;z-index:6000;background-color:#fff;width:80px;color:#000;top:10px;padding-top:30px;text-align:center;height:80px;box-shadow:0 0 4px 4px gray;border-radius:50%;left:48vw}"]})}return n})(),EU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(be(La),be(zr))};static#t=this.\u0275dir=xt({type:n})}return n})(),Mu=(()=>{class n extends EU{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}();static#t=this.\u0275dir=xt({type:n,features:[pn]})}return n})();const ha=new et("NgValueAccessor"),_ie={provide:ha,useExisting:An(()=>Oh),multi:!0},yie=new et("CompositionEventMode");let Oh=(()=>{class n extends EU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vie(){const n=Gl()?Gl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(be(La),be(zr),be(yie,8))};static#t=this.\u0275dir=xt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Xt("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[nr([_ie]),pn]})}return n})();function gc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function DU(n){return null!=n&&"number"==typeof n.length}const Si=new et("NgValidators"),mc=new et("NgAsyncValidators"),bie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _c{static min(e){return function TU(n){return e=>{if(gc(e.value)||gc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function IU(n){return e=>{if(gc(e.value)||gc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function AU(n){return gc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function kU(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return xU(e)}static minLength(e){return function MU(n){return e=>gc(e.value)||!DU(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function RU(n){return e=>DU(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function OU(n){if(!n)return Vb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(gc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return UU(e)}static composeAsync(e){return VU(e)}}function xU(n){return gc(n.value)||bie.test(n.value)?null:{email:!0}}function Vb(n){return null}function NU(n){return null!=n}function PU(n){return mp(n)?Ct(n):n}function LU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function FU(n,e){return e.map(t=>t(n))}function BU(n){return n.map(e=>function wie(n){return!n.validate}(e)?e:t=>e.validate(t))}function UU(n){if(!n)return null;const e=n.filter(NU);return 0==e.length?null:function(t){return LU(FU(t,e))}}function uA(n){return null!=n?UU(BU(n)):null}function VU(n){if(!n)return null;const e=n.filter(NU);return 0==e.length?null:function(t){return function gie(...n){const e=xs(n),{args:t,keys:r}=$N(n),i=new Ie(s=>{const{length:a}=t;if(!a)return void s.complete();const c=new Array(a);let u=a,p=a;for(let g=0;g<a;g++){let _=!1;kr(t[g]).subscribe(xe(s,w=>{_||(_=!0,p--),c[g]=w},()=>u--,void 0,()=>{(!u||!_)&&(p||s.next(r?GN(r,c):c),s.complete())}))}});return e?i.pipe(VE(e)):i}(FU(t,e).map(PU)).pipe(Xe(LU))}}function dA(n){return null!=n?VU(BU(n)):null}function jU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function HU(n){return n._rawValidators}function zU(n){return n._rawAsyncValidators}function hA(n){return n?Array.isArray(n)?n:[n]:[]}function jb(n,e){return Array.isArray(n)?n.includes(e):n===e}function WU(n,e){const t=hA(e);return hA(n).forEach(i=>{jb(t,i)||t.push(i)}),t}function $U(n,e){return hA(e).filter(t=>!jb(n,t))}class GU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ui extends GU{get formDirective(){return null}get path(){return null}}class vc extends GU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hb=(()=>{class n extends qU{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(be(vc,2))};static#t=this.\u0275dir=xt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&_p("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[pn]})}return n})(),zb=(()=>{class n extends qU{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(be(Ui,10))};static#t=this.\u0275dir=xt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&_p("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[pn]})}return n})();const nm="VALID",$b="INVALID",Nh="PENDING",rm="DISABLED";function gA(n){return(Gb(n)?n.validators:n)||null}function mA(n,e){return(Gb(e)?e.asyncValidators:n)||null}function Gb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function YU(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Se(1e3,"");if(!r[t])throw new Se(1001,"")}function ZU(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new Se(1002,"")})}class qb{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===nm}get invalid(){return this.status===$b}get pending(){return this.status==Nh}get disabled(){return this.status===rm}get enabled(){return this.status!==rm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(WU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($U(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($U(e,this._rawAsyncValidators))}hasValidator(e){return jb(this._rawValidators,e)}hasAsyncValidator(e){return jb(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rm,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nm,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nm||this.status===Nh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rm:nm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nh,this._hasOwnPendingAsyncValidator=!0;const t=PU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new rn,this.statusChanges=new rn}_calculateStatus(){return this._allControlsDisabled()?rm:this.errors?$b:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nh)?Nh:this._anyControlsHaveStatus($b)?$b:nm}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Die(n){return Array.isArray(n)?uA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Tie(n){return Array.isArray(n)?dA(n):n||null}(this._rawAsyncValidators)}}class im extends qb{constructor(e,t,r){super(gA(t),mA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ZU(this,0,e),Object.keys(e).forEach(r=>{YU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class XU extends im{}const Ru=new et("CallSetDisabledState",{providedIn:"root",factory:()=>sm}),sm="always";function Kb(n,e){return[...e.path,n]}function om(n,e,t=sm){_A(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Aie(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&QU(n,e)})}(n,e),function xie(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function kie(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&QU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Iie(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Yb(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Xb(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Zb(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _A(n,e){const t=HU(n);null!==e.validator?n.setValidators(jU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=zU(n);null!==e.asyncValidator?n.setAsyncValidators(jU(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Zb(e._rawValidators,i),Zb(e._rawAsyncValidators,i)}function Xb(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=HU(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(a=>a!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=zU(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(a=>a!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Zb(e._rawValidators,r),Zb(e._rawAsyncValidators,r),t}function QU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function JU(n,e){_A(n,e)}function yA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function eV(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Oh?t=s:function Oie(n){return Object.getPrototypeOf(n.constructor)===Mu}(s)?r=s:i=s}),i||r||t||null}const Pie={provide:Ui,useExisting:An(()=>Qb)},am=(()=>Promise.resolve())();let Qb=(()=>{class n extends Ui{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new rn,this.form=new im({},uA(t),dA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){am.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),om(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){am.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){am.then(()=>{const r=this._findContainer(t.path),i=new im({});JU(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){am.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){am.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,eV(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(be(Si,10),be(mc,10),be(Ru,8))};static#t=this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Xt("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nr([Pie]),pn]})}return n})();function tV(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function nV(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const lm=class extends qb{constructor(e=null,t,r){super(gA(t),mA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gb(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=nV(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){nV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let rV=(()=>{class n extends Ui{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Kb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}();static#t=this.\u0275dir=xt({type:n,features:[pn]})}return n})();const Bie={provide:vc,useExisting:An(()=>wA)},sV=(()=>Promise.resolve())();let wA=(()=>{class n extends vc{constructor(t,r,i,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new lm,this._registered=!1,this.name="",this.update=new rn,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bA(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),yA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){om(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){sV.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Zd(r);sV.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Kb(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(be(Ui,9),be(Si,10),be(mc,10),be(ha,10),be(Fv,8),be(Ru,8))};static#t=this.\u0275dir=xt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nr([Bie]),pn,Mi]})}return n})(),Jb=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=xt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),aV=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({})}return n})();const CA=new et("NgModelWithFormControlWarning"),Wie={provide:Ui,useExisting:An(()=>cm)};let cm=(()=>{class n extends Ui{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new rn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return om(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Yb(t.control||null,t,!1),function Nie(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,eV(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Yb(r||null,t),(n=>n instanceof lm)(i)&&(om(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);JU(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Mie(n,e){return Xb(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_A(this.form,this),this._oldForm&&Xb(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(be(Si,10),be(mc,10),be(Ru,8))};static#t=this.\u0275dir=xt({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Xt("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nr([Wie]),pn,Mi]})}return n})();const $ie={provide:Ui,useExisting:An(()=>ew)};let ew=(()=>{class n extends rV{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){dV(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(be(Ui,13),be(Si,10),be(mc,10))};static#t=this.\u0275dir=xt({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[nr([$ie]),pn]})}return n})();const Gie={provide:Ui,useExisting:An(()=>EA)};let EA=(()=>{class n extends Ui{constructor(t,r,i){super(),this.name=null,this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Kb(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){dV(this._parent)}static#e=this.\u0275fac=function(r){return new(r||n)(be(Ui,13),be(Si,10),be(mc,10))};static#t=this.\u0275dir=xt({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[nr([Gie]),pn]})}return n})();function dV(n){return!(n instanceof ew||n instanceof cm||n instanceof EA)}const qie={provide:vc,useExisting:An(()=>tw)};let tw=(()=>{class n extends vc{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new rn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bA(0,s)}ngOnChanges(t){this._added||this._setUpControl(),yA(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Kb(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(be(Ui,13),be(Si,10),be(mc,10),be(ha,10),be(CA,8))};static#n=this.\u0275dir=xt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[nr([qie]),pn,Mi]})}return n})(),Ou=(()=>{class n{constructor(){this._validator=Vb}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vb,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=xt({type:n,features:[Mi]})}return n})();const ise={provide:Si,useExisting:An(()=>IA),multi:!0};let IA=(()=>{class n extends Ou{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=Zd,this.createValidator=t=>xU}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=en(n)))(i||n)}}();static#t=this.\u0275dir=xt({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[nr([ise]),pn]})}return n})(),CV=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({imports:[aV]})}return n})();class EV extends qb{constructor(e,t,r){super(gA(t),mA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ZU(this,0,e),e.forEach((r,i)=>{YU(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function SV(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let DV=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return SV(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new im(i,s)}record(t,r=null){const i=this._reduceControls(t);return new XU(i,r)}control(t,r,i){let s={};return this.useNonNullable?(SV(r)?s=r:(s.validators=r,s.asyncValidators=i),new lm(t,{...s,nonNullable:!0})):new lm(t,r,i)}array(t,r,i){const s=t.map(a=>this._createControl(a));return new EV(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof lm||t instanceof qb?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lse=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ru,useValue:t.callSetDisabledState??sm}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({imports:[CV]})}return n})(),cse=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:CA,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ru,useValue:t.callSetDisabledState??sm}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({imports:[CV]})}return n})();function TV(n,e=0){return function use(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function nw(n){return Array.isArray(n)?n:[n]}function jr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ph(n){return n instanceof zr?n.nativeElement:n}const dse=["addListener","removeListener"],hse=["addEventListener","removeEventListener"],fse=["on","off"];function AA(n,e,t,r){if(V(t)&&(r=t,t=void 0),r)return AA(n,e,t).pipe(VE(r));const[i,s]=function mse(n){return V(n.addEventListener)&&V(n.removeEventListener)}(n)?hse.map(a=>c=>n[a](e,c,t)):function pse(n){return V(n.addListener)&&V(n.removeListener)}(n)?dse.map(IV(n,e)):function gse(n){return V(n.on)&&V(n.off)}(n)?fse.map(IV(n,e)):[];if(!i&&_a(n))return on(a=>AA(a,e,t))(kr(n));if(!i)throw new TypeError("Invalid event target");return new Ie(a=>{const c=(...u)=>a.next(1<u.length?u:u[0]);return i(c),()=>s(c)})}function IV(n,e){return t=>r=>n[t](e,r)}class _se extends N{constructor(e,t){super()}schedule(e,t=0){return this}}const rw={setInterval(n,e,...t){const{delegate:r}=rw;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=rw;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class kA extends _se{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return rw.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&rw.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,O(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const um={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=um;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new N(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=um;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=um;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},AV={now:()=>(AV.delegate||Date).now(),delegate:void 0};class dm{constructor(e,t=dm.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}dm.now=AV.now;class xA extends dm{constructor(e,t=dm.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}new class yse extends xA{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class vse extends kA{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=um.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(um.cancelAnimationFrame(t),e._scheduled=void 0)}});let MA,wse=1;const iw={};function kV(n){return n in iw&&(delete iw[n],!0)}const Cse={setImmediate(n){const e=wse++;return iw[e]=!0,MA||(MA=Promise.resolve()),MA.then(()=>kV(e)&&n()),e},clearImmediate(n){kV(n)}},{setImmediate:Ese,clearImmediate:Sse}=Cse,sw={setImmediate(...n){const{delegate:e}=sw;return(e?.setImmediate||Ese)(...n)},clearImmediate(n){const{delegate:e}=sw;return(e?.clearImmediate||Sse)(n)},delegate:void 0},RA=(new class Tse extends xA{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Dse extends kA{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=sw.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(sw.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new xA(kA)),Ase=RA;function xV(n,e=RA){return function kse(n){return He((e,t)=>{let r=!1,i=null,s=null,a=!1;const c=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const p=i;i=null,t.next(p)}a&&t.complete()},u=()=>{s=null,a&&t.complete()};e.subscribe(xe(t,p=>{r=!0,i=p,s||kr(n(p)).subscribe(s=xe(t,c,u))},()=>{a=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function Mse(n=0,e,t=Ase){let r=-1;return null!=e&&(In(e)?t=e:r=e),new Ie(i=>{let s=function xse(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(n,e))}let OA;try{OA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{OA=!1}let hm,Nu,NA,fa=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function XG(n){return n===bN}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!OA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(jl))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ow(n){return function Rse(){if(null==hm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hm=!0}))}finally{hm=hm||!1}return hm}()?n:!!n.capture}function Ose(){if(null==Nu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Nu=!1,Nu;if("scrollBehavior"in document.documentElement.style)Nu=!0;else{const n=Element.prototype.scrollTo;Nu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Nu}function PA(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function yc(n){return n.composedPath?n.composedPath()[0]:n.target}function LA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Lse=new et("cdk-dir-doc",{providedIn:"root",factory:function Fse(){return nt(sn)}}),Bse=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let FA=(()=>{class n{constructor(t){this.value="ltr",this.change=new rn,t&&(this.value=function Use(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Bse.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(Lse,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fm=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({})}return n})(),jse=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ne,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ie(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(xV(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):gt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(wi(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Ph(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>AA(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(zt),Ce(fa),Ce(sn,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RV=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ne,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xV(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(fa),Ce(zt),Ce(sn,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),OV=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({})}return n})(),NV=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({imports:[fm,OV,fm,OV]})}return n})();class BA{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class UA extends BA{constructor(e,t,r,i,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}}class PV extends BA{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class zse extends BA{constructor(e){super(),this.element=e instanceof zr?e.nativeElement:e}}class VA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof UA?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof PV?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof zse?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Wse extends VA{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=a=>{const c=a.element,u=this._document.createComment("dom-portal");c.parentNode.insertBefore(u,c),this.outletElement.appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Fr.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let jA=(()=>{class n extends VA{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new rn,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),a=r.createComponent(s,r.length,t.injector||r.injector,t.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=t,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(be(Md),be($s),be(sn))};static#t=this.\u0275dir=xt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[pn]})}return n})(),lw=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({})}return n})();const LV=Ose();class $se{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=jr(-this._previousScrollPosition.left),e.style.top=jr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),LV&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),LV&&(r.scrollBehavior=s,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Gse{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(wi(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FV{enable(){}disable(){}attach(){}}function HA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function BV(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class qse{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();HA(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Kse=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new FV,this.close=a=>new Gse(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new $se(this._viewportRuler,this._document),this.reposition=a=>new qse(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(jse),Ce(RV),Ce(zt),Ce(sn))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class UV{constructor(e){if(this.scrollStrategy=new FV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Yse{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let VV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zse=(()=>{class n extends VV{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){const c=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(i)):c.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn),Ce(zt,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xse=(()=>{class n extends VV{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=yc(s)},this._clickListener=s=>{const a=yc(s),c="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const u=this._attachedOverlays.slice();for(let p=u.length-1;p>-1;p--){const g=u[p];if(g._outsidePointerEvents.observers.length<1||!g.hasAttached())continue;if(g.overlayElement.contains(a)||g.overlayElement.contains(c))break;const _=g._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_.next(s)):_.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn),Ce(fa),Ce(zt,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cw=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||LA()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),LA()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn),Ce(fa))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class pm{constructor(e,t,r,i,s,a,c,u,p,g=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=a,this._document=c,this._location=u,this._outsideClickDispatcher=p,this._animationsDisabled=g,this._backdropElement=null,this._backdropClick=new Ne,this._attachments=new Ne,this._detachments=new Ne,this._locationChanges=N.EMPTY,this._backdropClickHandler=_=>this._backdropClick.next(_),this._backdropTransitionendHandler=_=>{this._disposeBackdrop(_.target)},this._keydownEvents=new Ne,this._outsidePointerEvents=new Ne,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ks(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=jr(this._config.width),e.height=jr(this._config.height),e.minWidth=jr(this._config.minWidth),e.minHeight=jr(this._config.minHeight),e.maxWidth=jr(this._config.maxWidth),e.maxHeight=jr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=nw(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ay(an(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const jV="cdk-overlay-connected-position-bounding-box",Qse=/([A-Za-z%]+)$/;class Jse{get positions(){return this._preferredPositions}constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ne,this._resizeSubscription=N.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(jV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let a;for(let c of this._preferredPositions){let u=this._getOriginPoint(e,i,c),p=this._getOverlayPoint(u,t,c),g=this._getOverlayFit(p,t,r,c);if(g.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,u);this._canFitWithFlexibleDimensions(g,p,r)?s.push({position:c,origin:u,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(u,c)}):(!a||a.overlayFit.visibleArea<g.visibleArea)&&(a={overlayFit:g,overlayPoint:p,originPoint:u,position:c,overlayRect:t})}if(s.length){let c=null,u=-1;for(const p of s){const g=p.boundingBoxRect.width*p.boundingBoxRect.height*(p.position.weight||1);g>u&&(u=g,c=p)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Pu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;i="start"==r.originX?a:c}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=zV(t);let{x:a,y:c}=e,u=this._getOffset(i,"x"),p=this._getOffset(i,"y");u&&(a+=u),p&&(c+=p);let w=0-c,I=c+s.height-r.height,R=this._subtractOverflows(s.width,0-a,a+s.width-r.width),q=this._subtractOverflows(s.height,w,I),le=R*q;return{visibleArea:le,isCompletelyWithinViewport:s.width*s.height===le,fitsInViewportVertically:q===s.height,fitsInViewportHorizontally:R==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,a=HV(this._overlayRef.getConfig().minHeight),c=HV(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=a&&a<=i)&&(e.fitsInViewportHorizontally||null!=c&&c<=s)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=zV(t),s=this._viewportRect,a=Math.max(e.x+i.width-s.width,0),c=Math.max(e.y+i.height-s.height,0),u=Math.max(s.top-r.top-e.y,0),p=Math.max(s.left-r.left-e.x,0);let g=0,_=0;return g=i.width<=s.width?p||-a:e.x<this._viewportMargin?s.left-r.left-e.x:0,_=i.height<=s.height?u||-c:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:g,y:_},{x:e.x+g,y:e.y+_}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Yse(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,a,c,g,_,w;if("top"===t.overlayY)a=e.y,s=r.height-a+this._viewportMargin;else if("bottom"===t.overlayY)c=r.height-e.y+2*this._viewportMargin,s=r.height-c+this._viewportMargin;else{const I=Math.min(r.bottom-e.y+r.top,e.y),R=this._lastBoundingBoxSize.height;s=2*I,a=e.y-I,s>R&&!this._isInitialRender&&!this._growAfterOpen&&(a=e.y-R/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)w=r.width-e.x+this._viewportMargin,g=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)_=e.x,g=r.right-e.x;else{const I=Math.min(r.right-e.x+r.left,e.x),R=this._lastBoundingBoxSize.width;g=2*I,_=e.x-I,g>R&&!this._isInitialRender&&!this._growAfterOpen&&(_=e.x-R/2)}return{top:a,left:_,bottom:c,right:w,width:g,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.height=jr(r.height),i.top=jr(r.top),i.bottom=jr(r.bottom),i.width=jr(r.width),i.left=jr(r.left),i.right=jr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=jr(s)),a&&(i.maxWidth=jr(a))}this._lastBoundingBoxSize=r,Pu(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Pu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Pu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){const g=this._viewportRuler.getViewportScrollPosition();Pu(r,this._getExactOverlayY(t,e,g)),Pu(r,this._getExactOverlayX(t,e,g))}else r.position="static";let c="",u=this._getOffset(t,"x"),p=this._getOffset(t,"y");u&&(c+=`translateX(${u}px) `),p&&(c+=`translateY(${p}px)`),r.transform=c.trim(),a.maxHeight&&(i?r.maxHeight=jr(a.maxHeight):s&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=jr(a.maxWidth):s&&(r.maxWidth="")),Pu(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=jr(s.y),i}_getExactOverlayX(e,t,r){let a,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),a=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===a?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=jr(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:BV(e,r),isOriginOutsideView:HA(e,r),isOverlayClipped:BV(t,r),isOverlayOutsideView:HA(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&nw(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof zr)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Pu(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function HV(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Qse);return t&&"px"!==t?null:parseFloat(e)}return n||null}function zV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const WV="cdk-global-overlay-wrapper";class eoe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(WV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:a,maxHeight:c}=r,u=!("100%"!==i&&"100vw"!==i||a&&"100%"!==a&&"100vw"!==a),p=!("100%"!==s&&"100vh"!==s||c&&"100%"!==c&&"100vh"!==c),g=this._xPosition,_=this._xOffset,w="rtl"===this._overlayRef.getConfig().direction;let I="",R="",q="";u?q="flex-start":"center"===g?(q="center",w?R=_:I=_):w?"left"===g||"end"===g?(q="flex-end",I=_):("right"===g||"start"===g)&&(q="flex-start",R=_):"left"===g||"start"===g?(q="flex-start",I=_):("right"===g||"end"===g)&&(q="flex-end",R=_),e.position=this._cssPosition,e.marginLeft=u?"0":I,e.marginTop=p?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=u?"0":R,t.justifyContent=q,t.alignItems=p?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(WV),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let toe=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new eoe}flexibleConnectedTo(t){return new Jse(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(RV),Ce(sn),Ce(fa),Ce(cw))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),noe=0,Fh=(()=>{class n{constructor(t,r,i,s,a,c,u,p,g,_,w,I){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=c,this._ngZone=u,this._document=p,this._directionality=g,this._location=_,this._outsideClickDispatcher=w,this._animationsModuleType=I}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),a=new UV(t);return a.direction=a.direction||this._directionality.value,new pm(s,r,i,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+noe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get($l)),new Wse(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(Kse),Ce(cw),Ce(Md),Ce(toe),Ce(Zse),Ce(Fr),Ce(zt),Ce(sn),Ce(FA),Ce(Mp),Ce(Xse),Ce(rp,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const soe={provide:new et("cdk-connected-overlay-scroll-strategy"),deps:[Fh],useFactory:function ioe(n){return()=>n.scrollStrategies.reposition()}};let $V=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({providers:[Fh,soe],imports:[fm,lw,NV,NV]})}return n})();function qV(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function KV(n){return wi((e,t)=>n<=t)}let doe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hoe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({providers:[doe]})}return n})();const YV=new Set;let Lu,poe=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):moe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function goe(n,e){if(!YV.has(n))try{Lu||(Lu=document.createElement("style"),e&&(Lu.nonce=e),Lu.setAttribute("type","text/css"),document.head.appendChild(Lu)),Lu.sheet&&(Lu.sheet.insertRule(`@media ${n} {body{ }}`,0),YV.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(fa),Ce(LC,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function moe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let _oe=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ne}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ZV(nw(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=ty(ZV(nw(t)).map(a=>this._registerQuery(a).observable));return s=ry(s.pipe(Ks(1)),s.pipe(KV(1),function foe(n,e=RA){return He((t,r)=>{let i=null,s=null,a=null;const c=()=>{if(i){i.unsubscribe(),i=null;const p=s;s=null,r.next(p)}};function u(){const p=a+n,g=e.now();if(g<p)return i=this.schedule(void 0,p-g),void r.add(i);c()}t.subscribe(xe(r,p=>{s=p,a=e.now(),i||(i=e.schedule(u,n),r.add(i))},()=>{c(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(Xe(a=>{const c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:p})=>{c.matches=c.matches||u,c.breakpoints[p]=u}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Ie(a=>{const c=u=>this._zone.run(()=>a.next(u));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(sy(r),Xe(({matches:a})=>({query:t,matches:a})),ay(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(poe),Ce(zt))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZV(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let uw=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function woe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function boe(n){try{return n.frameElement}catch{return null}}(function koe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===ej(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=ej(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Ioe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Aoe(n){return!function Eoe(n){return function Doe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Coe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Soe(n){return function Toe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||JV(n))}(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(fa))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JV(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function ej(n){if(!JV(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class xoe{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return r?.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ks(1)).subscribe(e)}}let zA=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new xoe(t,this._checker,this._ngZone,this._document,r)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(uw),Ce(zt),Ce(sn))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tj(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function nj(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Moe=new et("cdk-input-modality-detector-options"),Roe={ignoreKeys:[18,17,224,91,16]},Bh=ow({passive:!0,capture:!0});let Ooe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new at(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yc(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(tj(a)?"keyboard":"mouse"),this._mostRecentTarget=yc(a))},this._onTouchstart=a=>{nj(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yc(a))},this._options={...Roe,...s},this.modalityDetected=this._modality.pipe(KV(1)),this.modalityChanged=this.modalityDetected.pipe(zh()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Bh),i.addEventListener("mousedown",this._onMousedown,Bh),i.addEventListener("touchstart",this._onTouchstart,Bh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Bh),document.removeEventListener("mousedown",this._onMousedown,Bh),document.removeEventListener("touchstart",this._onTouchstart,Bh))}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(fa),Ce(zt),Ce(sn),Ce(Moe,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Poe=new et("cdk-focus-monitor-default-options"),dw=ow({passive:!0,capture:!0});let WA=(()=>{class n{constructor(t,r,i,s,a){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ne,this._rootNodeFocusAndBlurListener=c=>{for(let p=yc(c);p;p=p.parentElement)"focus"===c.type?this._onFocus(c,p):this._onBlur(c,p)},this._document=s,this._detectionMode=a?.detectionMode||0}monitor(t,r=!1){const i=Ph(t);if(!this._platform.isBrowser||1!==i.nodeType)return gt();const s=function Pse(n){if(function Nse(){if(null==NA){const n=typeof document<"u"?document.head:null;NA=!(!n||!n.createShadowRoot&&!n.attachShadow)}return NA}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),a=this._elementInfo.get(i);if(a)return r&&(a.checkChildren=!0),a.subject;const c={checkChildren:r,subject:new Ne,rootNode:s};return this._elementInfo.set(i,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(t){const r=Ph(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Ph(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([c,u])=>this._originChanged(c,r,u)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=yc(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,dw),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,dw)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ay(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dw),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dw),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(zt),Ce(fa),Ce(Ooe),Ce(sn,8),Ce(Poe,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ij="cdk-high-contrast-black-on-white",sj="cdk-high-contrast-white-on-black",$A="cdk-high-contrast-active";let oj=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=nt(_oe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove($A,ij,sj),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add($A,ij):2===r&&t.add($A,sj)}}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(fa),Ce(sn))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Loe=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(oj))};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({imports:[hoe]})}return n})();function Foe(n,e){}class hw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let aj=(()=>{class n extends VA{constructor(t,r,i,s,a,c,u,p){super(),this._elementRef=t,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=u,this._focusMonitor=p,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=g=>{this._portalOutlet.hasAttached();const _=this._portalOutlet.attachDomPortal(g);return this._contentAttached(),_},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),r}attachTemplatePortal(t){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let r=null;if("string"==typeof t?r=this._document.querySelector(t):"boolean"==typeof t?r=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(r=t),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=PA(),s=this._elementRef.nativeElement;(!i||i===this._document.body||i===s||s.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=PA();return t===r||t.contains(r)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=PA())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||n)(be(zr),be(zA),be(sn,8),be(hw),be(uw),be(zt),be(pm),be(WA))};static#t=this.\u0275cmp=bn({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&W0(jA,7),2&r){let s;xv(s=Mv())&&(i._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&Hs("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[pn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&Qn(0,Foe,0,0,"ng-template",0)},dependencies:[jA],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class GA{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Ne,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!qV(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const lj=new et("DialogScrollStrategy"),Boe=new et("DialogData"),Uoe=new et("DefaultDialogConfig"),joe={provide:lj,deps:[Fh],useFactory:function Voe(n){return()=>n.scrollStrategies.block()}};let Hoe=0,cj=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,r,i,s,a,c){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ne,this._afterOpenedAtThisLevel=new Ne,this._ariaHiddenElements=new Map,this.afterAllClosed=iy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sy(void 0))),this._scrollStrategy=c}open(t,r){(r={...this._defaultOptions||new hw,...r}).id=r.id||"cdk-dialog-"+Hoe++,r.id&&this.getDialogById(r.id);const s=this._getOverlayConfig(r),a=this._overlay.create(s),c=new GA(a,r),u=this._attachContainer(a,c,r);return c.containerInstance=u,this._attachDialogContent(t,c,u,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){qA(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){qA(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),qA(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const r=new UV({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachContainer(t,r,i){const s=i.injector||i.viewContainerRef?.injector,a=[{provide:hw,useValue:i},{provide:GA,useValue:r},{provide:pm,useValue:t}];let c;i.container?"function"==typeof i.container?c=i.container:(c=i.container.type,a.push(...i.container.providers(i))):c=aj;const u=new UA(c,i.viewContainerRef,Fr.create({parent:s||this._injector,providers:a}),i.componentFactoryResolver);return t.attach(u).instance}_attachDialogContent(t,r,i,s){if(t instanceof Zo){const a=this._createInjector(s,r,i,void 0);let c={$implicit:s.data,dialogRef:r};s.templateContext&&(c={...c,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),i.attachTemplatePortal(new PV(t,null,c,a))}else{const a=this._createInjector(s,r,i,this._injector),c=i.attachComponentPortal(new UA(t,s.viewContainerRef,a,s.componentFactoryResolver));r.componentRef=c,r.componentInstance=c.instance}}_createInjector(t,r,i,s){const a=t.injector||t.viewContainerRef?.injector,c=[{provide:Boe,useValue:t.data},{provide:GA,useValue:r}];return t.providers&&("function"==typeof t.providers?c.push(...t.providers(r,t,i)):c.push(...t.providers)),t.direction&&(!a||!a.get(FA,null,{optional:!0}))&&c.push({provide:FA,useValue:{value:t.direction,change:gt()}}),Fr.create({parent:a||s,providers:c})}_removeOpenDialog(t,r){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){const s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(Fh),Ce(Fr),Ce(Uoe,8),Ce(n,12),Ce(cw),Ce(lj))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();function qA(n,e){let t=n.length;for(;t--;)e(n[t])}let zoe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({providers:[cj,joe],imports:[$V,lw,Loe,lw]})}return n})();const $oe=new et("mat-sanity-checks",{providedIn:"root",factory:function Woe(){return!0}});let hj=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!LA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(oj),Ce($oe,8),Ce(sn))};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({imports:[fm,fm]})}return n})();const fj=ow({passive:!0,capture:!0});class Koe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=yc(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const a=s.get(r);a?a.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,fj)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,fj)))}}class KA{static#e=this._eventManager=new Koe;constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ph(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...pj,...r.animation},a=r.radius||function Zoe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),c=e-i.left,u=t-i.top,p=s.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=c-a+"px",g.style.top=u-a+"px",g.style.height=2*a+"px",g.style.width=2*a+"px",null!=r.color&&(g.style.backgroundColor=r.color),g.style.transitionDuration=`${p}ms`,this._containerElement.appendChild(g);const _=window.getComputedStyle(g),I=_.transitionDuration,R="none"===_.transitionProperty||"0s"===I||"0s, 0s"===I||0===i.width&&0===i.height,q=new qoe(this,g,r,R);g.style.transform="scale3d(1, 1, 1)",q.state=0,r.persistent||(this._mostRecentTransientRipple=q);return!R&&(p||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Te=()=>this._finishRippleTransition(q),me=()=>this._destroyRipple(q);g.addEventListener("transitionend",Te),g.addEventListener("transitioncancel",me)}),this._activeRipples.set(q,null),(R||!p)&&this._finishRippleTransition(q),q}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...pj,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ph(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,mj.forEach(r=>{KA._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_j.forEach(t=>{this._triggerElement.addEventListener(t,this,gj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=tj(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!nj(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(mj.forEach(t=>KA._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&_j.forEach(t=>e.removeEventListener(t,this,gj)))}}class vj{}class Xoe{}const ol="*";function wj(n,e=null){return{type:2,steps:n,options:e}}function Uh(n){return{type:6,styles:n,offset:null}}class mm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Tj{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++t==s&&this._onFinish()}),a.onDestroy(()=>{++r==s&&this._onDestroy()}),a.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((a,c)=>Math.max(a,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Joe(n,e){}class fw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ZA="mdc-dialog--open",Ij="mdc-dialog--opening",Aj="mdc-dialog--closing";let nae=(()=>{class n extends aj{constructor(t,r,i,s,a,c,u,p){super(t,r,i,s,a,c,u,p),this._animationStateChanged=new rn}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#e=this.\u0275fac=function(r){return new(r||n)(be(zr),be(zA),be(sn,8),be(fw),be(uw),be(zt),be(pm),be(WA))};static#t=this.\u0275cmp=bn({type:n,selectors:[["ng-component"]],features:[pn],decls:0,vars:0,template:function(r,i){},encapsulation:2})}return n})();const kj="--mat-dialog-transition-duration";function xj(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?TV(n.substring(0,n.length-2)):n.endsWith("s")?1e3*TV(n.substring(0,n.length-1)):"0"===n?0:null}let rae=(()=>{class n extends nae{constructor(t,r,i,s,a,c,u,p,g){super(t,r,i,s,a,c,u,g),this._animationMode=p,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?xj(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?xj(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(kj,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ij,ZA)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ZA),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ZA),this._animationsEnabled?(this._hostElement.style.setProperty(kj,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Aj)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ij,Aj)}_waitForAnimationToComplete(t,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#e=this.\u0275fac=function(r){return new(r||n)(be(zr),be(zA),be(sn,8),be(fw),be(uw),be(zt),be(pm),be(rp,8),be(WA))};static#t=this.\u0275cmp=bn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(r,i){2&r&&(T0("id",i._config.id),Hs("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),_p("_mat-animation-noopable",!i._animationsEnabled))},features:[pn],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(qe(0,"div",0)(1,"div",1),Qn(2,Joe,0,0,"ng-template",2),$e()())},dependencies:[jA],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class _m{constructor(e,t,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Ne,this._beforeClosed=new Ne,this._state=0,this.disableClose=t.disableClose,this.id=e.id,r._animationStateChanged.pipe(wi(i=>"opened"===i.state),Ks(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(wi(i=>"closed"===i.state),Ks(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),an(this.backdropClick(),this.keydownEvents().pipe(wi(i=>27===i.keyCode&&!this.disableClose&&!qV(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function iae(n,e,t){n._closeInteractionType=e,n.close(t)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(wi(t=>"closing"===t.state),Ks(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Mj=new et("MatMdcDialogData"),sae=new et("mat-mdc-dialog-default-options"),Rj=new et("mat-mdc-dialog-scroll-strategy"),aae={provide:Rj,deps:[Fh],useFactory:function oae(n){return()=>n.scrollStrategies.block()}};let lae=0,cae=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,r,i,s,a,c,u,p,g,_){this._overlay=t,this._defaultOptions=i,this._parentDialog=s,this._dialogRefConstructor=u,this._dialogContainerType=p,this._dialogDataToken=g,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ne,this._afterOpenedAtThisLevel=new Ne,this._idPrefix="mat-dialog-",this.dialogConfigClass=fw,this.afterAllClosed=iy(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(sy(void 0))),this._scrollStrategy=c,this._dialog=r.get(cj)}open(t,r){let i;(r={...this._defaultOptions||new fw,...r}).id=r.id||`${this._idPrefix}${lae++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(t,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:hw,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(a,c,u)=>(i=new this._dialogRefConstructor(a,r,u),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentRef=s.componentRef,i.componentInstance=s.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const a=this.openDialogs.indexOf(i);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}static#e=this.\u0275fac=function(r){t0()};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),vm=(()=>{class n extends cae{constructor(t,r,i,s,a,c,u,p){super(t,r,s,c,u,a,_m,rae,Mj,p),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(Fh),Ce(Fr),Ce(Mp,8),Ce(sae,8),Ce(Rj),Ce(n,12),Ce(cw),Ce(rp,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),uae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({providers:[vm,aae],imports:[zoe,$V,lw,hj,hj]})}return n})();function dae(n,e){1&n&&(qe(0,"small"),ht(1,"This Field is required"),$e())}function hae(n,e){1&n&&(qe(0,"small"),ht(1,"Email is Invalid"),$e())}function fae(n,e){1&n&&(qe(0,"small"),ht(1,"This Field is required"),$e())}const pae=function(){return{"text-align":"center"}},gae=function(){return{width:"100%","mi-width":"fit-content"}};let mae=(()=>{class n{constructor(t,r,i,s){this.fb=t,this.dialogRef=r,this.dialog=i,this.auth=s,this.loginform=this.fb.group({email:[null,[_c.email,_c.required]],pass:[null,[_c.required]]})}handleSignUp(){this.dialogRef.close({next:"signup"})}handleSubmit(){const t=this.loginform.get("email")?.value,r=this.loginform.get("pass")?.value;t&&r&&this.auth.login(t,r).subscribe({next:i=>{this.dialogRef.close({next:"authenticated"})},error:i=>{alert(i),console.log(i)}})}static#e=this.\u0275fac=function(r){return new(r||n)(be(DV),be(_m),be(vm),be(ku))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-login"]],decls:39,vars:10,consts:[[1,"container"],[1,"row",3,"formGroup","ngSubmit"],["f","ngForm"],[1,"col-lg-12","ms-auto","px-5","py-5","me-auto","bg-card"],[1,"row"],[1,"col-lg-12"],[3,"ngStyle"],[1,"row","mt-4"],["role","alert",1,"alert","alert-success"],[1,"alert-link",3,"click"],[1,"row","mt-1"],[1,"mb-3"],["for","",1,"form-label"],["name","email","type","text","formControlName","email","id","","placeholder","","aria-describedby","helpId",1,"form-control"],[4,"ngIf"],[1,"col-lg-11"],["name","pass","formControlName","pass","id","","type","password","placeholder","","aria-describedby","helpId",1,"form-control"],["pass",""],[1,"col-lg-1","m-auto","i-svg",3,"click"],[1,"bi","bi-eye-fill",3,"ngClass"],[1,"col-md-4"],["type","submit",1,"btn","btn-success",3,"ngClass","ngStyle"]],template:function(r,i){if(1&r){const s=Ws();qe(0,"div",0)(1,"form",1,2),Xt("ngSubmit",function(){return i.handleSubmit()}),qe(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),ht(7,"Login"),$e()()(),qe(8,"div",7)(9,"div",5)(10,"div",8)(11,"strong"),ht(12,"New User! "),$e(),qe(13,"a",9),Xt("click",function(){return i.handleSignUp()}),ht(14,"Click Here"),$e()()()(),qe(15,"div",10)(16,"div",5)(17,"div",11)(18,"label",12),ht(19,"Email"),$e(),vn(20,"input",13),Qn(21,dae,2,0,"small",14),Qn(22,hae,2,0,"small",14),$e()()(),qe(23,"div",10)(24,"div",5)(25,"div",11)(26,"label",12),ht(27,"Password"),$e(),qe(28,"div",4)(29,"div",15),vn(30,"input",16,17),$e(),qe(32,"div",18),Xt("click",function(){li(s);const c=zs(31);return ci(c.type="password"==c.type?"text":"password")}),vn(33,"i",19),$e()(),Qn(34,fae,2,0,"small",14),$e()()(),qe(35,"div",7)(36,"div",20)(37,"button",21),ht(38," Login "),$e()()()()()()}if(2&r){const s=zs(2),a=zs(31);Dt(1),Bt("formGroup",i.loginform),Dt(5),Bt("ngStyle",go(8,pae)),Dt(15),Bt("ngIf",s.form.controls.email&&s.form.controls.email.errors&&s.form.controls.email.errors.required&&s.form.controls.email.touched),Dt(1),Bt("ngIf",s.form.controls.email&&s.form.controls.email.errors&&s.form.controls.email.errors.email&&s.form.controls.email.touched),Dt(11),Bt("ngClass","password"==a.type?"bi-eye-fill":"bi-eye-slash"),Dt(1),Bt("ngIf",s.form.controls.pass&&s.form.controls.pass.errors&&s.form.controls.pass.touched),Dt(3),Bt("ngClass","INVALID"==s.form.status?"disabled":"false")("ngStyle",go(9,gae))}},dependencies:[Np,Qd,su,Jb,Oh,Hb,zb,cm,tw]})}return n})();const _ae=function(){return{"text-align":"center"}};function vae(n,e){1&n&&($o(0),qe(1,"h1",11),ht(2,"No exciting Projects"),$e(),Go()),2&n&&(Dt(1),Bt("ngStyle",go(1,_ae)))}function yae(n,e){if(1&n){const t=Ws();$o(0),qe(1,"button",12),Xt("click",function(){const s=li(t).$implicit;return ci(Va().openProject(s.key))}),ht(2),$e(),Go()}if(2&n){const t=e.$implicit;Dt(2),Yo(t.value.name)}}let bae=(()=>{class n{constructor(t,r,i,s,a){this.userId=t,this.auth=r,this.projectDialogRef=i,this.projectService=s,this.htmlService=a}ngOnInit(){this.getProjects()}getProjects(){this.htmlService.spinner.emit(!0),this.auth.getProjects().subscribe({next:t=>{this.projects=t,this.htmlService.spinner.emit(!1)},error:t=>{console.log(t),this.htmlService.spinner.emit(!1)}})}openProject(t){this.htmlService.spinner.emit(!0),this.projectService.loadProjectFiles(t).subscribe({next:r=>{this.htmlService.htmlCodeChange.emit(r),this.projectService.getClasses(t).subscribe({next:i=>{this.projectDialogRef.close(),this.htmlService.spinner.emit(!1)},error:i=>{console.log(i),this.projectDialogRef.close(),this.htmlService.spinner.emit(!1)}})},error:r=>{console.log(r),this.projectService.getClasses(t).subscribe({next:i=>{this.projectDialogRef.close(),this.htmlService.spinner.emit(!1)},error:i=>{console.log(i),this.projectDialogRef.close(),this.htmlService.spinner.emit(!1)}})}})}addNewProject(t){this.htmlService.spinner.emit(!0);const r=(new Date).getTime().toString();this.auth.createNewProject(t,r).then(i=>{this.getProjects()}).catch(i=>{console.log(i),this.htmlService.spinner.emit(!1)})}static#e=this.\u0275fac=function(r){return new(r||n)(be(Mj),be(ku),be(_m),be(sl),be(da))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-projects-model"]],decls:18,vars:5,consts:[[1,"container","p-4"],[1,"row"],[1,"col-6"],[3,"ngSubmit"],[1,"mb-3"],["type","text","aria-describedby","helpId","placeholder","",1,"form-control","mt-2"],["name",""],["id","helpId",1,"form-text","text-muted"],["type","submit",1,"btn","btn-success",3,"disabled"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"m-auto",3,"ngStyle"],[1,"list-single-project",3,"click"]],template:function(r,i){if(1&r){const s=Ws();qe(0,"div",0)(1,"h2"),ht(2,"Projects"),$e(),qe(3,"div",1)(4,"div",2),ht(5," create new Project "),qe(6,"form",3),Xt("ngSubmit",function(){li(s);const c=zs(9);return ci(i.addNewProject(c.value))}),qe(7,"div",4),vn(8,"input",5,6),qe(10,"small",7),ht(11,"Enter project Name(special characters are not allowed)"),$e()(),qe(12,"button",8),ht(13,"New"),$e()()(),qe(14,"div",2),Qn(15,vae,3,2,"ng-container",9),Qn(16,yae,3,1,"ng-container",10),Dp(17,"keyvalue"),$e()()()}if(2&r){const s=zs(9);Dt(12),Bt("disabled",!s.value),Dt(3),Bt("ngIf",!i.projects),Dt(1),Bt("ngForOf",Tp(17,3,i.projects))}},dependencies:[Pp,Qd,su,Jb,zb,Qb,Lp],styles:[".list-single-project[_ngcontent-%COMP%]{background-color:#6dab85;border-radius:10px;cursor:pointer;width:100%;padding:5px 0;transition-duration:.2s}.list-single-project[_ngcontent-%COMP%]:hover{background-color:#407f57}.list-single-project[_ngcontent-%COMP%]:disabled{background-color:#314f3c}.list-single-project[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{padding:2px 10px}"]})}return n})();class wae{constructor(e,t,r,i){this.name=e,this.email=t,this.pass=r,this.contact=i}}const Cae=n=>{const e=n.get("pass"),t=n.get("repass");return e?.value==t?.value?null:{PasswordNoMatch:!0}},Eae=n=>{const e=n;if(e.value.length<6)return{LengthError:!0};var t=/[ ]/;return t.test(e.value)?{SpaceError:!0}:(t=/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/).test(e.value)?null:{SpecialCharError:!0}};function Sae(n,e){}function Dae(n,e){1&n&&(qe(0,"small"),ht(1,"This Field is required"),$e())}function Tae(n,e){1&n&&(qe(0,"small"),ht(1,"This Field is required"),$e())}function Iae(n,e){1&n&&(qe(0,"small"),ht(1,"This Field is required"),$e())}function Aae(n,e){1&n&&(qe(0,"small"),ht(1,"Email is Invalid"),$e())}function kae(n,e){1&n&&(qe(0,"small"),ht(1,"This Field is required"),$e())}function xae(n,e){1&n&&(qe(0,"small"),ht(1,"Length must be >6 characters"),$e())}function Mae(n,e){1&n&&(qe(0,"small"),ht(1,"Password can't contain space"),$e())}function Rae(n,e){1&n&&(qe(0,"small"),ht(1,"Password must contain atleast one special character"),$e())}function Oae(n,e){1&n&&(qe(0,"small"),ht(1,"This Field is required"),$e())}function Nae(n,e){1&n&&(qe(0,"small"),ht(1,"Password doesn't match"),$e())}const Pae=function(){return{"text-align":"center"}},Lae=function(){return{width:"100%","mi-width":"fit-content"}};let Fae=(()=>{class n{constructor(t,r,i,s){this.dialog=t,this.fb=r,this.signupdialogref=i,this.auth=s,this.signUpForm=this.fb.group({name:["",_c.required],passSecurity:this.fb.group({pass:["",[_c.required,Eae]],repass:["",[_c.required]]},{validators:Cae}),userContact:this.fb.group({email:["",_c.required],contact:[,_c.required]})})}ngOnInit(){}handleLogin(){this.signupdialogref.close({next:"login"})}handleSubmit(){const t=new wae(this.signUpForm.get("name")?.value,this.signUpForm.get("userContact")?.value.email,this.signUpForm.get("passSecurity")?.value.pass,this.signUpForm.get("userContact")?.value.contact);this.auth.signUp(t).subscribe({next:r=>{console.log(this.signupdialogref),this.signupdialogref.close({next:"authenticated"})},error:r=>{alert(r),console.log(r)}})}static#e=this.\u0275fac=function(r){return new(r||n)(be(vm),be(DV),be(_m),be(ku))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-signup"]],decls:63,vars:17,consts:[["appPlaceholder",""],[1,"container"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-lg-12","ms-auto","px-5","py-5","me-auto","bg-card"],[1,"row"],[1,"col-lg-12"],[3,"ngStyle"],[1,"row","mt-1"],["role","alert",1,"alert","alert-success"],[1,"alert-link",3,"click"],[1,"row","mt-2"],[1,"col-lg-6"],[1,"mb-3"],["for","",1,"form-label"],["name","name","formControlName","name","type","text","id","","placeholder","","aria-describedby","helpId",1,"form-control"],["name",""],[4,"ngIf"],["formGroupName","userContact",1,"col-lg-6"],["name","contact","formControlName","contact","type","text","id","","placeholder","","aria-describedby","helpId",1,"form-control"],["formGroupName","userContact",1,"row","mt-1"],["name","email","email","","formControlName","email","type","text","id","","placeholder","","aria-describedby","helpId",1,"form-control"],["email",""],["formGroupName","passSecurity",1,"row","mt-1"],[1,"col-lg-5"],["name","pass","type","password","formControlName","pass","id","","placeholder","","aria-describedby","helpId",1,"form-control"],["pass",""],[1,"col-2","m-auto","i-svg",3,"click"],[1,"bi","bi-eye-fill",3,"ngClass"],["name","repass","type","password","formControlName","repass","placeholder","","aria-describedby","helpId",1,"form-control"],["repass",""],[1,"row","mt-4"],[1,"col-md-4"],["type","submit",1,"btn","btn-success",3,"ngClass","ngStyle"]],template:function(r,i){if(1&r){const s=Ws();Qn(0,Sae,0,0,"ng-template",0),qe(1,"div",1)(2,"form",2),Xt("ngSubmit",function(){return i.handleSubmit()}),qe(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),ht(7,"Sign Up"),$e()()(),qe(8,"div",7)(9,"div",5)(10,"div",8)(11,"strong"),ht(12,"Already have an acount! "),$e(),qe(13,"a",9),Xt("click",function(){return i.handleLogin()}),ht(14,"Click Here"),$e()()()(),qe(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),ht(19,"Name"),$e(),vn(20,"input",14,15),Qn(22,Dae,2,0,"small",16),$e()(),qe(23,"div",17)(24,"div",12)(25,"label",13),ht(26,"Contact"),$e(),vn(27,"input",18),Qn(28,Tae,2,0,"small",16),$e()()(),qe(29,"div",19)(30,"div",5)(31,"div",12)(32,"label",13),ht(33,"Email"),$e(),vn(34,"input",20,21),Qn(36,Iae,2,0,"small",16),Qn(37,Aae,2,0,"small",16),$e()()(),qe(38,"div",22)(39,"div",23)(40,"div",12)(41,"label",13),ht(42,"Password"),$e(),vn(43,"input",24,25),Qn(45,kae,2,0,"small",16),Qn(46,xae,2,0,"small",16),Qn(47,Mae,2,0,"small",16),Qn(48,Rae,2,0,"small",16),$e()(),qe(49,"div",26),Xt("click",function(){li(s);const c=zs(44),u=zs(56);return ci(c.type=u.type="password"==c.type?"text":"password")}),vn(50,"i",27),$e(),qe(51,"div",23)(52,"div",12)(53,"label",13),ht(54,"Confirm Passwod"),$e(),vn(55,"input",28,29),Qn(57,Oae,2,0,"small",16),Qn(58,Nae,2,0,"small",16),$e()()(),qe(59,"div",30)(60,"div",31)(61,"button",32),ht(62," Submit "),$e()()()()()()}if(2&r){const s=zs(44);Dt(2),Bt("formGroup",i.signUpForm),Dt(4),Bt("ngStyle",go(15,Pae)),Dt(16),Bt("ngIf",(null==i.signUpForm.controls.name.errors?null:i.signUpForm.controls.name.errors.required)&&i.signUpForm.controls.name.touched),Dt(6),Bt("ngIf",i.signUpForm.controls.userContact.controls.contact.touched&&(null==i.signUpForm.controls.userContact.controls.contact.errors?null:i.signUpForm.controls.userContact.controls.contact.errors.required)),Dt(8),Bt("ngIf",i.signUpForm.controls.userContact.controls.email.touched&&(null==i.signUpForm.controls.userContact.controls.email.errors?null:i.signUpForm.controls.userContact.controls.email.errors.required)),Dt(1),Bt("ngIf",null==i.signUpForm.controls.userContact.controls.email.errors?null:i.signUpForm.controls.userContact.controls.email.errors.email),Dt(8),Bt("ngIf",(null==i.signUpForm.controls.passSecurity.controls.pass.errors?null:i.signUpForm.controls.passSecurity.controls.pass.errors.required)&&i.signUpForm.controls.passSecurity.controls.pass.touched),Dt(1),Bt("ngIf",(null==i.signUpForm.controls.passSecurity.controls.pass.errors?null:i.signUpForm.controls.passSecurity.controls.pass.errors.LengthError)&&i.signUpForm.controls.passSecurity.controls.pass.touched),Dt(1),Bt("ngIf",(null==i.signUpForm.controls.passSecurity.controls.pass.errors?null:i.signUpForm.controls.passSecurity.controls.pass.errors.SpaceError)&&i.signUpForm.controls.passSecurity.controls.pass.touched),Dt(1),Bt("ngIf",(null==i.signUpForm.controls.passSecurity.controls.pass.errors?null:i.signUpForm.controls.passSecurity.controls.pass.errors.SpecialCharError)&&i.signUpForm.controls.passSecurity.controls.pass.touched),Dt(2),Bt("ngClass","password"==s.type?"bi-eye-fill":"bi-eye-slash"),Dt(7),Bt("ngIf",(null==i.signUpForm.controls.passSecurity.controls.repass.errors?null:i.signUpForm.controls.passSecurity.controls.repass.errors.required)&&i.signUpForm.controls.passSecurity.controls.repass.touched),Dt(1),Bt("ngIf",!(null!=i.signUpForm.controls.passSecurity.controls.repass.errors&&i.signUpForm.controls.passSecurity.controls.repass.errors.required)&&(null==i.signUpForm.controls.passSecurity.errors?null:i.signUpForm.controls.passSecurity.errors.PasswordNoMatch)&&i.signUpForm.controls.passSecurity.controls.repass.touched),Dt(3),Bt("ngClass",i.signUpForm.invalid?"disabled":"")("ngStyle",go(16,Lae))}},dependencies:[Np,Qd,su,Jb,Oh,Hb,zb,IA,cm,tw,ew]})}return n})(),Bae=(()=>{class n{constructor(t,r){this.authService=t,this.dialogRef=r,this.userData={name:"",email:""}}ngOnInit(){this.userData=this.authService.userData,this.authService.userDataChanged.subscribe(t=>{this.userData=t})}logOut(){this.authService.logout().then(t=>{this.dialogRef.close()}).catch(t=>{alert(t)})}static#e=this.\u0275fac=function(r){return new(r||n)(be(ku),be(_m))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-account"]],decls:11,vars:2,consts:[[1,"container","account-dialog"],[1,"row"],[1,"col-4"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(r,i){1&r&&(qe(0,"div",0)(1,"div",1)(2,"h1"),ht(3),$e()(),qe(4,"div",1)(5,"p"),ht(6),$e()(),qe(7,"div",1)(8,"div",2)(9,"button",3),Xt("click",function(){return i.logOut()}),ht(10,"Log Out"),$e()()()()),2&r&&(Dt(3),Yo(i.userData.name),Dt(3),Yo(i.userData.email))},styles:[".account-dialog[_ngcontent-%COMP%]{padding:15px}.account-dialog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin-bottom:auto}"]})}return n})(),Uae=(()=>{class n{constructor(t){this.htmlService=t,this.loading=!1}ngOnInit(){this.htmlService.spinner.subscribe(t=>{this.loading=t})}static#e=this.\u0275fac=function(r){return new(r||n)(be(da))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-spinner"]],decls:5,vars:1,consts:[[3,"ngClass"]],template:function(r,i){1&r&&(qe(0,"div",0),vn(1,"div")(2,"div")(3,"div")(4,"div"),$e()),2&r&&Bt("ngClass",i.loading?"spinner":"")},dependencies:[Np],styles:[".spinner[_ngcontent-%COMP%]{position:absolute;width:81px;border-radius:10px;left:50%;display:flex;z-index:5000;background-color:#fff;height:30px}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#000;height:10px;position:absolute;top:10px;border-radius:5px;animation-timing-function:cubic-bezier(.11,.4,.88,.58);width:10px}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation:_ngcontent-%COMP%_popup .6s infinite;left:10px}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation:_ngcontent-%COMP%_slide .6s infinite;left:15px}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation:_ngcontent-%COMP%_slide .6s infinite;left:35px}.spinner[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){animation:_ngcontent-%COMP%_popdown .6s infinite;left:55px}@keyframes _ngcontent-%COMP%_popup{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_popdown{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes _ngcontent-%COMP%_slide{0%{transform:translate(0)}to{transform:translate(16px)}}"]})}return n})();const Vae=function(){return{"font-size":"x-large",cursor:"pointer"}};let jae=(()=>{class n{constructor(t,r,i,s){this.htmlService=t,this.projectService=r,this.dialog=i,this.authService=s,this.projectName=""}ngOnInit(){this.projectService.projectDataChange.subscribe(()=>{this.projectName=this.projectService.projectname})}setFullScreen(){this.htmlService.setFullScreen(!0)}openAccountDialog(){const r=this.dialog.open(Bae,{height:"fit-content",width:"450px"}).afterClosed().subscribe(i=>{r.unsubscribe()})}saveProject(){var t=this;return Ae(function*(){t.htmlService.spinner.emit(!0),t.projectService.saveProject(t.htmlService.htmlContent,t.htmlService.finalCss).subscribe({next:s=>{t.htmlService.spinner.emit(!1)},error:s=>{console.log(s),t.htmlService.spinner.emit(!1),alert(s)}})})()}static#e=this.\u0275fac=function(r){return new(r||n)(be(da),be(sl),be(vm),be(ku))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-header"]],decls:29,vars:3,consts:[[1,"navbar","bg-header","navbar-expand","navbar-dark","bg-faded"],["href","#",1,"navbar-brand"],[1,"container"],[1,"navbar-nav","me-auto","mt-2","mt-lg-0"],[1,"nav-item","me-5"],[1,"nav-link","projectName"],[1,"nav-item"],["routerLinkActive","nav-code-active","routerLink","preview",1,"nav-link"],["routerLinkActive","nav-code-active","routerLink","code",1,"nav-link"],[1,"d-flex","my-2","my-lg-0"],["href","","aria-current","page",1,"nav-link"],[1,"nav-link",3,"click"],[1,"bi","bi-person-circle","nav-link",3,"ngStyle","click"]],template:function(r,i){1&r&&(qe(0,"nav",0)(1,"a",1),ht(2,"Css Generator"),$e(),qe(3,"div",2)(4,"ul",3)(5,"li",4)(6,"label",5),ht(7),$e()(),qe(8,"li",6)(9,"a",7),ht(10,"Preview"),$e()(),qe(11,"li",6)(12,"a",8),ht(13,"Code"),$e()(),qe(14,"li"),vn(15,"app-spinner"),$e()(),qe(16,"div",9)(17,"ul",3)(18,"li",6)(19,"a",10),ht(20,"Projects"),$e()(),qe(21,"li",6)(22,"a",11),Xt("click",function(){return i.setFullScreen()}),ht(23,"Full Screen"),$e()(),qe(24,"li",6)(25,"a",11),Xt("click",function(){return i.saveProject()}),ht(26,"Save"),$e()(),qe(27,"li",6)(28,"i",12),Xt("click",function(){return i.openAccountDialog()}),$e()()()()()()),2&r&&(Dt(7),Yo(i.projectName),Dt(21),Bt("ngStyle",go(2,Vae)))},dependencies:[su,Dy,zP,Uae],styles:[".bg-header[_ngcontent-%COMP%]{background-color:#263e3f;padding-left:3%}.nav-code-active[_ngcontent-%COMP%]{background-color:#097c55;border-radius:5px;transition-duration:.1s}.projectName[_ngcontent-%COMP%]{font-size:x-large;color:#fff}"]})}return n})();function Hae(n,e){if(1&n){const t=Ws();qe(0,"div",11)(1,"div",12),vn(2,"input",13,14),$e(),qe(4,"div",15)(5,"button",16),Xt("click",function(){li(t);const i=zs(3);return ci(Va().createClass(i.value))}),ht(6,"Add"),$e()()()}}function zae(n,e){if(1&n){const t=Ws();$o(0),qe(1,"li",17),Xt("dragstart",function(i){const a=li(t).$implicit;return ci(Va().handleDrag(i,a.key))})("click",function(){const s=li(t).$implicit;return ci(Va().selectClass(s.key))}),ht(2),$e(),Go()}if(2&n){const t=e.$implicit;Dt(1),Bt("draggable",!0),Dt(1),zl(" ",t.key," ")}}let Wae=(()=>{class n{constructor(t){this.projectService=t,this.selectedClass=new rn,this.newclass=!1,this.classes=[],this.classesToApply=[]}ngOnInit(){this.projectService.projectDataChange.subscribe(t=>{this.classes=t}),this.projectService.classesToAplly.subscribe(t=>{this.classesToApply=t})}selectClass(t){this.selectedClass.emit(t)}handleDrag(t,r){t.dataTransfer.setData("text/plain",r)}createClass(t){this.projectService.addClass(t).then(r=>{this.selectedClass.emit(t),this.newclass=!1}).catch(r=>{console.log(r)})}static#e=this.\u0275fac=function(r){return new(r||n)(be(sl))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-classlist"]],outputs:{selectedClass:"selectedClass"},decls:14,vars:4,consts:[[1,"bg-classlist","container"],[1,"container"],[1,"row","pt-4","w-75","m-auto"],["type","button",1,"btn","btn-light",3,"click"],[1,"bi","bi-plus"],["class","row mt-3",4,"ngIf"],[1,"row","classlist"],[1,"mt-4"],[1,"m-0","p-0"],[1,"mt-2"],[4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"col-8"],["type","text","name","","id","",1,"form-control","ps-0","pe-0","ms-0","me-0"],["className",""],[1,"col-2"],["type","button",1,"btn","btn-success",3,"click"],[3,"draggable","dragstart","click"]],template:function(r,i){1&r&&(qe(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Xt("click",function(){return i.newclass=!i.newclass}),vn(4,"i",4),ht(5,"New Class"),$e()(),Qn(6,Hae,7,0,"div",5),qe(7,"div",6)(8,"h3",7),ht(9,"classes"),$e(),vn(10,"hr",8),qe(11,"ul",9),Qn(12,zae,3,2,"ng-container",10),Dp(13,"keyvalue"),$e()()()()),2&r&&(Dt(6),Bt("ngIf",i.newclass),Dt(6),Bt("ngForOf",Tp(13,2,i.classes)))},dependencies:[Pp,Qd,Lp],styles:[".bg-classlist[_ngcontent-%COMP%]{max-height:calc(100vh - 60px);min-height:calc(100vh - 60px);background-color:#263e3f;overflow-y:scroll}.classlist[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{background-color:#48695d;margin-top:5px;border-radius:10px;cursor:pointer;padding:5px 15px;color:#e7e7e7}.classlist[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{list-style-type:none}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#cccbcb}"]})}return n})(),$ae=(()=>{class n{constructor(){this.code=!1}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-previewdesktop"]],decls:3,vars:0,consts:[[1,"container"],[1,"row"],[1,"m-0","p-0"]],template:function(r,i){1&r&&(qe(0,"div",0)(1,"div",1),vn(2,"router-outlet",2),$e()())},dependencies:[_y]})}return n})(),Gae=(()=>{class n{constructor(t,r){this.htmlService=t,this._sanitizer=r,t.previewMobile.subscribe(i=>{this.safeHtml=this._sanitizer.bypassSecurityTrustResourceUrl(`data:text/html;charset=utf-8,${encodeURIComponent(i)}`)})}static#e=this.\u0275fac=function(r){return new(r||n)(be(da),be(UE))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-previewmobile"]],decls:4,vars:1,consts:[[1,"container"],[1,"row"],[1,"preview-container-mobile","m-0","p-0"],["sandbox","allow-scripts allow-same-origin","width","100%","height","100%",1,"m-0","p-0",3,"src"]],template:function(r,i){1&r&&(qe(0,"div",0)(1,"div",1)(2,"div",2),vn(3,"iframe",3),$e()()()),2&r&&(Dt(3),Bt("src",i.safeHtml,J_))},styles:[".preview-container-mobile[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;width:18%;background-color:#fff}"]})}return n})();function qae(n,e){if(1&n){const t=Ws();$o(0),qe(1,"label",16),Xt("click",function(){const s=li(t).$implicit;return ci(Va().updateCurrentAttribute(s,""))}),ht(2),$e(),Go()}if(2&n){const t=e.$implicit;Dt(2),Yo(t)}}function Kae(n,e){if(1&n){const t=Ws();$o(0),qe(1,"tr",17)(2,"td",18),ht(3),$e(),qe(4,"td"),ht(5),$e(),qe(6,"td")(7,"i",19),Xt("click",function(){const s=li(t).$implicit;return ci(Va().removeAttr(s.key))}),ht(8," remove"),$e()()(),Go()}if(2&n){const t=e.$implicit;Dt(3),Yo(t.key),Dt(2),Yo(t.value)}}const Yae=function(){return{"overflow-y":"scroll","max-height":"250px"}};let Zae=(()=>{class n{constructor(t,r){this.projectService=t,this.htmlService=r,this.allCssAttributes=[],this.currentAttribute={attr:"",value:""}}ngOnInit(){this.getCssFromFile(),this.htmlService.finalCssChange.subscribe(t=>{this.attributes=this.projectService.projectData[this.currentClass]})}ngOnChanges(t){this.projectService.projectData&&(this.attributes=this.projectService.projectData[t.currentClass.currentValue])}getCssFromFile(){this.htmlService.fetchAllCssProperties().subscribe({next:t=>{this.allCssAttributes=t.split(",")},error:t=>{console.log(t)}})}updateCurrentAttribute(t,r){t&&""!=t&&(this.currentAttribute.attr=t.trim()),r&&""!=r&&(this.currentAttribute.value=r)}addAttribute(){this.currentClass?this.projectService.addAttribute(this.currentClass,this.currentAttribute.attr,this.currentAttribute.value).then(t=>{this.projectService.projectData&&this.currentClass&&(this.attributes=this.projectService.projectData[this.currentClass]),this.currentAttribute={attr:"",value:""}}).catch(t=>{console.log(t)}):alert("please select clss first")}removeAttr(t){this.projectService.removeAttr(this.currentClass,t).then(r=>{this.projectService.projectData&&this.currentClass&&(this.attributes=this.projectService.projectData[this.currentClass]),this.currentAttribute={attr:"",value:""}}).catch(r=>{console.log(r)})}static#e=this.\u0275fac=function(r){return new(r||n)(be(sl),be(da))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-newattr"]],inputs:{currentClass:"currentClass"},features:[Mi],decls:32,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"dropdown"],["type","button","id","triggerId","data-bs-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","triggerId",1,"dropdown-menu",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"col-4"],["type","text","name","","id","",1,"form-control",3,"input"],["attrval",""],[1,"col-2"],["type","button",1,"btn","btn-success",3,"click"],[1,"row","mt-3"],[1,"table-responsive"],[1,"table","table-gray"],["scope","col"],[1,"dropdown-item",3,"click"],[1,""],["scope","row"],[1,"bi","bi-trash",3,"click"]],template:function(r,i){if(1&r){const s=Ws();qe(0,"div",0)(1,"div",1)(2,"h2"),ht(3),$e()(),qe(4,"div",1)(5,"div",2)(6,"div",3)(7,"button",4),ht(8),$e(),qe(9,"div",5),Qn(10,qae,3,1,"ng-container",6),$e()()(),qe(11,"div",7)(12,"input",8,9),Xt("input",function(){li(s);const c=zs(13);return ci(i.updateCurrentAttribute("",c.value))}),$e()(),qe(14,"div",10)(15,"button",11),Xt("click",function(){return i.addAttribute()}),ht(16,"Add"),$e()()(),qe(17,"div",12),$o(18),qe(19,"div",13)(20,"table",14)(21,"thead")(22,"tr")(23,"th",15),ht(24,"Attribute"),$e(),qe(25,"th",15),ht(26,"Value"),$e(),qe(27,"th",15),ht(28,"Action"),$e()()(),qe(29,"tbody"),Qn(30,Kae,9,2,"ng-container",6),Dp(31,"keyvalue"),$e()()(),Go(),$e()()}2&r&&(Dt(3),Yo(i.currentClass?i.currentClass:"No class selected"),Dt(5),zl(" ",""!=i.currentAttribute.attr?i.currentAttribute.attr:"Select Attribute"," "),Dt(1),Bt("ngStyle",go(7,Yae)),Dt(1),Bt("ngForOf",i.allCssAttributes),Dt(20),Bt("ngForOf",Tp(31,5,i.attributes)))},dependencies:[Pp,su,Lp],styles:["p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#cccbcb}"]})}return n})(),Xae=(()=>{class n{constructor(t,r){this.htmlService=t,this.projectHandler=r,this.cssText=""}ngOnInit(){this.htmlService.finalCssChange.subscribe(t=>{this.cssText=t})}generateObj(){var t="";const r=this.cssText.split("}");r.splice(r.indexOf(r.at(0)),1),r.pop();for(let a of r)t+=a+"},";const i=(t=t.replaceAll(".","")).split(",");i.pop();let s="";for(let a of i){const c=a.split("{")[1];s+='"'+a.split("{")[0]?.trim()+'":{';const u=c.split(";");u.pop();for(let p of u){const g=p.split(":");u.indexOf(p)==u.length-1?s+='"'+g.at(0)?.trim()+'":"'+g.at(1)?.trim()+'"':s+='"'+g.at(0)?.trim()+'":"'+g.at(1)?.trim()+'",'}i.indexOf(a)==i.length-1?s+="}":s+="},"}s="{"+s+"}",this.projectHandler.setClasses(JSON.parse(s)).then(a=>{}).catch(a=>{console.log(a)})}static#e=this.\u0275fac=function(r){return new(r||n)(be(da),be(sl))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-csseditor"]],decls:12,vars:1,consts:[[1,"container"],[1,"row","editor"],[1,"card"],[1,"card-top","row"],[1,"col-8"],[1,"text-light"],[1,"col-4"],["type","button",1,"btn","btn-warning","mt-2","mb-2",3,"click"],[1,"row"],["type","text",1,"mx-auto","css-editor",3,"ngModel","ngModelChange"]],template:function(r,i){1&r&&(qe(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),ht(6,"css editor"),$e()(),qe(7,"div",6)(8,"button",7),Xt("click",function(){return i.generateObj()}),ht(9,"Update"),$e()()(),qe(10,"div",8)(11,"textarea",9),Xt("ngModelChange",function(a){return i.cssText=a}),$e()()()()()),2&r&&(Dt(11),Bt("ngModel",i.cssText))},dependencies:[Oh,Hb,wA],styles:[".card-top[_ngcontent-%COMP%]{background-color:#41665e;border-radius:5px}.card-top[_ngcontent-%COMP%] > h6[_ngcontent-%COMP%]{color:#fff;margin:auto;padding:5px 15px 8px}.css-editor[_ngcontent-%COMP%]{background-color:#000;width:100%;color:#fff;height:20vh;max-lines:30;border-radius:5px}"]})}return n})();var Qae=Le(965);let Jae=(()=>{class n{constructor(t,r){this.projectService=t,this.htmlService=r,this.classCount=0,this.projectSize={htmlSize:0,cssSize:0}}getProjectSize(){const t=this.projectSize.cssSize+this.projectSize.htmlSize;return t<1e3?t.toFixed(2)+" bytes":t<1e6?(t/1e3).toFixed(2)+" KB":t<1e9?(t/1e6).toFixed(2)+" MB":t.toFixed(2)+" bytes"}exportProject(){this.htmlService.spinner.emit(!0),this.projectService.downloadProject().subscribe({next:t=>{let r=new Qae;r.file("htmlFile.html",t.htmlBlob,{binary:!0}),r.file("cssFile.css",t.cssBlob,{binary:!0}),r.generateAsync({type:"blob"}).then(i=>{this.htmlService.spinner.emit(!1);const s=document.createElement("a"),a=URL.createObjectURL(i);s.href=a,s.download="files.zip",s.click()}).catch(i=>{console.log(i)})},error:t=>{console.log(t)}})}ngOnInit(){this.projectService.projectDataChange.subscribe(t=>{this.classCount=Object.keys(t).length}),this.htmlService.htmlCodeChange.subscribe(t=>{this.projectSize.htmlSize=t.length}),this.htmlService.finalCssChange.subscribe(t=>{this.projectSize.cssSize=t.length})}static#e=this.\u0275fac=function(r){return new(r||n)(be(sl),be(da))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-generatefile"]],decls:10,vars:2,consts:[[1,"container","w-50"],[1,"row"],["type","button",1,"btn","btn-success",3,"click"],[1,"mt-3"]],template:function(r,i){1&r&&(qe(0,"div",0)(1,"div",1)(2,"button",2),Xt("click",function(){return i.exportProject()}),ht(3,"Export Project"),$e()(),qe(4,"div",3)(5,"p"),ht(6),$e()(),qe(7,"div",3)(8,"p"),ht(9),$e()()()),2&r&&(Dt(6),zl("Classes : ",i.classCount,""),Dt(3),zl("Size : ",i.getProjectSize(),""))}})}return n})();function ele(n,e){if(1&n){const t=Ws();$o(0),qe(1,"label",6)(2,"input",7),Xt("change",function(){const s=li(t).$implicit;return ci(Va().handleSelectedClass(s.value))}),$e(),ht(3),$e(),Go()}if(2&n){const t=e.$implicit;Dt(3),zl(" ",t.value," ")}}let tle=(()=>{class n{constructor(t,r){this.projectService=t,this.htmlService=r,this.classes=[]}ngOnInit(){this.projectService.classesToAplly.subscribe(t=>{this.classes=t.classes})}handleSelectedClass(t){t=t.toString(),this.htmlService.removeClass.emit(t)}static#e=this.\u0275fac=function(r){return new(r||n)(be(sl),be(da))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-select-classes"]],decls:9,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-6"],[1,"mt-3","select-classes"],[1,"list-group"],[4,"ngFor","ngForOf"],[1,"list-group-item"],["checked","true","type","checkbox","value","",1,"form-check-input","me-1",3,"change"]],template:function(r,i){1&r&&(qe(0,"div",0)(1,"h2"),ht(2,"Applied classes"),$e(),qe(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),Qn(7,ele,4,1,"ng-container",5),Dp(8,"keyvalue"),$e()()()()()),2&r&&(Dt(7),Bt("ngForOf",Tp(8,1,i.classes)))},dependencies:[Pp,Lp],styles:["p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#cccbcb}.select-classes[_ngcontent-%COMP%]{position:absolute;width:20vw;top:20px;bottom:0;right:0;overflow-y:scroll}"]})}return n})();const nle=function(){return{width:"100vw"}},rle=function(){return{position:"relative"}},ile=function(){return{color:"gray"}};let sle=(()=>{class n{constructor(t,r,i){this.dialog=t,this.auth=r,this.router=i,this.title="CssGen"}openLogin(){const t=this.dialog.open(mae,{height:"fit-content",width:"450px"});t.disableClose=!0;const r=t.afterClosed().subscribe(i=>{r.unsubscribe(),i&&"signup"==i.next?this.openSignUp():i&&"authenticated"==i.next&&(this.cuserUid=this.auth.cuser?.uid)})}openSignUp(){const t=this.dialog.open(Fae,{height:"fit-content",width:"450px"});t.disableClose=!0;const r=t.afterClosed().subscribe(i=>{r.unsubscribe(),i&&"login"==i.next?this.openLogin():i&&"authenticated"==i.next&&(this.cuserUid=this.auth.cuser?.uid)})}openProjectDialog(t){const r=this.dialog.open(bae,{height:"fit-content",width:"450px",data:{uid:t}});r.disableClose=!0,r.afterClosed().subscribe({next:i=>{this.router.navigate(["preview"])},error:i=>{console.log(i)}})}checkAuth(){this.auth.authChange.subscribe(t=>{t?this.openProjectDialog(t.uid):this.openLogin()})}ngOnInit(){this.checkAuth()}updateAttribute(t){this.currentClass=t}static#e=this.\u0275fac=function(r){return new(r||n)(be(vm),be(ku),be(vs))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-home"]],decls:21,vars:7,consts:[[1,"m-0","p-0"],[1,"row",3,"ngStyle"],[1,"col-2"],[3,"selectedClass"],[1,"col-10"],[1,"row","mt-3",3,"ngStyle"],[1,"col-6"],[1,"col-3"],[3,"ngStyle"],[1,"row","mt-3"],[1,"col-5"],[3,"currentClass"],[1,"col-4"]],template:function(r,i){1&r&&(vn(0,"app-header")(1,"hr",0),qe(2,"div",1)(3,"div",2)(4,"app-classlist",3),Xt("selectedClass",function(a){return i.updateAttribute(a)}),$e()(),qe(5,"div",4)(6,"div",5)(7,"div",6),vn(8,"app-previewdesktop"),$e(),qe(9,"div",7),vn(10,"app-previewmobile"),$e(),qe(11,"div",7),vn(12,"app-select-classes"),$e()(),vn(13,"hr",8),qe(14,"div",9)(15,"div",10),vn(16,"app-newattr",11),$e(),qe(17,"div",12),vn(18,"app-csseditor"),$e(),qe(19,"div",7),vn(20,"app-generatefile"),$e()()()()),2&r&&(Dt(2),Bt("ngStyle",go(4,nle)),Dt(4),Bt("ngStyle",go(5,rle)),Dt(7),Bt("ngStyle",go(6,ile)),Dt(3),Bt("currentClass",i.currentClass))},dependencies:[su,jae,Wae,$ae,Gae,Zae,Xae,Jae,tle],styles:[".editor[_ngcontent-%COMP%]{position:relative;top:0;bottom:0}p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{color:#cccbcb}"]})}return n})();var ole=Le(656);Le(312),Le(201);let ale=(()=>{class n{constructor(t){this.projectService=t}ngAfterViewInit(){ole(this.el,{value:this.projectService.htmlContent,mode:"htmlmixed",lineNumbers:!0,theme:"default"}).on("change",(r,i)=>{const s=r.getValue();this.projectService.htmlCodeChange.emit(s)})}static#e=this.\u0275fac=function(r){return new(r||n)(be(da))};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-html-editor"]],inputs:{el:"el"},decls:0,vars:0,template:function(r,i){}})}return n})();const lle=[{path:"",component:sle,children:[{path:"preview",pathMatch:"full",component:pie},{path:"code",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-code"]],decls:3,vars:1,consts:[[1,"preview-container"],["editor",""],[3,"el"]],template:function(r,i){if(1&r&&(qe(0,"div",0,1),vn(2,"app-html-editor",2),$e()),2&r){const s=zs(1);Dt(2),Bt("el",s)}},dependencies:[ale]})}return n})()}]}];let cle=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({imports:[cS.forRoot(lle),cS]})}return n})(),ule=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=bn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&vn(0,"router-outlet")},dependencies:[_y]})}return n})();function Nj(n){return new Se(3e3,!1)}function bc(n){switch(n.length){case 0:return new mm;case 1:return n[0];default:return new Tj(n)}}function Pj(n,e,t=new Map,r=new Map){const i=[],s=[];let a=-1,c=null;if(e.forEach(u=>{const p=u.get("offset"),g=p==a,_=g&&c||new Map;u.forEach((w,I)=>{let R=I,q=w;if("offset"!==I)switch(R=n.normalizePropertyName(R,i),q){case"!":q=t.get(I);break;case ol:q=r.get(I);break;default:q=n.normalizeStyleValue(I,R,q,i)}_.set(R,q)}),g||s.push(_),c=_,a=p}),i.length)throw function Ole(n){return new Se(3502,!1)}();return s}function XA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&QA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&QA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&QA(t,"destroy",n)))}}function QA(n,e,t){const s=JA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),a=n._data;return null!=a&&(s._data=a),s}function JA(n,e,t,r,i="",s=0,a){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!a}}function ws(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Lj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const $le=(()=>typeof document>"u"?null:document.documentElement)();function ek(n){const e=n.parentNode||n.host||null;return e===$le?null:e}let Fu=null,Fj=!1;function Bj(n,e){for(;e;){if(e===n)return!0;e=ek(e)}return!1}function Uj(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let Vj=(()=>{class n{validateStyleProperty(t){return function qle(n){Fu||(Fu=function Kle(){return typeof document<"u"?document.body:null}()||{},Fj=!!Fu.style&&"WebkitAppearance"in Fu.style);let e=!0;return Fu.style&&!function Gle(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Fu.style,!e&&Fj&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Fu.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Bj(t,r)}getParentElement(t){return ek(t)}query(t,r,i){return Uj(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,a,c=[],u){return new mm(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),tk=(()=>{class n{static#e=this.NOOP=new Vj}return n})();const Yle=1e3,nk="ng-enter",pw="ng-leave",gw="ng-trigger",mw=".ng-trigger",Hj="ng-animating",rk=".ng-animating";function al(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ik(parseFloat(e[1]),e[2])}function ik(n,e){return"s"===e?n*Yle:n}function _w(n,e,t){return n.hasOwnProperty("duration")?n:function Xle(n,e,t){let i,s=0,a="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return e.push(Nj()),{duration:0,delay:0,easing:""};i=ik(parseFloat(c[1]),c[2]);const u=c[3];null!=u&&(s=ik(parseFloat(u),c[4]));const p=c[5];p&&(a=p)}else i=n;if(!t){let c=!1,u=e.length;i<0&&(e.push(function dle(){return new Se(3100,!1)}()),c=!0),s<0&&(e.push(function hle(){return new Se(3101,!1)}()),c=!0),c&&e.splice(u,0,Nj())}return{duration:i,delay:s,easing:a}}(n,e,t)}function ym(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function zj(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function wc(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function pa(n,e,t){e.forEach((r,i)=>{const s=ok(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function Bu(n,e){e.forEach((t,r)=>{const i=ok(r);n.style[i]=""})}function bm(n){return Array.isArray(n)?1==n.length?n[0]:wj(n):n}const sk=new RegExp("{{\\s*(.+?)\\s*}}","g");function $j(n){let e=[];if("string"==typeof n){let t;for(;t=sk.exec(n);)e.push(t[1]);sk.lastIndex=0}return e}function wm(n,e,t){const r=n.toString(),i=r.replace(sk,(s,a)=>{let c=e[a];return null==c&&(t.push(function ple(n){return new Se(3003,!1)}()),c=""),c.toString()});return i==r?n:i}function vw(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ece=/-+([a-z0-9])/g;function ok(n){return n.replace(ece,(...e)=>e[1].toUpperCase())}function Cs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function gle(n){return new Se(3004,!1)}()}}function Gj(n,e){return window.getComputedStyle(n)[e]}const yw="*";function rce(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ice(n,e,t){if(":"==n[0]){const u=function sce(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function kle(n){return new Se(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ale(n){return new Se(3015,!1)}()),e;const i=r[1],s=r[2],a=r[3];e.push(qj(i,a));"<"==s[0]&&!(i==yw&&a==yw)&&e.push(qj(a,i))}(r,t,e)):t.push(n),t}const bw=new Set(["true","1"]),ww=new Set(["false","0"]);function qj(n,e){const t=bw.has(n)||ww.has(n),r=bw.has(e)||ww.has(e);return(i,s)=>{let a=n==yw||n==i,c=e==yw||e==s;return!a&&t&&"boolean"==typeof i&&(a=i?bw.has(n):ww.has(n)),!c&&r&&"boolean"==typeof s&&(c=s?bw.has(e):ww.has(e)),a&&c}}const oce=new RegExp("s*:selfs*,?","g");function ak(n,e,t,r){return new ace(n).build(e,t,r)}class ace{constructor(e){this._driver=e}build(e,t,r){const i=new uce(t);return this._resetContextStyleTimingState(i),Cs(this,bm(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push(function _le(){return new Se(3006,!1)}()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),0==c.type){const u=c,p=u.name;p.toString().split(/\s*,\s*/).forEach(g=>{u.name=g,s.push(this.visitState(u,t))}),u.name=p}else if(1==c.type){const u=this.visitTransition(c,t);r+=u.queryCount,i+=u.depCount,a.push(u)}else t.errors.push(function vle(){return new Se(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:a,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,a=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(u=>{$j(u).forEach(p=>{a.hasOwnProperty(p)||s.add(p)})})}),s.size&&(vw(s.values()),t.errors.push(function yle(n,e){return new Se(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Cs(this,bm(e.animation),t);return{type:1,matchers:rce(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Uu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Cs(this,r,t)),options:Uu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(a=>{t.currentTime=r;const c=Cs(this,a,t);return i=Math.max(i,t.currentTime),c});return t.currentTime=i,{type:3,steps:s,options:Uu(e.options)}}visitAnimate(e,t){const r=function hce(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return lk(_w(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=lk(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=_w(t,e);return lk(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Uh({});if(5==s.type)i=this.visitKeyframes(s,t);else{let a=e.styles,c=!1;if(!a){c=!0;const p={};r.easing&&(p.easing=r.easing),a=Uh(p)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(a,t);u.isEmptyStep=c,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of i)"string"==typeof c?c===ol?r.push(c):t.errors.push(new Se(3002,!1)):r.push(zj(c));let s=!1,a=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(a=c.get("easing"),c.delete("easing")),!s))for(let u of c.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,u)=>{const p=t.collectedStyles.get(t.currentQuerySelector),g=p.get(u);let _=!0;g&&(s!=i&&s>=g.startTime&&i<=g.endTime&&(t.errors.push(function wle(n,e,t,r,i){return new Se(3010,!1)}()),_=!1),s=g.startTime),_&&p.set(u,{startTime:s,endTime:i}),t.options&&function Jle(n,e,t){const r=e.params||{},i=$j(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function fle(n){return new Se(3001,!1)}())})}(c,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Cle(){return new Se(3011,!1)}()),r;let s=0;const a=[];let c=!1,u=!1,p=0;const g=e.steps.map(Te=>{const me=this._makeStyleAst(Te,t);let ze=null!=me.offset?me.offset:function dce(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(me.styles),Ze=0;return null!=ze&&(s++,Ze=me.offset=ze),u=u||Ze<0||Ze>1,c=c||Ze<p,p=Ze,a.push(Ze),me});u&&t.errors.push(function Ele(){return new Se(3012,!1)}()),c&&t.errors.push(function Sle(){return new Se(3200,!1)}());const _=e.steps.length;let w=0;s>0&&s<_?t.errors.push(function Dle(){return new Se(3202,!1)}()):0==s&&(w=1/(_-1));const I=_-1,R=t.currentTime,q=t.currentAnimateTimings,le=q.duration;return g.forEach((Te,me)=>{const ze=w>0?me==I?1:w*me:a[me],Ze=ze*le;t.currentTime=R+q.delay+Ze,q.duration=Ze,this._validateStyleAst(Te,t),Te.offset=ze,r.styles.push(Te)}),r}visitReference(e,t){return{type:8,animation:Cs(this,bm(e.animation),t),options:Uu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Uu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Uu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,a]=function lce(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(oce,"")),n=n.replace(/@\*/g,mw).replace(/@\w+/g,t=>mw+"-"+t.slice(1)).replace(/:animating/g,rk),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,ws(t.collectedStyles,t.currentQuerySelector,new Map);const c=Cs(this,bm(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:c,originalSelector:e.selector,options:Uu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Tle(){return new Se(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:_w(e.timings,t.errors,!0);return{type:12,animation:Cs(this,bm(e.animation),t),timings:r,options:null}}}class uce{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Uu(n){return n?(n=ym(n)).params&&(n.params=function cce(n){return n?ym(n):null}(n.params)):n={},n}function lk(n,e,t){return{duration:n,delay:e,easing:t}}function ck(n,e,t,r,i,s,a=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:a,subTimeline:c}}class Cw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const gce=new RegExp(":enter","g"),_ce=new RegExp(":leave","g");function uk(n,e,t,r,i,s=new Map,a=new Map,c,u,p=[]){return(new vce).buildKeyframes(n,e,t,r,i,s,a,c,u,p)}class vce{buildKeyframes(e,t,r,i,s,a,c,u,p,g=[]){p=p||new Cw;const _=new dk(e,t,p,i,s,g,[]);_.options=u;const w=u.delay?al(u.delay):0;_.currentTimeline.delayNextStep(w),_.currentTimeline.setStyles([a],null,_.errors,u),Cs(this,r,_);const I=_.timelines.filter(R=>R.containsAnimation());if(I.length&&c.size){let R;for(let q=I.length-1;q>=0;q--){const le=I[q];if(le.element===t){R=le;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([c],null,_.errors,u)}return I.length?I.map(R=>R.buildKeyframes()):[ck(t,[],[],[],0,w,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,a=this._visitSubInstructions(r,i,i.options);s!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const a="number"==typeof s?s:al(wm(s,i?.params??{},t.errors));r.delayNextStep(a)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const a=null!=r.duration?al(r.duration):null,c=null!=r.delay?al(r.delay):null;return 0!==a&&e.forEach(u=>{const p=t.appendInstructionToTimeline(u,a,c);s=Math.max(s,p.duration+p.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Cs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ew);const a=al(s.delay);i.delayNextStep(a)}e.steps.length&&(e.steps.forEach(a=>Cs(this,a,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?al(e.options.delay):0;e.steps.forEach(a=>{const c=t.createSubContext(e.options);s&&c.delayNextStep(s),Cs(this,a,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(a=>t.currentTimeline.mergeTimelineCollectedStyles(a)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return _w(t.params?wm(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,c=t.createSubContext().currentTimeline;c.easing=r.easing,e.styles.forEach(u=>{c.forwardTime((u.offset||0)*s),c.setStyles(u.styles,u.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?al(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ew);let a=r;const c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=c.length;let u=null;c.forEach((p,g)=>{t.currentQueryIndex=g;const _=t.createSubContext(e.options,p);s&&_.delayNextStep(s),p===t.element&&(u=_.currentTimeline),Cs(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,_.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,a=Math.abs(s.duration),c=a*(t.currentQueryTotal-1);let u=a*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=c-u;break;case"full":u=r.currentStaggerTime}const g=t.currentTimeline;u&&g.delayNextStep(u);const _=g.currentTime;Cs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-_+(i.startTime-r.currentTimeline.startTime)}}const Ew={};class dk{constructor(e,t,r,i,s,a,c,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=a,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ew,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Sw(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=al(r.duration)),null!=r.delay&&(i.delay=al(r.delay));const s=r.params;if(s){let a=i.params;a||(a=this.options.params={}),Object.keys(s).forEach(c=>{(!t||!a.hasOwnProperty(c))&&(a[c]=wm(s[c],a,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new dk(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ew,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new yce(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,a){let c=[];if(i&&c.push(this.element),e.length>0){e=(e=e.replace(gce,"."+this._enterClassName)).replace(_ce,"."+this._leaveClassName);let p=this._driver.query(this.element,e,1!=r);0!==r&&(p=r<0?p.slice(p.length+r,p.length):p.slice(0,r)),c.push(...p)}return!s&&0==c.length&&a.push(function Ile(n){return new Se(3014,!1)}()),c}}class Sw{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Sw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ol),this._currentKeyframe.set(t,ol);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},a=function bce(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ol)}else wc(i,t)}),t}(e,this._globalTimelineStyles);for(let[c,u]of a){const p=wm(u,s,r);this._pendingStyles.set(c,p),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??ol),this._updateStyle(c,p)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,u)=>{const p=wc(c,new Map,this._backFill);p.forEach((g,_)=>{"!"===g?e.add(_):g===ol&&t.add(_)}),r||p.set("offset",u/this.duration),i.push(p)});const s=e.size?vw(e.values()):[],a=t.size?vw(t.values()):[];if(r){const c=i[0],u=new Map(c);c.set("offset",0),u.set("offset",1),i=[c,u]}return ck(this.element,i,s,a,this.duration,this.startTime,this.easing,!1)}}class yce extends Sw{constructor(e,t,r,i,s,a,c=!1){super(e,t,a.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],a=r+t,c=t/a,u=wc(e[0]);u.set("offset",0),s.push(u);const p=wc(e[0]);p.set("offset",Zj(c)),s.push(p);const g=e.length-1;for(let _=1;_<=g;_++){let w=wc(e[_]);const I=w.get("offset");w.set("offset",Zj((t+I*r)/a)),s.push(w)}r=a,t=0,i="",e=s}return ck(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Zj(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class hk{}const wce=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Cce extends hk{normalizePropertyName(e,t){return ok(e)}normalizeStyleValue(e,t,r,i){let s="";const a=r.toString().trim();if(wce.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function mle(n,e){return new Se(3005,!1)}())}return a+s}}function Xj(n,e,t,r,i,s,a,c,u,p,g,_,w){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:a,timelines:c,queriedElements:u,preStyleProps:p,postStyleProps:g,totalTime:_,errors:w}}const fk={};class Qj{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Ece(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,a,c,u,p,g){const _=[],w=this.ast.options&&this.ast.options.params||fk,R=this.buildStyles(r,c&&c.params||fk,_),q=u&&u.params||fk,le=this.buildStyles(i,q,_),Te=new Set,me=new Map,ze=new Map,Ze="void"===i,Tt={params:Sce(q,w),delay:this.ast.options?.delay},$t=g?[]:uk(e,t,this.ast.animation,s,a,R,le,Tt,p,_);let gn=0;if($t.forEach(Ar=>{gn=Math.max(Ar.duration+Ar.delay,gn)}),_.length)return Xj(t,this._triggerName,r,i,Ze,R,le,[],[],me,ze,gn,_);$t.forEach(Ar=>{const Es=Ar.element,Aw=ws(me,Es,new Set);Ar.preStyleProps.forEach(Vu=>Aw.add(Vu));const Em=ws(ze,Es,new Set);Ar.postStyleProps.forEach(Vu=>Em.add(Vu)),Es!==t&&Te.add(Es)});const Jn=vw(Te.values());return Xj(t,this._triggerName,r,i,Ze,R,le,$t,Jn,me,ze,gn)}}function Sce(n,e){const t=ym(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Dce{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=ym(this.defaultParams);return Object.keys(e).forEach(s=>{const a=e[s];null!==a&&(i[s]=a)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{a&&(a=wm(a,i,t));const u=this.normalizer.normalizePropertyName(c,t);a=this.normalizer.normalizeStyleValue(c,u,a,t),r.set(c,a)})}),r}}class Ice{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Dce(i.style,i.options&&i.options.params||{},r))}),Jj(this.states,"true","1"),Jj(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Qj(e,i,this.states))}),this.fallbackTransition=function Ace(n,e,t){return new Qj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,c)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(a=>a.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Jj(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const kce=new Cw;class xce{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=ak(this._driver,t,r,[]);if(r.length)throw function Nle(n){return new Se(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Pj(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let a;const c=new Map;if(s?(a=uk(this._driver,t,s,nk,pw,new Map,new Map,r,kce,i),a.forEach(g=>{const _=ws(c,g.element,new Map);g.postStyleProps.forEach(w=>_.set(w,null))})):(i.push(function Ple(){return new Se(3300,!1)}()),a=[]),i.length)throw function Lle(n){return new Se(3504,!1)}();c.forEach((g,_)=>{g.forEach((w,I)=>{g.set(I,this._driver.computeStyle(_,I,ol))})});const p=bc(a.map(g=>{const _=c.get(g.element);return this._buildPlayer(g,new Map,_)}));return this._playersById.set(e,p),p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Fle(n){return new Se(3301,!1)}();return t}listen(e,t,r,i){const s=JA(t,"","","");return XA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const eH="ng-animate-queued",pk="ng-animate-disabled",Pce=[],tH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Lce={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},So="__ng_removed";class gk{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Vce(n){return n??null}(r?e.value:e),r){const s=ym(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Cm="void",mk=new gk(Cm);class Fce{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Xs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Ble(n,e){return new Se(3302,!1)}();if(null==r||0==r.length)throw function Ule(n){return new Se(3303,!1)}();if(!function jce(n){return"start"==n||"done"==n}(r))throw function Vle(n,e){return new Se(3400,!1)}();const s=ws(this._elementListeners,e,[]),a={name:t,phase:r,callback:i};s.push(a);const c=ws(this._engine.statesByElement,e,new Map);return c.has(t)||(Xs(e,gw),Xs(e,gw+"-"+t),c.set(t,mk)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(a);u>=0&&s.splice(u,1),this._triggers.has(t)||c.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function jle(n){return new Se(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),a=new _k(this.id,t,e);let c=this._engine.statesByElement.get(e);c||(Xs(e,gw),Xs(e,gw+"-"+t),this._engine.statesByElement.set(e,c=new Map));let u=c.get(t);const p=new gk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&p.absorbOptions(u.options),c.set(t,p),u||(u=mk),p.value!==Cm&&u.value===p.value){if(!function Wce(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,p.params)){const q=[],le=s.matchStyles(u.value,u.params,q),Te=s.matchStyles(p.value,p.params,q);q.length?this._engine.reportError(q):this._engine.afterFlush(()=>{Bu(e,le),pa(e,Te)})}return}const w=ws(this._engine.playersByElement,e,[]);w.forEach(q=>{q.namespaceId==this.id&&q.triggerName==t&&q.queued&&q.destroy()});let I=s.matchTransition(u.value,p.value,e,p.params),R=!1;if(!I){if(!i)return;I=s.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:I,fromState:u,toState:p,player:a,isFallbackTransition:R}),R||(Xs(e,eH),a.onStart(()=>{Vh(e,eH)})),a.onDone(()=>{let q=this.players.indexOf(a);q>=0&&this.players.splice(q,1);const le=this._engine.playersByElement.get(e);if(le){let Te=le.indexOf(a);Te>=0&&le.splice(Te,1)}}),this.players.push(a),w.push(a),a}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,mw,!0);r.forEach(i=>{if(i[So])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(a=>a.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),a=new Map;if(s){const c=[];if(s.forEach((u,p)=>{if(a.set(p,u.value),this._triggers.has(p)){const g=this.trigger(e,p,Cm,i);g&&c.push(g)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,a),r&&bc(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const a=s.name;if(i.has(a))return;i.add(a);const u=this._triggers.get(a).fallbackTransition,p=r.get(a)||mk,g=new gk(Cm),_=new _k(this.id,a,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:a,transition:u,fromState:p,toState:g,player:_,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let a=e;for(;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[So];(!s||s===tH)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Xs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,a=this._elementListeners.get(s);a&&a.forEach(c=>{if(c.name==r.triggerName){const u=JA(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,XA(r.player,c.phase,u,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,a=i.transition.ast.depCount;return 0==s||0==a?s-a:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Bce{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Fce(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let a=!1,c=this.driver.getParentElement(t);for(;c;){const u=i.get(c);if(u){const p=r.indexOf(u);r.splice(p+1,0,e),a=!0;break}c=this.driver.getParentElement(c)}a||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Dw(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Dw(t))return;const s=t[So];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){const a=this._fetchNamespace(e);a&&a.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Xs(e,pk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Vh(e,pk))}removeNode(e,t,r){if(Dw(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[So]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Dw(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,mw,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,rk,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return bc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[So];if(t&&t.setForRemoval){if(e[So]=tH,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(pk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Xs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?bc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Hle(n){return new Se(3402,!1)}()}_flushAnimations(e,t){const r=new Cw,i=[],s=new Map,a=[],c=new Map,u=new Map,p=new Map,g=new Set;this.disabledNodes.forEach(yt=>{g.add(yt);const At=this.driver.query(yt,".ng-animate-queued",!0);for(let Ot=0;Ot<At.length;Ot++)g.add(At[Ot])});const _=this.bodyNode,w=Array.from(this.statesByElement.keys()),I=iH(w,this.collectedEnterElements),R=new Map;let q=0;I.forEach((yt,At)=>{const Ot=nk+q++;R.set(At,Ot),yt.forEach(mn=>Xs(mn,Ot))});const le=[],Te=new Set,me=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const At=this.collectedLeaveElements[yt],Ot=At[So];Ot&&Ot.setForRemoval&&(le.push(At),Te.add(At),Ot.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(mn=>Te.add(mn)):me.add(At))}const ze=new Map,Ze=iH(w,Array.from(Te));Ze.forEach((yt,At)=>{const Ot=pw+q++;ze.set(At,Ot),yt.forEach(mn=>Xs(mn,Ot))}),e.push(()=>{I.forEach((yt,At)=>{const Ot=R.get(At);yt.forEach(mn=>Vh(mn,Ot))}),Ze.forEach((yt,At)=>{const Ot=ze.get(At);yt.forEach(mn=>Vh(mn,Ot))}),le.forEach(yt=>{this.processLeaveNode(yt)})});const Tt=[],$t=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(t).forEach(Ot=>{const mn=Ot.player,ti=Ot.element;if(Tt.push(mn),this.collectedEnterElements.length){const Di=ti[So];if(Di&&Di.setForMove){if(Di.previousTriggersValues&&Di.previousTriggersValues.has(Ot.triggerName)){const ju=Di.previousTriggersValues.get(Ot.triggerName),Qs=this.statesByElement.get(Ot.element);if(Qs&&Qs.has(Ot.triggerName)){const kw=Qs.get(Ot.triggerName);kw.value=ju,Qs.set(Ot.triggerName,kw)}}return void mn.destroy()}}const ga=!_||!this.driver.containsElement(_,ti),Ss=ze.get(ti),Cc=R.get(ti),gr=this._buildInstruction(Ot,r,Cc,Ss,ga);if(gr.errors&&gr.errors.length)return void $t.push(gr);if(ga)return mn.onStart(()=>Bu(ti,gr.fromStyles)),mn.onDestroy(()=>pa(ti,gr.toStyles)),void i.push(mn);if(Ot.isFallbackTransition)return mn.onStart(()=>Bu(ti,gr.fromStyles)),mn.onDestroy(()=>pa(ti,gr.toStyles)),void i.push(mn);const gH=[];gr.timelines.forEach(Di=>{Di.stretchStartingKeyframe=!0,this.disabledNodes.has(Di.element)||gH.push(Di)}),gr.timelines=gH,r.append(ti,gr.timelines),a.push({instruction:gr,player:mn,element:ti}),gr.queriedElements.forEach(Di=>ws(c,Di,[]).push(mn)),gr.preStyleProps.forEach((Di,ju)=>{if(Di.size){let Qs=u.get(ju);Qs||u.set(ju,Qs=new Set),Di.forEach((kw,bk)=>Qs.add(bk))}}),gr.postStyleProps.forEach((Di,ju)=>{let Qs=p.get(ju);Qs||p.set(ju,Qs=new Set),Di.forEach((kw,bk)=>Qs.add(bk))})});if($t.length){const yt=[];$t.forEach(At=>{yt.push(function zle(n,e){return new Se(3505,!1)}())}),Tt.forEach(At=>At.destroy()),this.reportError(yt)}const gn=new Map,Jn=new Map;a.forEach(yt=>{const At=yt.element;r.has(At)&&(Jn.set(At,At),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,gn))}),i.forEach(yt=>{const At=yt.element;this._getPreviousPlayers(At,!1,yt.namespaceId,yt.triggerName,null).forEach(mn=>{ws(gn,At,[]).push(mn),mn.destroy()})});const Ar=le.filter(yt=>oH(yt,u,p)),Es=new Map;rH(Es,this.driver,me,p,ol).forEach(yt=>{oH(yt,u,p)&&Ar.push(yt)});const Em=new Map;I.forEach((yt,At)=>{rH(Em,this.driver,new Set(yt),u,"!")}),Ar.forEach(yt=>{const At=Es.get(yt),Ot=Em.get(yt);Es.set(yt,new Map([...At?.entries()??[],...Ot?.entries()??[]]))});const Vu=[],fH=[],pH={};a.forEach(yt=>{const{element:At,player:Ot,instruction:mn}=yt;if(r.has(At)){if(g.has(At))return Ot.onDestroy(()=>pa(At,mn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(mn.totalTime),void i.push(Ot);let ti=pH;if(Jn.size>1){let Ss=At;const Cc=[];for(;Ss=Ss.parentNode;){const gr=Jn.get(Ss);if(gr){ti=gr;break}Cc.push(Ss)}Cc.forEach(gr=>Jn.set(gr,ti))}const ga=this._buildAnimation(Ot.namespaceId,mn,gn,s,Em,Es);if(Ot.setRealPlayer(ga),ti===pH)Vu.push(Ot);else{const Ss=this.playersByElement.get(ti);Ss&&Ss.length&&(Ot.parentPlayer=bc(Ss)),i.push(Ot)}}else Bu(At,mn.fromStyles),Ot.onDestroy(()=>pa(At,mn.toStyles)),fH.push(Ot),g.has(At)&&i.push(Ot)}),fH.forEach(yt=>{const At=s.get(yt.element);if(At&&At.length){const Ot=bc(At);yt.setRealPlayer(Ot)}}),i.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<le.length;yt++){const At=le[yt],Ot=At[So];if(Vh(At,pw),Ot&&Ot.hasAnimation)continue;let mn=[];if(c.size){let ga=c.get(At);ga&&ga.length&&mn.push(...ga);let Ss=this.driver.query(At,rk,!0);for(let Cc=0;Cc<Ss.length;Cc++){let gr=c.get(Ss[Cc]);gr&&gr.length&&mn.push(...gr)}}const ti=mn.filter(ga=>!ga.destroyed);ti.length?Hce(this,At,ti):this.processLeaveNode(At)}return le.length=0,Vu.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const At=this.players.indexOf(yt);this.players.splice(At,1)}),yt.play()}),Vu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let a=[];if(t){const c=this.playersByQueriedElement.get(e);c&&(a=c)}else{const c=this.playersByElement.get(e);if(c){const u=!s||s==Cm;c.forEach(p=>{p.queued||!u&&p.triggerName!=i||a.push(p)})}}return(r||i)&&(a=a.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),a}_beforeAnimationBuild(e,t,r){const s=t.element,a=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const p=u.element,g=p!==s,_=ws(r,p,[]);this._getPreviousPlayers(p,g,a,c,t.toState).forEach(I=>{const R=I.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),I.destroy(),_.push(I)})}Bu(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,a){const c=t.triggerName,u=t.element,p=[],g=new Set,_=new Set,w=t.timelines.map(R=>{const q=R.element;g.add(q);const le=q[So];if(le&&le.removedBeforeQueried)return new mm(R.duration,R.delay);const Te=q!==u,me=function zce(n){const e=[];return sH(n,e),e}((r.get(q)||Pce).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===q),ze=s.get(q),Ze=a.get(q),Tt=Pj(this._normalizer,R.keyframes,ze,Ze),$t=this._buildPlayer(R,Tt,me);if(R.subTimeline&&i&&_.add(q),Te){const gn=new _k(e,c,q);gn.setRealPlayer($t),p.push(gn)}return $t});p.forEach(R=>{ws(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function Uce(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,R.element,R))}),g.forEach(R=>Xs(R,Hj));const I=bc(w);return I.onDestroy(()=>{g.forEach(R=>Vh(R,Hj)),pa(u,t.toStyles)}),_.forEach(R=>{ws(i,R,[]).push(I)}),I}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new mm(e.duration,e.delay)}}class _k{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new mm,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>XA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ws(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Dw(n){return n&&1===n.nodeType}function nH(n,e){const t=n.style.display;return n.style.display=e??"none",t}function rH(n,e,t,r,i){const s=[];t.forEach(u=>s.push(nH(u)));const a=[];r.forEach((u,p)=>{const g=new Map;u.forEach(_=>{const w=e.computeStyle(p,_,i);g.set(_,w),(!w||0==w.length)&&(p[So]=Lce,a.push(p))}),n.set(p,g)});let c=0;return t.forEach(u=>nH(u,s[c++])),a}function iH(n,e){const t=new Map;if(n.forEach(c=>t.set(c,[])),0==e.length)return t;const i=new Set(e),s=new Map;function a(c){if(!c)return 1;let u=s.get(c);if(u)return u;const p=c.parentNode;return u=t.has(p)?p:i.has(p)?1:a(p),s.set(c,u),u}return e.forEach(c=>{const u=a(c);1!==u&&t.get(u).push(c)}),t}function Xs(n,e){n.classList?.add(e)}function Vh(n,e){n.classList?.remove(e)}function Hce(n,e,t){bc(t).onDone(()=>n.processLeaveNode(e))}function sH(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Tj?sH(r.players,e):e.push(r)}}function oH(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Tw{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Bce(e,t,r),this._timelineEngine=new xce(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const a=e+"-"+i;let c=this._triggerCache[a];if(!c){const u=[],g=ak(this._driver,s,u,[]);if(u.length)throw function Rle(n,e){return new Se(3404,!1)}();c=function Tce(n,e,t){return new Ice(n,e,t)}(i,g,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(t,i,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,a]=Lj(r);this._timelineEngine.command(s,t,a,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[a,c]=Lj(r);return this._timelineEngine.listen(a,t,c,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Gce=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&pa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pa(this._element,this._initialStyles),this._endStyles&&(pa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Bu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bu(this._element,this._endStyles),this._endStyles=null),pa(this._element,this._initialStyles),this._state=3)}}return n})();function vk(n){let e=null;return n.forEach((t,r)=>{(function qce(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class aH{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Gj(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Kce{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Bj(e,t)}getParentElement(e){return ek(e)}query(e,t,r){return Uj(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,a=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const p=new Map,g=a.filter(I=>I instanceof aH);(function tce(n,e){return 0===n||0===e})(r,i)&&g.forEach(I=>{I.currentSnapshot.forEach((R,q)=>p.set(q,R))});let _=function Qle(n){return n.length?n[0]instanceof Map?n:n.map(e=>zj(e)):[]}(t).map(I=>wc(I));_=function nce(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,a)=>{r.has(a)||i.push(a),r.set(a,s)}),i.length)for(let s=1;s<e.length;s++){let a=e[s];i.forEach(c=>a.set(c,Gj(n,c)))}}return e}(e,_,p);const w=function $ce(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=vk(e[0]),e.length>1&&(r=vk(e[e.length-1]))):e instanceof Map&&(t=vk(e)),t||r?new Gce(n,t,r):null}(e,_);return new aH(e,_,u,w)}}let Yce=(()=>{class n extends vj{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:cr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?wj(t):t;return lH(this._renderer,null,r,"register",[i]),new Zce(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(op),Ce(sn))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();class Zce extends Xoe{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Xce(this._id,e,t||{},this._renderer)}}class Xce{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return lH(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function lH(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const cH="@.disabled";let Qce=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,a)=>{const c=a?.parentNode(s);c&&a.removeChild(c,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let g=this._rendererCache.get(s);return g||(g=new uH("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,g)),g}const a=r.id,c=r.id+"-"+this._currentId;this._currentId++,this.engine.register(c,t);const u=g=>{Array.isArray(g)?g.forEach(u):this.engine.registerTrigger(a,c,t,g.name,g)};return r.data.animation.forEach(u),new Jce(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[a,c]=s;a(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(op),Ce(Tw),Ce(zt))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();class uH{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==cH?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Jce extends uH{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==cH?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function eue(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),a="";return"@"!=s.charAt(0)&&([s,a]=function tue(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,a,c=>{this.factory.scheduleListenerCallback(c._data||-1,r,c)})}return this.delegate.listen(e,t,r)}}const dH=[{provide:vj,useClass:Yce},{provide:hk,useFactory:function rue(){return new Cce}},{provide:Tw,useClass:(()=>{class n extends Tw{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(Ce(sn),Ce(tk),Ce(hk),Ce($l))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})()},{provide:op,useFactory:function iue(n,e,t){return new Qce(n,e,t)},deps:[PE,Tw,zt]}],yk=[{provide:tk,useFactory:()=>new Kce},{provide:rp,useValue:"BrowserAnimations"},...dH],hH=[{provide:tk,useClass:Vj},{provide:rp,useValue:"NoopAnimations"},...dH];let sue=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?hH:yk}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n});static#n=this.\u0275inj=Mn({providers:yk,imports:[UN]})}return n})(),oue=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=_n({type:n,bootstrap:[ule]});static#n=this.\u0275inj=Mn({imports:[UN,cle,cse,uae,lse,cS,oie,sue]})}return n})();zq().bootstrapModule(oue).catch(n=>console.error(n))},201:(Ds,ie,Le)=>{!function(V){"use strict";var W="CodeMirror-hint-active";function O(P,z){if(this.cm=P,this.options=z,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var L=this;P.on("cursorActivity",this.activityFunc=function(){L.cursorActivity()})}}V.showHint=function(P,z,L){if(!z)return P.showHint(L);L&&L.async&&(z.async=!0);var ae={hint:z};if(L)for(var fe in L)ae[fe]=L[fe];return P.showHint(ae)},V.defineExtension("showHint",function(P){P=function te(P,z,L){var ae=P.options.hintOptions,fe={};for(var Ee in Q)fe[Ee]=Q[Ee];if(ae)for(var Ee in ae)void 0!==ae[Ee]&&(fe[Ee]=ae[Ee]);if(L)for(var Ee in L)void 0!==L[Ee]&&(fe[Ee]=L[Ee]);return fe.hint.resolve&&(fe.hint=fe.hint.resolve(P,z)),fe}(this,this.getCursor("start"),P);var z=this.listSelections();if(!(z.length>1)){if(this.somethingSelected()){if(!P.hint.supportsSelection)return;for(var L=0;L<z.length;L++)if(z[L].head.line!=z[L].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var ae=this.state.completionActive=new O(this,P);ae.options.hint&&(V.signal(this,"startCompletion",this),ae.update(!0))}}),V.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});var N=window.requestAnimationFrame||function(P){return setTimeout(P,1e3/60)},ee=window.cancelAnimationFrame||clearTimeout;function re(P){return"string"==typeof P?P:P.text}function x(P,z){for(;z&&z!=P;){if("LI"===z.nodeName.toUpperCase()&&z.parentNode==P)return z;z=z.parentNode}}function j(P,z){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=P,this.data=z,this.picked=!1;var L=this,ae=P.cm,fe=ae.getInputField().ownerDocument,Ee=fe.defaultView||fe.parentWindow,ge=this.hints=fe.createElement("ul");ge.setAttribute("role","listbox"),ge.setAttribute("aria-expanded","true"),ge.id=this.id,ge.className="CodeMirror-hints "+P.cm.options.theme,this.selectedHint=z.selectedHint||0;for(var Ke=z.list,G=0;G<Ke.length;++G){var ue=ge.appendChild(fe.createElement("li")),D=Ke[G],H="CodeMirror-hint"+(G!=this.selectedHint?"":" "+W);null!=D.className&&(H=D.className+" "+H),ue.className=H,G==this.selectedHint&&ue.setAttribute("aria-selected","true"),ue.id=this.id+"-"+G,ue.setAttribute("role","option"),D.render?D.render(ue,z,D):ue.appendChild(fe.createTextNode(D.displayText||re(D))),ue.hintId=G}var Be=P.options.container||fe.body,T=ae.cursorCoords(P.options.alignWithWord?z.from:null),Oe=T.left,ce=T.bottom,Ie=!0,ve=0,_e=0;if(Be!==fe.body){var it=-1!==["absolute","relative","fixed"].indexOf(Ee.getComputedStyle(Be).position)?Be:Be.offsetParent,Ne=it.getBoundingClientRect(),Vt=fe.body.getBoundingClientRect();ve=Ne.left-Vt.left-it.scrollLeft,_e=Ne.top-Vt.top-it.scrollTop}ge.style.left=Oe-ve+"px",ge.style.top=ce-_e+"px";var St=Ee.innerWidth||Math.max(fe.body.offsetWidth,fe.documentElement.offsetWidth),He=Ee.innerHeight||Math.max(fe.body.offsetHeight,fe.documentElement.offsetHeight);Be.appendChild(ge),ae.getInputField().setAttribute("aria-autocomplete","list"),ae.getInputField().setAttribute("aria-owns",this.id),ae.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var Xe,xe=P.options.moveOnOverlap?ge.getBoundingClientRect():new DOMRect,mt=!!P.options.paddingForScrollbar&&ge.scrollHeight>ge.clientHeight+1;if(setTimeout(function(){Xe=ae.getScrollInfo()}),xe.bottom-He>0){var pt=xe.bottom-xe.top,E=xe.top-(T.bottom-T.top)-2;He-xe.top<E?(pt>E&&(ge.style.height=(pt=E)+"px"),ge.style.top=(ce=T.top-pt)+_e+"px",Ie=!1):ge.style.height=He-xe.top-2+"px"}var Y,ke=xe.right-St;if(mt&&(ke+=ae.display.nativeBarWidth),ke>0&&(xe.right-xe.left>St&&(ge.style.width=St-5+"px",ke-=xe.right-xe.left-St),ge.style.left=(Oe=Math.max(T.left-ke-ve,0))+"px"),mt)for(var we=ge.firstChild;we;we=we.nextSibling)we.style.paddingRight=ae.display.nativeBarWidth+"px";ae.addKeyMap(this.keyMap=function J(P,z){var L={Up:function(){z.moveFocus(-1)},Down:function(){z.moveFocus(1)},PageUp:function(){z.moveFocus(1-z.menuSize(),!0)},PageDown:function(){z.moveFocus(z.menuSize()-1,!0)},Home:function(){z.setFocus(0)},End:function(){z.setFocus(z.length-1)},Enter:z.pick,Tab:z.pick,Esc:z.close};/Mac/.test(navigator.platform)&&(L["Ctrl-P"]=function(){z.moveFocus(-1)},L["Ctrl-N"]=function(){z.moveFocus(1)});var fe=P.options.customKeys,Ee=fe?{}:L;function ge(G,ue){var D;D="string"!=typeof ue?function(H){return ue(H,z)}:L.hasOwnProperty(ue)?L[ue]:ue,Ee[G]=D}if(fe)for(var Fe in fe)fe.hasOwnProperty(Fe)&&ge(Fe,fe[Fe]);var Ke=P.options.extraKeys;if(Ke)for(var Fe in Ke)Ke.hasOwnProperty(Fe)&&ge(Fe,Ke[Fe]);return Ee}(P,{moveFocus:function(se,Me){L.changeActive(L.selectedHint+se,Me)},setFocus:function(se){L.changeActive(se)},menuSize:function(){return L.screenAmount()},length:Ke.length,close:function(){P.close()},pick:function(){L.pick()},data:z})),P.options.closeOnUnfocus&&(ae.on("blur",this.onBlur=function(){Y=setTimeout(function(){P.close()},100)}),ae.on("focus",this.onFocus=function(){clearTimeout(Y)})),ae.on("scroll",this.onScroll=function(){var se=ae.getScrollInfo(),Me=ae.getWrapperElement().getBoundingClientRect();Xe||(Xe=ae.getScrollInfo());var Ue=ce+Xe.top-se.top,ye=Ue-(Ee.pageYOffset||(fe.documentElement||fe.body).scrollTop);if(Ie||(ye+=ge.offsetHeight),ye<=Me.top||ye>=Me.bottom)return P.close();ge.style.top=Ue+"px",ge.style.left=Oe+Xe.left-se.left+"px"}),V.on(ge,"dblclick",function(se){var Me=x(ge,se.target||se.srcElement);Me&&null!=Me.hintId&&(L.changeActive(Me.hintId),L.pick())}),V.on(ge,"click",function(se){var Me=x(ge,se.target||se.srcElement);Me&&null!=Me.hintId&&(L.changeActive(Me.hintId),P.options.completeOnSingleClick&&L.pick())}),V.on(ge,"mousedown",function(){setTimeout(function(){ae.focus()},20)});var M=this.getSelectedHintRange();return(0!==M.from||0!==M.to)&&this.scrollToActive(),V.signal(z,"select",Ke[this.selectedHint],ge.childNodes[this.selectedHint]),!0}function $(P,z,L,ae){if(P.async)P(z,ae,L);else{var fe=P(z,L);fe&&fe.then?fe.then(ae):ae(fe)}}O.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&V.signal(this.data,"close"),this.widget&&this.widget.close(),V.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(P,z){var L=P.list[z],ae=this;this.cm.operation(function(){L.hint?L.hint(ae.cm,P,L):ae.cm.replaceRange(re(L),L.from||P.from,L.to||P.to,"complete"),V.signal(P,"pick",L),ae.cm.scrollIntoView()}),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(ee(this.debounce),this.debounce=0);var P=this.startPos;this.data&&(P=this.data.from);var z=this.cm.getCursor(),L=this.cm.getLine(z.line);if(z.line!=this.startPos.line||L.length-z.ch!=this.startLen-this.startPos.ch||z.ch<P.ch||this.cm.somethingSelected()||!z.ch||this.options.closeCharacters.test(L.charAt(z.ch-1)))this.close();else{var ae=this;this.debounce=N(function(){ae.update()}),this.widget&&this.widget.disable()}},update:function(P){if(null!=this.tick){var z=this,L=++this.tick;$(this.options.hint,this.cm,this.options,function(ae){z.tick==L&&z.finishUpdate(ae,P)})}},finishUpdate:function(P,z){this.data&&V.signal(this.data,"update");var L=this.widget&&this.widget.picked||z&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=P,P&&P.list.length&&(L&&1==P.list.length?this.pick(P,0):(this.widget=new j(this,P),V.signal(P,"shown")))}},j.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var P=this.completion.cm.getInputField();P.removeAttribute("aria-activedescendant"),P.removeAttribute("aria-owns");var z=this.completion.cm;this.completion.options.closeOnUnfocus&&(z.off("blur",this.onBlur),z.off("focus",this.onFocus)),z.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var P=this;this.keyMap={Enter:function(){P.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(P,z){if(P>=this.data.list.length?P=z?this.data.list.length-1:0:P<0&&(P=z?0:this.data.list.length-1),this.selectedHint!=P){var L=this.hints.childNodes[this.selectedHint];L&&(L.className=L.className.replace(" "+W,""),L.removeAttribute("aria-selected")),(L=this.hints.childNodes[this.selectedHint=P]).className+=" "+W,L.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",L.id),this.scrollToActive(),V.signal(this.data,"select",this.data.list[this.selectedHint],L)}},scrollToActive:function(){var P=this.getSelectedHintRange(),z=this.hints.childNodes[P.from],L=this.hints.childNodes[P.to],ae=this.hints.firstChild;z.offsetTop<this.hints.scrollTop?this.hints.scrollTop=z.offsetTop-ae.offsetTop:L.offsetTop+L.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=L.offsetTop+L.offsetHeight-this.hints.clientHeight+ae.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var P=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-P),to:Math.min(this.data.list.length-1,this.selectedHint+P)}}},V.registerHelper("hint","auto",{resolve:function B(P,z){var ae,L=P.getHelpers(z,"hint");if(L.length){var fe=function(Ee,ge,Fe){var Ke=function k(P,z){if(!P.somethingSelected())return z;for(var L=[],ae=0;ae<z.length;ae++)z[ae].supportsSelection&&L.push(z[ae]);return L}(Ee,L);!function G(ue){if(ue==Ke.length)return ge(null);$(Ke[ue],Ee,Fe,function(D){D&&D.list.length>0?ge(D):G(ue+1)})}(0)};return fe.async=!0,fe.supportsSelection=!0,fe}return(ae=P.getHelper(P.getCursor(),"hintWords"))?function(Ee){return V.hint.fromList(Ee,{words:ae})}:V.hint.anyword?function(Ee,ge){return V.hint.anyword(Ee,ge)}:function(){}}}),V.registerHelper("hint","fromList",function(P,z){var fe,L=P.getCursor(),ae=P.getTokenAt(L),Ee=V.Pos(L.line,ae.start),ge=L;ae.start<L.ch&&/\w/.test(ae.string.charAt(L.ch-ae.start-1))?fe=ae.string.substr(0,L.ch-ae.start):(fe="",Ee=L);for(var Fe=[],Ke=0;Ke<z.words.length;Ke++){var G=z.words[Ke];G.slice(0,fe.length)==fe&&Fe.push(G)}if(Fe.length)return{list:Fe,from:Ee,to:ge}}),V.commands.autocomplete=V.showHint;var Q={hint:V.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};V.defineOption("hintOptions",null)}(Le(656))},656:function(Ds){Ds.exports=function(){"use strict";var ie=navigator.userAgent,Le=navigator.platform,V=/gecko\/\d/i.test(ie),K=/MSIE \d/.test(ie),W=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ie),O=/Edge\/(\d+)/.exec(ie),N=K||W||O,ee=N&&(K?document.documentMode||6:+(O||W)[1]),te=!O&&/WebKit\//.test(ie),re=te&&/Qt\/\d+\.\d+/.test(ie),J=!O&&/Chrome\/(\d+)/.exec(ie),x=J&&+J[1],j=/Opera\//.test(ie),k=/Apple Computer/.test(navigator.vendor),$=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ie),B=/PhantomJS/.test(ie),Q=k&&(/Mobile\/\w+/.test(ie)||navigator.maxTouchPoints>2),P=/Android/.test(ie),z=Q||P||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ie),L=Q||/Mac/.test(Le),ae=/\bCrOS\b/.test(ie),fe=/win/i.test(Le),Ee=j&&ie.match(/Version\/(\d*\.\d*)/);Ee&&(Ee=Number(Ee[1])),Ee&&Ee>=15&&(j=!1,te=!0);var ge=L&&(re||j&&(null==Ee||Ee<12.11)),Fe=V||N&&ee>=9;function Ke(o){return new RegExp("(^|\\s)"+o+"(?:$|\\s)\\s*")}var T,G=function(o,l){var h=o.className,d=Ke(l).exec(h);if(d){var f=h.slice(d.index+d[0].length);o.className=h.slice(0,d.index)+(f?d[1]+f:"")}};function ue(o){for(var l=o.childNodes.length;l>0;--l)o.removeChild(o.firstChild);return o}function D(o,l){return ue(o).appendChild(l)}function H(o,l,h,d){var f=document.createElement(o);if(h&&(f.className=h),d&&(f.style.cssText=d),"string"==typeof l)f.appendChild(document.createTextNode(l));else if(l)for(var m=0;m<l.length;++m)f.appendChild(l[m]);return f}function Be(o,l,h,d){var f=H(o,l,h,d);return f.setAttribute("role","presentation"),f}function Oe(o,l){if(3==l.nodeType&&(l=l.parentNode),o.contains)return o.contains(l);do{if(11==l.nodeType&&(l=l.host),l==o)return!0}while(l=l.parentNode)}function ce(o){var l;try{l=o.activeElement}catch{l=o.body||null}for(;l&&l.shadowRoot&&l.shadowRoot.activeElement;)l=l.shadowRoot.activeElement;return l}function Ie(o,l){var h=o.className;Ke(l).test(h)||(o.className+=(h?" ":"")+l)}function ve(o,l){for(var h=o.split(" "),d=0;d<h.length;d++)h[d]&&!Ke(h[d]).test(l)&&(l+=" "+h[d]);return l}T=document.createRange?function(o,l,h,d){var f=document.createRange();return f.setEnd(d||o,h),f.setStart(o,l),f}:function(o,l,h){var d=document.body.createTextRange();try{d.moveToElementText(o.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",h),d.moveStart("character",l),d};var _e=function(o){o.select()};function ct(o){return o.display.wrapper.ownerDocument}function it(o){return ct(o).defaultView}function Ne(o){var l=Array.prototype.slice.call(arguments,1);return function(){return o.apply(null,l)}}function Vt(o,l,h){for(var d in l||(l={}),o)o.hasOwnProperty(d)&&(!1!==h||!l.hasOwnProperty(d))&&(l[d]=o[d]);return l}function St(o,l,h,d,f){null==l&&-1==(l=o.search(/[^\s\u00a0]/))&&(l=o.length);for(var m=d||0,v=f||0;;){var y=o.indexOf("\t",m);if(y<0||y>=l)return v+(l-m);v+=y-m,v+=h-v%h,m=y+1}}Q?_e=function(o){o.selectionStart=0,o.selectionEnd=o.value.length}:N&&(_e=function(o){try{o.select()}catch{}});var He=function(){this.id=null,this.f=null,this.time=0,this.handler=Ne(this.onTimeout,this)};function xe(o,l){for(var h=0;h<o.length;++h)if(o[h]==l)return h;return-1}He.prototype.onTimeout=function(o){o.id=0,o.time<=+new Date?o.f():setTimeout(o.handler,o.time-+new Date)},He.prototype.set=function(o,l){this.f=l;var h=+new Date+o;(!this.id||h<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,o),this.time=h)};var mt=50,Xe={toString:function(){return"CodeMirror.Pass"}},ft={scroll:!1},pt={origin:"*mouse"},E={origin:"+move"};function ke(o,l,h){for(var d=0,f=0;;){var m=o.indexOf("\t",d);-1==m&&(m=o.length);var v=m-d;if(m==o.length||f+v>=l)return d+Math.min(v,l-f);if(f+=m-d,d=m+1,(f+=h-f%h)>=l)return d}}var we=[""];function Y(o){for(;we.length<=o;)we.push(M(we)+" ");return we[o]}function M(o){return o[o.length-1]}function se(o,l){for(var h=[],d=0;d<o.length;d++)h[d]=l(o[d],d);return h}function Ue(){}function ye(o,l){var h;return Object.create?h=Object.create(o):(Ue.prototype=o,h=new Ue),l&&Vt(l,h),h}var Ve=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ne(o){return/\w/.test(o)||o>"\x80"&&(o.toUpperCase()!=o.toLowerCase()||Ve.test(o))}function pe(o,l){return l?!!(l.source.indexOf("\\w")>-1&&ne(o))||l.test(o):ne(o)}function he(o){for(var l in o)if(o.hasOwnProperty(l)&&o[l])return!1;return!0}var dt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function It(o){return o.charCodeAt(0)>=768&&dt.test(o)}function mr(o,l,h){for(;(h<0?l>0:l<o.length)&&It(o.charAt(l));)l+=h;return l}function Ti(o,l,h){for(var d=l>h?-1:1;;){if(l==h)return l;var f=(l+h)/2,m=d<0?Math.ceil(f):Math.floor(f);if(m==l)return o(m)?l:h;o(m)?h=m:l=m+d}}var Yt=null;function tn(o,l,h){var d;Yt=null;for(var f=0;f<o.length;++f){var m=o[f];if(m.from<l&&m.to>l)return f;m.to==l&&(m.from!=m.to&&"before"==h?d=f:Yt=f),m.from==l&&(m.from!=m.to&&"before"!=h?d=f:Yt=f)}return d??Yt}var es=function(){function h(S){return S<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(S):1424<=S&&S<=1524?"R":1536<=S&&S<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(S-1536):1774<=S&&S<=2220?"r":8192<=S&&S<=8203?"w":8204==S?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,f=/[stwN]/,m=/[LRr]/,v=/[Lb1n]/,y=/[1n]/;function b(S,U,X){this.level=S,this.from=U,this.to=X}return function(S,U){var X="ltr"==U?"L":"R";if(0==S.length||"ltr"==U&&!d.test(S))return!1;for(var de=S.length,oe=[],De=0;De<de;++De)oe.push(h(S.charCodeAt(De)));for(var Pe=0,We=X;Pe<de;++Pe){var Ye=oe[Pe];"m"==Ye?oe[Pe]=We:We=Ye}for(var st=0,Je=X;st<de;++st){var lt=oe[st];"1"==lt&&"r"==Je?oe[st]="n":m.test(lt)&&(Je=lt,"r"==lt&&(oe[st]="R"))}for(var _t=1,vt=oe[0];_t<de-1;++_t){var Et=oe[_t];"+"==Et&&"1"==vt&&"1"==oe[_t+1]?oe[_t]="1":","==Et&&vt==oe[_t+1]&&("1"==vt||"n"==vt)&&(oe[_t]=vt),vt=Et}for(var Dn=0;Dn<de;++Dn){var en=oe[Dn];if(","==en)oe[Dn]="N";else if("%"==en){var On=void 0;for(On=Dn+1;On<de&&"%"==oe[On];++On);for(var vi=Dn&&"!"==oe[Dn-1]||On<de&&"1"==oe[On]?"1":"N",Kr=Dn;Kr<On;++Kr)oe[Kr]=vi;Dn=On-1}}for(var Wn=0,br=X;Wn<de;++Wn){var Xn=oe[Wn];"L"==br&&"1"==Xn?oe[Wn]="L":m.test(Xn)&&(br=Xn)}for(var Bn=0;Bn<de;++Bn)if(f.test(oe[Bn])){var tr=void 0;for(tr=Bn+1;tr<de&&f.test(oe[tr]);++tr);for(var Un="L"==(Bn?oe[Bn-1]:X),Kc=Un==("L"==(tr<de?oe[tr]:X))?Un?"L":"R":X,Vo=Bn;Vo<tr;++Vo)oe[Vo]=Kc;Bn=tr-1}for(var ho,Yr=[],Lr=0;Lr<de;)if(v.test(oe[Lr])){var R_=Lr;for(++Lr;Lr<de&&v.test(oe[Lr]);++Lr);Yr.push(new b(0,R_,Lr))}else{var jo=Lr,Bl=Yr.length,qi="rtl"==U?1:0;for(++Lr;Lr<de&&"L"!=oe[Lr];++Lr);for(var Zr=jo;Zr<Lr;)if(y.test(oe[Zr])){jo<Zr&&(Yr.splice(Bl,0,new b(1,jo,Zr)),Bl+=qi);var Ul=Zr;for(++Zr;Zr<Lr&&y.test(oe[Zr]);++Zr);Yr.splice(Bl,0,new b(2,Ul,Zr)),Bl+=qi,jo=Zr}else++Zr;jo<Lr&&Yr.splice(Bl,0,new b(1,jo,Lr))}return"ltr"==U&&(1==Yr[0].level&&(ho=S.match(/^\s+/))&&(Yr[0].from=ho[0].length,Yr.unshift(new b(0,0,ho[0].length))),1==M(Yr).level&&(ho=S.match(/\s+$/))&&(M(Yr).to-=ho[0].length,Yr.push(new b(0,de-ho[0].length,de)))),"rtl"==U?Yr.reverse():Yr}}();function or(o,l){var h=o.order;return null==h&&(h=o.order=es(o.text,l)),h}var di=[],bt=function(o,l,h){if(o.addEventListener)o.addEventListener(l,h,!1);else if(o.attachEvent)o.attachEvent("on"+l,h);else{var d=o._handlers||(o._handlers={});d[l]=(d[l]||di).concat(h)}};function ma(o,l){return o._handlers&&o._handlers[l]||di}function Lt(o,l,h){if(o.removeEventListener)o.removeEventListener(l,h,!1);else if(o.detachEvent)o.detachEvent("on"+l,h);else{var d=o._handlers,f=d&&d[l];if(f){var m=xe(f,h);m>-1&&(d[l]=f.slice(0,m).concat(f.slice(m+1)))}}}function Pn(o,l){var h=ma(o,l);if(h.length)for(var d=Array.prototype.slice.call(arguments,2),f=0;f<h.length;++f)h[f].apply(null,d)}function xn(o,l,h){return"string"==typeof l&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),Pn(o,h||l.type,o,l),_a(l)||l.codemirrorIgnore}function hi(o){var l=o._handlers&&o._handlers.cursorActivity;if(l)for(var h=o.curOp.cursorActivityHandlers||(o.curOp.cursorActivityHandlers=[]),d=0;d<l.length;++d)-1==xe(h,l[d])&&h.push(l[d])}function ar(o,l){return ma(o,l).length>0}function Do(o){o.prototype.on=function(l,h){bt(this,l,h)},o.prototype.off=function(l,h){Lt(this,l,h)}}function Er(o){o.preventDefault?o.preventDefault():o.returnValue=!1}function ts(o){o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}function _a(o){return null!=o.defaultPrevented?o.defaultPrevented:0==o.returnValue}function ns(o){Er(o),ts(o)}function ll(o){return o.target||o.srcElement}function va(o){var l=o.which;return null==l&&(1&o.button?l=1:2&o.button?l=3:4&o.button&&(l=2)),L&&o.ctrlKey&&1==l&&(l=3),l}var cl,Ii,fi=function(){if(N&&ee<9)return!1;var o=H("div");return"draggable"in o||"dragDrop"in o}();function Hu(o){if(null==cl){var l=H("span","\u200b");D(o,H("span",[l,document.createTextNode("x")])),0!=o.firstChild.offsetHeight&&(cl=l.offsetWidth<=1&&l.offsetHeight>2&&!(N&&ee<8))}var h=cl?H("span","\u200b"):H("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return h.setAttribute("cm-text",""),h}function zu(o){if(null!=Ii)return Ii;var l=D(o,document.createTextNode("A\u062eA")),h=T(l,0,1).getBoundingClientRect(),d=T(l,1,2).getBoundingClientRect();return ue(o),!(!h||h.left==h.right)&&(Ii=d.right-h.right<3)}var o,ya=3!="\n\nb".split(/\n/).length?function(o){for(var l=0,h=[],d=o.length;l<=d;){var f=o.indexOf("\n",l);-1==f&&(f=o.length);var m=o.slice(l,"\r"==o.charAt(f-1)?f-1:f),v=m.indexOf("\r");-1!=v?(h.push(m.slice(0,v)),l+=v+1):(h.push(m),l=f+1)}return h}:function(o){return o.split(/\r\n?|\n/)},kr=window.getSelection?function(o){try{return o.selectionStart!=o.selectionEnd}catch{return!1}}:function(o){var l;try{l=o.ownerDocument.selection.createRange()}catch{}return!(!l||l.parentElement()!=o)&&0!=l.compareEndPoints("StartToEnd",l)},jh="oncopy"in(o=H("div"))||(o.setAttribute("oncopy","return;"),"function"==typeof o.oncopy),Ts=null;var As={},ks={};function Js(o,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),As[o]=l}function ni(o){if("string"==typeof o&&ks.hasOwnProperty(o))o=ks[o];else if(o&&"string"==typeof o.name&&ks.hasOwnProperty(o.name)){var l=ks[o.name];"string"==typeof l&&(l={name:l}),(o=ye(l,o)).name=l.name}else{if("string"==typeof o&&/^[\w\-]+\/[\w\-]+\+xml$/.test(o))return ni("application/xml");if("string"==typeof o&&/^[\w\-]+\/[\w\-]+\+json$/.test(o))return ni("application/json")}return"string"==typeof o?{name:o}:o||{name:"null"}}function To(o,l){l=ni(l);var h=As[l.name];if(!h)return To(o,"text/plain");var d=h(o,l);if(on.hasOwnProperty(l.name)){var f=on[l.name];for(var m in f)f.hasOwnProperty(m)&&(d.hasOwnProperty(m)&&(d["_"+m]=d[m]),d[m]=f[m])}if(d.name=l.name,l.helperType&&(d.helperType=l.helperType),l.modeProps)for(var v in l.modeProps)d[v]=l.modeProps[v];return d}var on={};function Vi(o,l){Vt(l,on.hasOwnProperty(o)?on[o]:on[o]={})}function xr(o,l){if(!0===l)return l;if(o.copyState)return o.copyState(l);var h={};for(var d in l){var f=l[d];f instanceof Array&&(f=f.concat([])),h[d]=f}return h}function Ec(o,l){for(var h;o.innerMode&&(h=o.innerMode(l))&&h.mode!=o;)l=h.state,o=h.mode;return h||{mode:o,state:l}}function Wu(o,l,h){return!o.startState||o.startState(l,h)}var In=function(o,l,h){this.pos=this.start=0,this.string=o,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=h};function ut(o,l){if((l-=o.first)<0||l>=o.size)throw new Error("There is no line "+(l+o.first)+" in the document.");for(var h=o;!h.lines;)for(var d=0;;++d){var f=h.children[d],m=f.chunkSize();if(l<m){h=f;break}l-=m}return h.lines[l]}function xs(o,l,h){var d=[],f=l.line;return o.iter(l.line,h.line+1,function(m){var v=m.text;f==h.line&&(v=v.slice(0,h.ch)),f==l.line&&(v=v.slice(l.ch)),d.push(v),++f}),d}function rs(o,l,h){var d=[];return o.iter(l,h,function(f){d.push(f.text)}),d}function ji(o,l){var h=l-o.height;if(h)for(var d=o;d;d=d.parent)d.height+=h}function nn(o){if(null==o.parent)return null;for(var l=o.parent,h=xe(l.lines,o),d=l.parent;d;l=d,d=d.parent)for(var f=0;d.children[f]!=l;++f)h+=d.children[f].chunkSize();return h+l.first}function Ms(o,l){var h=o.first;e:do{for(var d=0;d<o.children.length;++d){var f=o.children[d],m=f.height;if(l<m){o=f;continue e}l-=m,h+=f.chunkSize()}return h}while(!o.lines);for(var v=0;v<o.lines.length;++v){var b=o.lines[v].height;if(l<b)break;l-=b}return h+v}function ba(o,l){return l>=o.first&&l<o.first+o.size}function ul(o,l){return String(o.lineNumberFormatter(l+o.firstLineNumber))}function C(o,l,h){if(void 0===h&&(h=null),!(this instanceof C))return new C(o,l,h);this.line=o,this.ch=l,this.sticky=h}function F(o,l){return o.line-l.line||o.ch-l.ch}function Re(o,l){return o.sticky==l.sticky&&0==F(o,l)}function Ge(o){return C(o.line,o.ch)}function kt(o,l){return F(o,l)<0?l:o}function Ct(o,l){return F(o,l)<0?o:l}function an(o,l){return Math.max(o.first,Math.min(l,o.first+o.size-1))}function at(o,l){if(l.line<o.first)return C(o.first,0);var h=o.first+o.size-1;return l.line>h?C(h,ut(o,h).text.length):function gt(o,l){var h=o.ch;return null==h||h>l?C(o.line,l):h<0?C(o.line,0):o}(l,ut(o,l.line).text.length)}function Sc(o,l){for(var h=[],d=0;d<l.length;d++)h[d]=at(o,l[d]);return h}In.prototype.eol=function(){return this.pos>=this.string.length},In.prototype.sol=function(){return this.pos==this.lineStart},In.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},In.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},In.prototype.eat=function(o){var l=this.string.charAt(this.pos);if("string"==typeof o?l==o:l&&(o.test?o.test(l):o(l)))return++this.pos,l},In.prototype.eatWhile=function(o){for(var l=this.pos;this.eat(o););return this.pos>l},In.prototype.eatSpace=function(){for(var o=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>o},In.prototype.skipToEnd=function(){this.pos=this.string.length},In.prototype.skipTo=function(o){var l=this.string.indexOf(o,this.pos);if(l>-1)return this.pos=l,!0},In.prototype.backUp=function(o){this.pos-=o},In.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=St(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?St(this.string,this.lineStart,this.tabSize):0)},In.prototype.indentation=function(){return St(this.string,null,this.tabSize)-(this.lineStart?St(this.string,this.lineStart,this.tabSize):0)},In.prototype.match=function(o,l,h){if("string"!=typeof o){var m=this.string.slice(this.pos).match(o);return m&&m.index>0?null:(m&&!1!==l&&(this.pos+=m[0].length),m)}var d=function(v){return h?v.toLowerCase():v};if(d(this.string.substr(this.pos,o.length))==d(o))return!1!==l&&(this.pos+=o.length),!0},In.prototype.current=function(){return this.string.slice(this.start,this.pos)},In.prototype.hideFirstChars=function(o,l){this.lineStart+=o;try{return l()}finally{this.lineStart-=o}},In.prototype.lookAhead=function(o){var l=this.lineOracle;return l&&l.lookAhead(o)},In.prototype.baseToken=function(){var o=this.lineOracle;return o&&o.baseToken(this.pos)};var dl=function(o,l){this.state=o,this.lookAhead=l},vr=function(o,l,h,d){this.state=l,this.doc=o,this.line=h,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};function zh(o,l,h,d){var f=[o.state.modeGen],m={};$u(o,l.text,o.doc.mode,h,function(S,U){return f.push(S,U)},m,d);for(var v=h.state,y=function(S){h.baseTokens=f;var U=o.state.overlays[S],X=1,de=0;h.state=!0,$u(o,l.text,U.mode,h,function(oe,De){for(var Pe=X;de<oe;){var We=f[X];We>oe&&f.splice(X,1,oe,f[X+1],We),X+=2,de=Math.min(oe,We)}if(De)if(U.opaque)f.splice(Pe,X-Pe,oe,"overlay "+De),X=Pe+2;else for(;Pe<X;Pe+=2){var Ye=f[Pe+1];f[Pe+1]=(Ye?Ye+" ":"")+"overlay "+De}},m),h.state=v,h.baseTokens=null,h.baseTokenPos=1},b=0;b<o.state.overlays.length;++b)y(b);return{styles:f,classes:m.bgClass||m.textClass?m:null}}function Sm(o,l,h){if(!l.styles||l.styles[0]!=o.state.modeGen){var d=ln(o,nn(l)),f=l.text.length>o.options.maxHighlightLength&&xr(o.doc.mode,d.state),m=zh(o,l,d);f&&(d.state=f),l.stateAfter=d.save(!f),l.styles=m.styles,m.classes?l.styleClasses=m.classes:l.styleClasses&&(l.styleClasses=null),h===o.doc.highlightFrontier&&(o.doc.modeFrontier=Math.max(o.doc.modeFrontier,++o.doc.highlightFrontier))}return l.styles}function ln(o,l,h){var d=o.doc,f=o.display;if(!d.mode.startState)return new vr(d,!0,l);var m=function Wh(o,l,h){for(var d,f,m=o.doc,v=h?-1:l-(o.doc.mode.innerMode?1e3:100),y=l;y>v;--y){if(y<=m.first)return m.first;var b=ut(m,y-1),S=b.stateAfter;if(S&&(!h||y+(S instanceof dl?S.lookAhead:0)<=m.modeFrontier))return y;var U=St(b.text,null,o.options.tabSize);(null==f||d>U)&&(f=y-1,d=U)}return f}(o,l,h),v=m>d.first&&ut(d,m-1).stateAfter,y=v?vr.fromSaved(d,v,m):new vr(d,Wu(d.mode),m);return d.iter(m,l,function(b){hl(o,b.text,y);var S=y.line;b.stateAfter=S==l-1||S%5==0||S>=f.viewFrom&&S<f.viewTo?y.save():null,y.nextLine()}),h&&(d.modeFrontier=y.line),y}function hl(o,l,h,d){var f=o.doc.mode,m=new In(l,o.options.tabSize,h);for(m.start=m.pos=d||0,""==l&&yr(f,h.state);!m.eol();)Dc(f,m,h.state),m.start=m.pos}function yr(o,l){if(o.blankLine)return o.blankLine(l);if(o.innerMode){var h=Ec(o,l);if(h.mode.blankLine)return h.mode.blankLine(h.state)}}function Dc(o,l,h,d){for(var f=0;f<10;f++){d&&(d[0]=Ec(o,h).mode);var m=o.token(l,h);if(l.pos>l.start)return m}throw new Error("Mode "+o.name+" failed to advance stream.")}vr.prototype.lookAhead=function(o){var l=this.doc.getLine(this.line+o);return null!=l&&o>this.maxLookAhead&&(this.maxLookAhead=o),l},vr.prototype.baseToken=function(o){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=o;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-o}},vr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vr.fromSaved=function(o,l,h){return l instanceof dl?new vr(o,xr(o.mode,l.state),h,l.lookAhead):new vr(o,xr(o.mode,l),h)},vr.prototype.save=function(o){var l=!1!==o?xr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new dl(l,this.maxLookAhead):l};var Dm=function(o,l,h){this.start=o.start,this.end=o.pos,this.string=o.current(),this.type=l||null,this.state=h};function An(o,l,h,d){var v,U,f=o.doc,m=f.mode,y=ut(f,(l=at(f,l)).line),b=ln(o,l.line,h),S=new In(y.text,o.options.tabSize,b);for(d&&(U=[]);(d||S.pos<l.ch)&&!S.eol();)S.start=S.pos,v=Dc(m,S,b.state),d&&U.push(new Dm(S,v,xr(f.mode,b.state)));return d?U:new Dm(S,v,b.state)}function Mt(o,l){if(o)for(;;){var h=o.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!h)break;o=o.slice(0,h.index)+o.slice(h.index+h[0].length);var d=h[1]?"bgClass":"textClass";null==l[d]?l[d]=h[2]:new RegExp("(?:^|\\s)"+h[2]+"(?:$|\\s)").test(l[d])||(l[d]+=" "+h[2])}return o}function $u(o,l,h,d,f,m,v){var y=h.flattenSpans;null==y&&(y=o.options.flattenSpans);var X,b=0,S=null,U=new In(l,o.options.tabSize,d),de=o.options.addModeClass&&[null];for(""==l&&Mt(yr(h,d.state),m);!U.eol();){if(U.pos>o.options.maxHighlightLength?(y=!1,v&&hl(o,l,d,U.pos),U.pos=l.length,X=null):X=Mt(Dc(h,U,d.state,de),m),de){var oe=de[0].name;oe&&(X="m-"+(X?oe+" "+X:oe))}if(!y||S!=X){for(;b<U.start;)f(b=Math.min(U.start,b+5e3),S);S=X}U.start=U.pos}for(;b<U.pos;){var De=Math.min(U.pos,b+5e3);f(De,S),b=De}}var $h=!1,Se=!1;function cn(o,l,h){this.marker=o,this.from=l,this.to=h}function Tc(o,l){if(o)for(var h=0;h<o.length;++h){var d=o[h];if(d.marker==l)return d}}function Ck(o,l){for(var h,d=0;d<o.length;++d)o[d]!=l&&(h||(h=[])).push(o[d]);return h}function Tm(o,l){if(l.full)return null;var h=ba(o,l.from.line)&&ut(o,l.from.line).markedSpans,d=ba(o,l.to.line)&&ut(o,l.to.line).markedSpans;if(!h&&!d)return null;var f=l.from.ch,m=l.to.ch,v=0==F(l.from,l.to),y=function Gh(o,l,h){var d;if(o)for(var f=0;f<o.length;++f){var m=o[f],v=m.marker;null!=m.from&&!(v.inclusiveLeft?m.from<=l:m.from<l)&&(m.from!=l||"bookmark"!=v.type||h&&m.marker.insertLeft)||(d||(d=[])).push(new cn(v,m.from,null==m.to||(v.inclusiveRight?m.to>=l:m.to>l)?null:m.to))}return d}(h,f,v),b=function Ai(o,l,h){var d;if(o)for(var f=0;f<o.length;++f){var m=o[f],v=m.marker;(null==m.to||(v.inclusiveRight?m.to>=l:m.to>l)||m.from==l&&"bookmark"==v.type&&(!h||m.marker.insertLeft))&&(d||(d=[])).push(new cn(v,null==m.from||(v.inclusiveLeft?m.from<=l:m.from<l)?null:m.from-l,null==m.to?null:m.to-l))}return d}(d,m,v),S=1==l.text.length,U=M(l.text).length+(S?f:0);if(y)for(var X=0;X<y.length;++X){var de=y[X];if(null==de.to){var oe=Tc(b,de.marker);oe?S&&(de.to=null==oe.to?null:oe.to+U):de.to=f}}if(b)for(var De=0;De<b.length;++De){var Pe=b[De];null!=Pe.to&&(Pe.to+=U),null==Pe.from?Tc(y,Pe.marker)||(Pe.from=U,S&&(y||(y=[])).push(Pe)):(Pe.from+=U,S&&(y||(y=[])).push(Pe))}y&&(y=Im(y)),b&&b!=y&&(b=Im(b));var Ye=[y];if(!S){var Je,st=l.text.length-2;if(st>0&&y)for(var lt=0;lt<y.length;++lt)null==y[lt].to&&(Je||(Je=[])).push(new cn(y[lt].marker,null,null));for(var _t=0;_t<st;++_t)Ye.push(Je);Ye.push(b)}return Ye}function Im(o){for(var l=0;l<o.length;++l){var h=o[l];null!=h.from&&h.from==h.to&&!1!==h.marker.clearWhenEmpty&&o.splice(l--,1)}return o.length?o:null}function Io(o){var l=o.markedSpans;if(l){for(var h=0;h<l.length;++h)l[h].marker.detachLine(o);o.markedSpans=null}}function Mw(o,l){if(l){for(var h=0;h<l.length;++h)l[h].marker.attachLine(o);o.markedSpans=l}}function qh(o){return o.inclusiveLeft?-1:0}function Kh(o){return o.inclusiveRight?1:0}function Am(o,l){var h=o.lines.length-l.lines.length;if(0!=h)return h;var d=o.find(),f=l.find(),m=F(d.from,f.from)||qh(o)-qh(l);return m?-m:F(d.to,f.to)||Kh(o)-Kh(l)||l.id-o.id}function km(o,l){var d,h=Se&&o.markedSpans;if(h)for(var f=void 0,m=0;m<h.length;++m)(f=h[m]).marker.collapsed&&null==(l?f.from:f.to)&&(!d||Am(d,f.marker)<0)&&(d=f.marker);return d}function Rw(o){return km(o,!0)}function qu(o){return km(o,!1)}function Sk(o,l){var d,h=Se&&o.markedSpans;if(h)for(var f=0;f<h.length;++f){var m=h[f];m.marker.collapsed&&(null==m.from||m.from<l)&&(null==m.to||m.to>l)&&(!d||Am(d,m.marker)<0)&&(d=m.marker)}return d}function ki(o,l,h,d,f){var m=ut(o,l),v=Se&&m.markedSpans;if(v)for(var y=0;y<v.length;++y){var b=v[y];if(b.marker.collapsed){var S=b.marker.find(0),U=F(S.from,h)||qh(b.marker)-qh(f),X=F(S.to,d)||Kh(b.marker)-Kh(f);if(!(U>=0&&X<=0||U<=0&&X>=0)&&(U<=0&&(b.marker.inclusiveRight&&f.inclusiveLeft?F(S.to,h)>=0:F(S.to,h)>0)||U>=0&&(b.marker.inclusiveRight&&f.inclusiveLeft?F(S.from,d)<=0:F(S.from,d)<0)))return!0}}}function wt(o){for(var l;l=Rw(o);)o=l.find(-1,!0).line;return o}function xm(o,l){var h=ut(o,l),d=wt(h);return h==d?l:nn(d)}function Qe(o,l){if(l>o.lastLine())return l;var d,h=ut(o,l);if(!wa(o,h))return l;for(;d=qu(h);)h=d.find(1,!0).line;return nn(h)+1}function wa(o,l){var h=Se&&l.markedSpans;if(h)for(var d=void 0,f=0;f<h.length;++f)if((d=h[f]).marker.collapsed){if(null==d.from)return!0;if(!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&Mn(o,l,d))return!0}}function Mn(o,l,h){if(null==h.to){var d=h.marker.find(1,!0);return Mn(o,d.line,Tc(d.line.markedSpans,h.marker))}if(h.marker.inclusiveRight&&h.to==l.text.length)return!0;for(var f=void 0,m=0;m<l.markedSpans.length;++m)if((f=l.markedSpans[m]).marker.collapsed&&!f.marker.widgetNode&&f.from==h.to&&(null==f.to||f.to!=h.from)&&(f.marker.inclusiveLeft||h.marker.inclusiveRight)&&Mn(o,l,f))return!0}function Hi(o){for(var l=0,h=(o=wt(o)).parent,d=0;d<h.lines.length;++d){var f=h.lines[d];if(f==o)break;l+=f.height}for(var m=h.parent;m;m=(h=m).parent)for(var v=0;v<m.children.length;++v){var y=m.children[v];if(y==h)break;l+=y.height}return l}function Ku(o){if(0==o.height)return 0;for(var h,l=o.text.length,d=o;h=Rw(d);){var f=h.find(0,!0);d=f.from.line,l+=f.from.ch-f.to.ch}for(d=o;h=qu(d);){var m=h.find(0,!0);l-=d.text.length-m.from.ch,l+=(d=m.to.line).text.length-m.to.ch}return l}function Yu(o){var l=o.display,h=o.doc;l.maxLine=ut(h,h.first),l.maxLineLength=Ku(l.maxLine),l.maxLineChanged=!0,h.iter(function(d){var f=Ku(d);f>l.maxLineLength&&(l.maxLineLength=f,l.maxLine=d)})}var fl=function(o,l,h){this.text=o,Mw(this,l),this.height=h?h(this):1};function Xu(o){o.parent=null,Io(o)}fl.prototype.lineNo=function(){return nn(this)},Do(fl);var Yh={},Mm={};function Rm(o,l){if(!o||/^\s*$/.test(o))return null;var h=l.addModeClass?Mm:Yh;return h[o]||(h[o]=o.replace(/\S+/g,"cm-$&"))}function Wt(o,l){var h=Be("span",null,null,te?"padding-right: .1px":null),d={pre:Be("pre",[h],"CodeMirror-line"),content:h,col:0,pos:0,cm:o,trailingSpace:!1,splitSpaces:o.getOption("lineWrapping")};l.measure={};for(var f=0;f<=(l.rest?l.rest.length:0);f++){var m=f?l.rest[f-1]:l.line,v=void 0;d.pos=0,d.addToken=Om,zu(o.display.measure)&&(v=or(m,o.doc.direction))&&(d.addToken=Nm(d.addToken,v)),d.map=[],Rn(m,d,Sm(o,m,l!=o.display.externalMeasured&&nn(m))),m.styleClasses&&(m.styleClasses.bgClass&&(d.bgClass=ve(m.styleClasses.bgClass,d.bgClass||"")),m.styleClasses.textClass&&(d.textClass=ve(m.styleClasses.textClass,d.textClass||""))),0==d.map.length&&d.map.push(0,0,d.content.appendChild(Hu(o.display.measure))),0==f?(l.measure.map=d.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(d.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(te){var b=d.content.lastChild;(/\bcm-tab\b/.test(b.className)||b.querySelector&&b.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return Pn(o,"renderLine",o,l.line,d.pre),d.pre.className&&(d.textClass=ve(d.pre.className,d.textClass||"")),d}function Zh(o){var l=H("span","\u2022","cm-invalidchar");return l.title="\\u"+o.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function Om(o,l,h,d,f,m,v){if(l){var U,y=o.splitSpaces?function pi(o,l){if(o.length>1&&!/  /.test(o))return o;for(var h=l,d="",f=0;f<o.length;f++){var m=o.charAt(f);" "==m&&h&&(f==o.length-1||32==o.charCodeAt(f+1))&&(m="\xa0"),d+=m,h=" "==m}return d}(l,o.trailingSpace):l,b=o.cm.state.specialChars,S=!1;if(b.test(l)){U=document.createDocumentFragment();for(var X=0;;){b.lastIndex=X;var de=b.exec(l),oe=de?de.index-X:l.length-X;if(oe){var De=document.createTextNode(y.slice(X,X+oe));U.appendChild(N&&ee<9?H("span",[De]):De),o.map.push(o.pos,o.pos+oe,De),o.col+=oe,o.pos+=oe}if(!de)break;X+=oe+1;var Pe=void 0;if("\t"==de[0]){var We=o.cm.options.tabSize,Ye=We-o.col%We;(Pe=U.appendChild(H("span",Y(Ye),"cm-tab"))).setAttribute("role","presentation"),Pe.setAttribute("cm-text","\t"),o.col+=Ye}else"\r"==de[0]||"\n"==de[0]?((Pe=U.appendChild(H("span","\r"==de[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",de[0]),o.col+=1):((Pe=o.cm.options.specialCharPlaceholder(de[0])).setAttribute("cm-text",de[0]),U.appendChild(N&&ee<9?H("span",[Pe]):Pe),o.col+=1);o.map.push(o.pos,o.pos+1,Pe),o.pos++}}else o.col+=l.length,U=document.createTextNode(y),o.map.push(o.pos,o.pos+l.length,U),N&&ee<9&&(S=!0),o.pos+=l.length;if(o.trailingSpace=32==y.charCodeAt(l.length-1),h||d||f||S||m||v){var st=h||"";d&&(st+=d),f&&(st+=f);var Je=H("span",[U],st,m);if(v)for(var lt in v)v.hasOwnProperty(lt)&&"style"!=lt&&"class"!=lt&&Je.setAttribute(lt,v[lt]);return o.content.appendChild(Je)}o.content.appendChild(U)}}function Nm(o,l){return function(h,d,f,m,v,y,b){f=f?f+" cm-force-border":"cm-force-border";for(var S=h.pos,U=S+d.length;;){for(var X=void 0,de=0;de<l.length&&!((X=l[de]).to>S&&X.from<=S);de++);if(X.to>=U)return o(h,d,f,m,v,y,b);o(h,d.slice(0,X.to-S),f,m,null,y,b),m=null,d=d.slice(X.to-S),S=X.to}}}function Ow(o,l,h,d){var f=!d&&h.widgetNode;f&&o.map.push(o.pos,o.pos+l,f),!d&&o.cm.display.input.needsContentAttribute&&(f||(f=o.content.appendChild(document.createElement("span"))),f.setAttribute("cm-marker",h.id)),f&&(o.cm.display.input.setUneditable(f),o.content.appendChild(f)),o.pos+=l,o.trailingSpace=!1}function Rn(o,l,h){var d=o.markedSpans,f=o.text,m=0;if(d)for(var X,de,De,Pe,We,Ye,st,y=f.length,b=0,S=1,U="",oe=0;;){if(oe==b){De=Pe=We=de="",st=null,Ye=null,oe=1/0;for(var Je=[],lt=void 0,_t=0;_t<d.length;++_t){var vt=d[_t],Et=vt.marker;if("bookmark"==Et.type&&vt.from==b&&Et.widgetNode)Je.push(Et);else if(vt.from<=b&&(null==vt.to||vt.to>b||Et.collapsed&&vt.to==b&&vt.from==b)){if(null!=vt.to&&vt.to!=b&&oe>vt.to&&(oe=vt.to,Pe=""),Et.className&&(De+=" "+Et.className),Et.css&&(de=(de?de+";":"")+Et.css),Et.startStyle&&vt.from==b&&(We+=" "+Et.startStyle),Et.endStyle&&vt.to==oe&&(lt||(lt=[])).push(Et.endStyle,vt.to),Et.title&&((st||(st={})).title=Et.title),Et.attributes)for(var Dn in Et.attributes)(st||(st={}))[Dn]=Et.attributes[Dn];Et.collapsed&&(!Ye||Am(Ye.marker,Et)<0)&&(Ye=vt)}else vt.from>b&&oe>vt.from&&(oe=vt.from)}if(lt)for(var en=0;en<lt.length;en+=2)lt[en+1]==oe&&(Pe+=" "+lt[en]);if(!Ye||Ye.from==b)for(var On=0;On<Je.length;++On)Ow(l,0,Je[On]);if(Ye&&(Ye.from||0)==b){if(Ow(l,(null==Ye.to?y+1:Ye.to)-b,Ye.marker,null==Ye.from),null==Ye.to)return;Ye.to==b&&(Ye=!1)}}if(b>=y)break;for(var vi=Math.min(y,oe);;){if(U){var Kr=b+U.length;if(!Ye){var Wn=Kr>vi?U.slice(0,vi-b):U;l.addToken(l,Wn,X?X+De:De,We,b+Wn.length==oe?Pe:"",de,st)}if(Kr>=vi){U=U.slice(vi-b),b=vi;break}b=Kr,We=""}U=f.slice(m,m=h[S++]),X=Rm(h[S++],l.cm.options)}}else for(var v=1;v<h.length;v+=2)l.addToken(l,f.slice(m,m=h[v]),Rm(h[v+1],l.cm.options))}function Nw(o,l,h){this.line=l,this.rest=function Tk(o){for(var l,h;l=qu(o);)o=l.find(1,!0).line,(h||(h=[])).push(o);return h}(l),this.size=this.rest?nn(M(this.rest))-h+1:1,this.node=this.text=null,this.hidden=wa(o,l)}function Xh(o,l,h){for(var f,d=[],m=l;m<h;m=f){var v=new Nw(o.doc,ut(o.doc,m),m);f=m+v.size,d.push(v)}return d}var Ao=null;var Ic=null;function lr(o,l){var h=ma(o,l);if(h.length){var f,d=Array.prototype.slice.call(arguments,2);Ao?f=Ao.delayedCallbacks:Ic?f=Ic:(f=Ic=[],setTimeout(Ik,0));for(var m=function(y){f.push(function(){return h[y].apply(null,d)})},v=0;v<h.length;++v)m(v)}}function Ik(){var o=Ic;Ic=null;for(var l=0;l<o.length;++l)o[l]()}function Pw(o,l,h,d){for(var f=0;f<l.changes.length;f++){var m=l.changes[f];"text"==m?Ac(o,l):"gutter"==m?xc(o,l,h,d):"class"==m?kc(o,l):"widget"==m&&Fw(o,l,d)}l.changes=null}function Qu(o){return o.node==o.text&&(o.node=H("div",null,null,"position: relative"),o.text.parentNode&&o.text.parentNode.replaceChild(o.node,o.text),o.node.appendChild(o.text),N&&ee<8&&(o.node.style.zIndex=2)),o.node}function Lw(o,l){var h=o.display.externalMeasured;return h&&h.line==l.line?(o.display.externalMeasured=null,l.measure=h.measure,h.built):Wt(o,l)}function Ac(o,l){var h=l.text.className,d=Lw(o,l);l.text==l.node&&(l.node=d.pre),l.text.parentNode.replaceChild(d.pre,l.text),l.text=d.pre,d.bgClass!=l.bgClass||d.textClass!=l.textClass?(l.bgClass=d.bgClass,l.textClass=d.textClass,kc(o,l)):h&&(l.text.className=h)}function kc(o,l){(function Ak(o,l){var h=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(h&&(h+=" CodeMirror-linebackground"),l.background)h?l.background.className=h:(l.background.parentNode.removeChild(l.background),l.background=null);else if(h){var d=Qu(l);l.background=d.insertBefore(H("div",null,h),d.firstChild),o.display.input.setUneditable(l.background)}})(o,l),l.line.wrapClass?Qu(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className=""),l.text.className=(l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass)||""}function xc(o,l,h,d){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var f=Qu(l);l.gutterBackground=H("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(o.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),o.display.input.setUneditable(l.gutterBackground),f.insertBefore(l.gutterBackground,l.text)}var m=l.line.gutterMarkers;if(o.options.lineNumbers||m){var v=Qu(l),y=l.gutter=H("div",null,"CodeMirror-gutter-wrapper","left: "+(o.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(y.setAttribute("aria-hidden","true"),o.display.input.setUneditable(y),v.insertBefore(y,l.text),l.line.gutterClass&&(y.className+=" "+l.line.gutterClass),o.options.lineNumbers&&(!m||!m["CodeMirror-linenumbers"])&&(l.lineNumber=y.appendChild(H("div",ul(o.options,h),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+o.display.lineNumInnerWidth+"px"))),m)for(var b=0;b<o.display.gutterSpecs.length;++b){var S=o.display.gutterSpecs[b].className,U=m.hasOwnProperty(S)&&m[S];U&&y.appendChild(H("div",[U],"CodeMirror-gutter-elt","left: "+d.gutterLeft[S]+"px; width: "+d.gutterWidth[S]+"px"))}}}function Fw(o,l,h){l.alignable&&(l.alignable=null);for(var d=Ke("CodeMirror-linewidget"),f=l.node.firstChild,m=void 0;f;f=m)m=f.nextSibling,d.test(f.className)&&l.node.removeChild(f);Lm(o,l,h)}function Bw(o,l,h,d){var f=Lw(o,l);return l.text=l.node=f.pre,f.bgClass&&(l.bgClass=f.bgClass),f.textClass&&(l.textClass=f.textClass),kc(o,l),xc(o,l,h,d),Lm(o,l,d),l.node}function Lm(o,l,h){if(ef(o,l.line,l,h,!0),l.rest)for(var d=0;d<l.rest.length;d++)ef(o,l.rest[d],l,h,!1)}function ef(o,l,h,d,f){if(l.widgets)for(var m=Qu(h),v=0,y=l.widgets;v<y.length;++v){var b=y[v],S=H("div",[b.node],"CodeMirror-linewidget"+(b.className?" "+b.className:""));b.handleMouseEvents||S.setAttribute("cm-ignore-events","true"),pl(b,S,h,d),o.display.input.setUneditable(S),f&&b.above?m.insertBefore(S,h.gutter||h.text):m.appendChild(S),lr(b,"redraw")}}function pl(o,l,h,d){if(o.noHScroll){(h.alignable||(h.alignable=[])).push(l);var f=d.wrapperWidth;l.style.left=d.fixedPos+"px",o.coverGutter||(f-=d.gutterTotalWidth,l.style.paddingLeft=d.gutterTotalWidth+"px"),l.style.width=f+"px"}o.coverGutter&&(l.style.zIndex=5,l.style.position="relative",o.noHScroll||(l.style.marginLeft=-d.gutterTotalWidth+"px"))}function Mc(o){if(null!=o.height)return o.height;var l=o.doc.cm;if(!l)return 0;if(!Oe(document.body,o.node)){var h="position: relative;";o.coverGutter&&(h+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),o.noHScroll&&(h+="width: "+l.display.wrapper.clientWidth+"px;"),D(l.display.measure,H("div",[o.node],null,h))}return o.height=o.node.parentNode.offsetHeight}function $r(o,l){for(var h=ll(l);h!=o.wrapper;h=h.parentNode)if(!h||1==h.nodeType&&"true"==h.getAttribute("cm-ignore-events")||h.parentNode==o.sizer&&h!=o.mover)return!0}function Ju(o){return o.lineSpace.offsetTop}function Ce(o){return o.mover.offsetHeight-o.lineSpace.offsetHeight}function tf(o){if(o.cachedPaddingH)return o.cachedPaddingH;var l=D(o.measure,H("pre","x","CodeMirror-line-like")),h=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,d={left:parseInt(h.paddingLeft),right:parseInt(h.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(o.cachedPaddingH=d),d}function nt(o){return mt-o.display.nativeBarWidth}function Rs(o){return o.display.scroller.clientWidth-nt(o)-o.display.barWidth}function Rc(o){return o.display.scroller.clientHeight-nt(o)-o.display.barHeight}function Fm(o,l,h){if(o.line==l)return{map:o.measure.map,cache:o.measure.cache};if(o.rest){for(var d=0;d<o.rest.length;d++)if(o.rest[d]==l)return{map:o.measure.maps[d],cache:o.measure.caches[d]};for(var f=0;f<o.rest.length;f++)if(nn(o.rest[f])>h)return{map:o.measure.maps[f],cache:o.measure.caches[f],before:!0}}}function Bm(o,l,h,d){return cr(o,eo(o,l),h,d)}function is(o,l){if(l>=o.display.viewFrom&&l<o.display.viewTo)return o.display.view[Ea(o,l)];var h=o.display.externalMeasured;return h&&l>=h.lineN&&l<h.lineN+h.size?h:void 0}function eo(o,l){var h=nn(l),d=is(o,h);d&&!d.text?d=null:d&&d.changes&&(Pw(o,d,h,nd(o)),o.curOp.forceUpdate=!0),d||(d=function Uw(o,l){var h=nn(l=wt(l)),d=o.display.externalMeasured=new Nw(o.doc,l,h);d.lineN=h;var f=d.built=Wt(o,d);return d.text=f.pre,D(o.display.lineMeasure,f.pre),d}(o,l));var f=Fm(d,l,h);return{line:l,view:d,rect:null,map:f.map,cache:f.cache,before:f.before,hasHeights:!1}}function cr(o,l,h,d,f){l.before&&(h=-1);var v,m=h+(d||"");return l.cache.hasOwnProperty(m)?v=l.cache[m]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(function Oc(o,l,h){var d=o.options.lineWrapping,f=d&&Rs(o);if(!l.measure.heights||d&&l.measure.width!=f){var m=l.measure.heights=[];if(d){l.measure.width=f;for(var v=l.text.firstChild.getClientRects(),y=0;y<v.length-1;y++){var b=v[y],S=v[y+1];Math.abs(b.bottom-S.bottom)>2&&m.push((b.bottom+S.top)/2-h.top)}}m.push(h.bottom-h.top)}}(o,l.view,l.rect),l.hasHeights=!0),(v=function nf(o,l,h,d){var S,f=un(l.map,h,d),m=f.node,v=f.start,y=f.end,b=f.collapse;if(3==m.nodeType){for(var U=0;U<4;U++){for(;v&&It(l.line.text.charAt(f.coverStart+v));)--v;for(;f.coverStart+y<f.coverEnd&&It(l.line.text.charAt(f.coverStart+y));)++y;if((S=N&&ee<9&&0==v&&y==f.coverEnd-f.coverStart?m.parentNode.getBoundingClientRect():ed(T(m,v,y).getClientRects(),d)).left||S.right||0==v)break;y=v,v-=1,b="right"}N&&ee<11&&(S=function rf(o,l){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function Is(o){if(null!=Ts)return Ts;var l=D(o,H("span","x")),h=l.getBoundingClientRect(),d=T(l,0,1).getBoundingClientRect();return Ts=Math.abs(h.left-d.left)>1}(o))return l;var h=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*h,right:l.right*h,top:l.top*d,bottom:l.bottom*d}}(o.display.measure,S))}else{var X;v>0&&(b=d="right"),S=o.options.lineWrapping&&(X=m.getClientRects()).length>1?X["right"==d?X.length-1:0]:m.getBoundingClientRect()}if(N&&ee<9&&!v&&(!S||!S.left&&!S.right)){var de=m.parentNode.getClientRects()[0];S=de?{left:de.left,right:de.left+ml(o.display),top:de.top,bottom:de.bottom}:ss}for(var oe=S.top-l.rect.top,De=S.bottom-l.rect.top,Pe=(oe+De)/2,We=l.view.measure.heights,Ye=0;Ye<We.length-1&&!(Pe<We[Ye]);Ye++);var lt={left:("right"==b?S.right:S.left)-l.rect.left,right:("left"==b?S.left:S.right)-l.rect.left,top:Ye?We[Ye-1]:0,bottom:We[Ye]};return!S.left&&!S.right&&(lt.bogus=!0),o.options.singleCursorHeightPerLine||(lt.rtop=oe,lt.rbottom=De),lt}(o,l,h,d)).bogus||(l.cache[m]=v)),{left:v.left,right:v.right,top:f?v.rtop:v.top,bottom:f?v.rbottom:v.bottom}}var Ca,ss={left:0,right:0,top:0,bottom:0};function un(o,l,h){for(var d,f,m,v,y,b,S=0;S<o.length;S+=3)if(b=o[S+1],l<(y=o[S])?(f=0,m=1,v="left"):l<b?m=1+(f=l-y):(S==o.length-3||l==b&&o[S+3]>l)&&(f=(m=b-y)-1,l>=b&&(v="right")),null!=f){if(d=o[S+2],y==b&&h==(d.insertLeft?"left":"right")&&(v=h),"left"==h&&0==f)for(;S&&o[S-2]==o[S-3]&&o[S-1].insertLeft;)d=o[2+(S-=3)],v="left";if("right"==h&&f==b-y)for(;S<o.length-3&&o[S+3]==o[S+4]&&!o[S+5].insertLeft;)d=o[(S+=3)+2],v="right";break}return{node:d,start:f,end:m,collapse:v,coverStart:y,coverEnd:b}}function ed(o,l){var h=ss;if("left"==l)for(var d=0;d<o.length&&(h=o[d]).left==h.right;d++);else for(var f=o.length-1;f>=0&&(h=o[f]).left==h.right;f--);return h}function sf(o){if(o.measure&&(o.measure.cache={},o.measure.heights=null,o.rest))for(var l=0;l<o.rest.length;l++)o.measure.caches[l]={}}function Os(o){o.display.externalMeasure=null,ue(o.display.lineMeasure);for(var l=0;l<o.display.view.length;l++)sf(o.display.view[l])}function to(o){Os(o),o.display.cachedCharWidth=o.display.cachedTextHeight=o.display.cachedPaddingH=null,o.options.lineWrapping||(o.display.maxLineChanged=!0),o.display.lineNumChars=null}function af(o){return J&&P?-(o.body.getBoundingClientRect().left-parseInt(getComputedStyle(o.body).marginLeft)):o.defaultView.pageXOffset||(o.documentElement||o.body).scrollLeft}function lf(o){return J&&P?-(o.body.getBoundingClientRect().top-parseInt(getComputedStyle(o.body).marginTop)):o.defaultView.pageYOffset||(o.documentElement||o.body).scrollTop}function Nc(o){var h=wt(o).widgets,d=0;if(h)for(var f=0;f<h.length;++f)h[f].above&&(d+=Mc(h[f]));return d}function Pc(o,l,h,d,f){if(!f){var m=Nc(l);h.top+=m,h.bottom+=m}if("line"==d)return h;d||(d="local");var v=Hi(l);if("local"==d?v+=Ju(o.display):v-=o.display.viewOffset,"page"==d||"window"==d){var y=o.display.lineSpace.getBoundingClientRect();v+=y.top+("window"==d?0:lf(ct(o)));var b=y.left+("window"==d?0:af(ct(o)));h.left+=b,h.right+=b}return h.top+=v,h.bottom+=v,h}function cf(o,l,h){if("div"==h)return l;var d=l.left,f=l.top;if("page"==h)d-=af(ct(o)),f-=lf(ct(o));else if("local"==h||!h){var m=o.display.sizer.getBoundingClientRect();d+=m.left,f+=m.top}var v=o.display.lineSpace.getBoundingClientRect();return{left:d-v.left,top:f-v.top}}function ko(o,l,h,d,f){return d||(d=ut(o.doc,l.line)),Pc(o,d,Bm(o,d,l.ch,f),h)}function zi(o,l,h,d,f,m){function v(De,Pe){var We=cr(o,f,De,Pe?"right":"left",m);return Pe?We.left=We.right:We.right=We.left,Pc(o,d,We,h)}d=d||ut(o.doc,l.line),f||(f=eo(o,d));var y=or(d,o.doc.direction),b=l.ch,S=l.sticky;if(b>=d.text.length?(b=d.text.length,S="before"):b<=0&&(b=0,S="after"),!y)return v("before"==S?b-1:b,"before"==S);function U(De,Pe,We){return v(We?De-1:De,1==y[Pe].level!=We)}var X=tn(y,b,S),de=Yt,oe=U(b,X,"before"==S);return null!=de&&(oe.other=U(b,de,"before"!=S)),oe}function uf(o,l){var h=0;l=at(o.doc,l),o.options.lineWrapping||(h=ml(o.display)*l.ch);var d=ut(o.doc,l.line),f=Hi(d)+Ju(o.display);return{left:h,right:h,top:f,bottom:f+d.height}}function df(o,l,h,d,f){var m=C(o,l,h);return m.xRel=f,d&&(m.outside=d),m}function td(o,l,h){var d=o.doc;if((h+=o.display.viewOffset)<0)return df(d.first,0,null,-1,-1);var f=Ms(d,h),m=d.first+d.size-1;if(f>m)return df(d.first+d.size-1,ut(d,m).text.length,null,1,1);l<0&&(l=0);for(var v=ut(d,f);;){var y=Vw(o,v,f,l,h),b=Sk(v,y.ch+(y.xRel>0||y.outside>0?1:0));if(!b)return y;var S=b.find(1);if(S.line==f)return S;v=ut(d,f=S.line)}}function Um(o,l,h,d){d-=Nc(l);var f=l.text.length,m=Ti(function(v){return cr(o,h,v-1).bottom<=d},f,0);return{begin:m,end:f=Ti(function(v){return cr(o,h,v).top>d},m,f)}}function Vm(o,l,h,d){return h||(h=eo(o,l)),Um(o,l,h,Pc(o,l,cr(o,h,d),"line").top)}function xi(o,l,h,d){return!(o.bottom<=h)&&(o.top>h||(d?o.left:o.right)>l)}function Vw(o,l,h,d,f){f-=Hi(l);var m=eo(o,l),v=Nc(l),y=0,b=l.text.length,S=!0,U=or(l,o.doc.direction);if(U){var X=(o.options.lineWrapping?jw:jm)(o,l,h,m,U,d,f);y=(S=1!=X.level)?X.from:X.to-1,b=S?X.to:X.from-1}var Pe,We,de=null,oe=null,De=Ti(function(_t){var vt=cr(o,m,_t);return vt.top+=v,vt.bottom+=v,!!xi(vt,d,f,!1)&&(vt.top<=f&&vt.left<=d&&(de=_t,oe=vt),!0)},y,b),Ye=!1;if(oe){var st=d-oe.left<oe.right-d,Je=st==S;De=de+(Je?0:1),We=Je?"after":"before",Pe=st?oe.left:oe.right}else{!S&&(De==b||De==y)&&De++,We=0==De?"after":De==l.text.length?"before":cr(o,m,De-(S?1:0)).bottom+v<=f==S?"after":"before";var lt=zi(o,C(h,De,We),"line",l,m);Pe=lt.left,Ye=f<lt.top?-1:f>=lt.bottom?1:0}return df(h,De=mr(l.text,De,1),We,Ye,d-Pe)}function jm(o,l,h,d,f,m,v){var y=Ti(function(X){var de=f[X],oe=1!=de.level;return xi(zi(o,C(h,oe?de.to:de.from,oe?"before":"after"),"line",l,d),m,v,!0)},0,f.length-1),b=f[y];if(y>0){var S=1!=b.level,U=zi(o,C(h,S?b.from:b.to,S?"after":"before"),"line",l,d);xi(U,m,v,!0)&&U.top>v&&(b=f[y-1])}return b}function jw(o,l,h,d,f,m,v){var y=Um(o,l,d,v),b=y.begin,S=y.end;/\s/.test(l.text.charAt(S-1))&&S--;for(var U=null,X=null,de=0;de<f.length;de++){var oe=f[de];if(!(oe.from>=S||oe.to<=b)){var Pe=cr(o,d,1!=oe.level?Math.min(S,oe.to)-1:Math.max(b,oe.from)).right,We=Pe<m?m-Pe+1e9:Pe-m;(!U||X>We)&&(U=oe,X=We)}}return U||(U=f[f.length-1]),U.from<b&&(U={from:b,to:U.to,level:U.level}),U.to>S&&(U={from:U.from,to:S,level:U.level}),U}function gl(o){if(null!=o.cachedTextHeight)return o.cachedTextHeight;if(null==Ca){Ca=H("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)Ca.appendChild(document.createTextNode("x")),Ca.appendChild(H("br"));Ca.appendChild(document.createTextNode("x"))}D(o.measure,Ca);var h=Ca.offsetHeight/50;return h>3&&(o.cachedTextHeight=h),ue(o.measure),h||1}function ml(o){if(null!=o.cachedCharWidth)return o.cachedCharWidth;var l=H("span","xxxxxxxxxx"),h=H("pre",[l],"CodeMirror-line-like");D(o.measure,h);var d=l.getBoundingClientRect(),f=(d.right-d.left)/10;return f>2&&(o.cachedCharWidth=f),f||10}function nd(o){for(var l=o.display,h={},d={},f=l.gutters.clientLeft,m=l.gutters.firstChild,v=0;m;m=m.nextSibling,++v){var y=o.display.gutterSpecs[v].className;h[y]=m.offsetLeft+m.clientLeft+f,d[y]=m.clientWidth}return{fixedPos:hf(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:h,gutterWidth:d,wrapperWidth:l.wrapper.clientWidth}}function hf(o){return o.scroller.getBoundingClientRect().left-o.sizer.getBoundingClientRect().left}function Hm(o){var l=gl(o.display),h=o.options.lineWrapping,d=h&&Math.max(5,o.display.scroller.clientWidth/ml(o.display)-3);return function(f){if(wa(o.doc,f))return 0;var m=0;if(f.widgets)for(var v=0;v<f.widgets.length;v++)f.widgets[v].height&&(m+=f.widgets[v].height);return h?m+(Math.ceil(f.text.length/d)||1)*l:m+l}}function ff(o){var l=o.doc,h=Hm(o);l.iter(function(d){var f=h(d);f!=d.height&&ji(d,f)})}function bn(o,l,h,d){var f=o.display;if(!h&&"true"==ll(l).getAttribute("cm-not-content"))return null;var m,v,y=f.lineSpace.getBoundingClientRect();try{m=l.clientX-y.left,v=l.clientY-y.top}catch{return null}var S,b=td(o,m,v);if(d&&b.xRel>0&&(S=ut(o.doc,b.line).text).length==b.ch){var U=St(S,S.length,o.options.tabSize)-S.length;b=C(b.line,Math.max(0,Math.round((m-tf(o.display).left)/ml(o.display))-U))}return b}function Ea(o,l){if(l>=o.display.viewTo||(l-=o.display.viewFrom)<0)return null;for(var h=o.display.view,d=0;d<h.length;d++)if((l-=h[d].size)<0)return d}function ri(o,l,h,d){null==l&&(l=o.doc.first),null==h&&(h=o.doc.first+o.doc.size),d||(d=0);var f=o.display;if(d&&h<f.viewTo&&(null==f.updateLineNumbers||f.updateLineNumbers>l)&&(f.updateLineNumbers=l),o.curOp.viewChanged=!0,l>=f.viewTo)Se&&xm(o.doc,l)<f.viewTo&&_n(o);else if(h<=f.viewFrom)Se&&Qe(o.doc,h+d)>f.viewFrom?_n(o):(f.viewFrom+=d,f.viewTo+=d);else if(l<=f.viewFrom&&h>=f.viewTo)_n(o);else if(l<=f.viewFrom){var m=rd(o,h,h+d,1);m?(f.view=f.view.slice(m.index),f.viewFrom=m.lineN,f.viewTo+=d):_n(o)}else if(h>=f.viewTo){var v=rd(o,l,l,-1);v?(f.view=f.view.slice(0,v.index),f.viewTo=v.lineN):_n(o)}else{var y=rd(o,l,l,-1),b=rd(o,h,h+d,1);y&&b?(f.view=f.view.slice(0,y.index).concat(Xh(o,y.lineN,b.lineN)).concat(f.view.slice(b.index)),f.viewTo+=d):_n(o)}var S=f.externalMeasured;S&&(h<S.lineN?S.lineN+=d:l<S.lineN+S.size&&(f.externalMeasured=null))}function xo(o,l,h){o.curOp.viewChanged=!0;var d=o.display,f=o.display.externalMeasured;if(f&&l>=f.lineN&&l<f.lineN+f.size&&(d.externalMeasured=null),!(l<d.viewFrom||l>=d.viewTo)){var m=d.view[Ea(o,l)];if(null!=m.node){var v=m.changes||(m.changes=[]);-1==xe(v,h)&&v.push(h)}}}function _n(o){o.display.viewFrom=o.display.viewTo=o.doc.first,o.display.view=[],o.display.viewOffset=0}function rd(o,l,h,d){var m,f=Ea(o,l),v=o.display.view;if(!Se||h==o.doc.first+o.doc.size)return{index:f,lineN:h};for(var y=o.display.viewFrom,b=0;b<f;b++)y+=v[b].size;if(y!=l){if(d>0){if(f==v.length-1)return null;m=y+v[f].size-l,f++}else m=y-l;l+=m,h+=m}for(;xm(o.doc,h)!=h;){if(f==(d<0?0:v.length-1))return null;h+=d*v[f-(d<0?1:0)].size,f+=d}return{index:f,lineN:h}}function xt(o){for(var l=o.display.view,h=0,d=0;d<l.length;d++){var f=l[d];!f.hidden&&(!f.node||f.changes)&&++h}return h}function Mr(o){o.display.input.showSelection(o.display.input.prepareSelection())}function Jt(o,l){void 0===l&&(l=!0);var h=o.doc,d={},f=d.cursors=document.createDocumentFragment(),m=d.selection=document.createDocumentFragment(),v=o.options.$customCursor;v&&(l=!0);for(var y=0;y<h.sel.ranges.length;y++)if(l||y!=h.sel.primIndex){var b=h.sel.ranges[y];if(!(b.from().line>=o.display.viewTo||b.to().line<o.display.viewFrom)){var S=b.empty();if(v){var U=v(o,b);U&&Sr(o,U,f)}else(S||o.options.showCursorWhenSelecting)&&Sr(o,b.head,f);S||_l(o,b,m)}}return d}function Sr(o,l,h){var d=zi(o,l,"div",null,null,!o.options.singleCursorHeightPerLine),f=h.appendChild(H("div","\xa0","CodeMirror-cursor"));if(f.style.left=d.left+"px",f.style.top=d.top+"px",f.style.height=Math.max(0,d.bottom-d.top)*o.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(o.getWrapperElement().className)){var m=ko(o,l,"div",null,null),v=m.right-m.left;f.style.width=(v>0?v:o.defaultCharWidth())+"px"}if(d.other){var y=h.appendChild(H("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));y.style.display="",y.style.left=d.other.left+"px",y.style.top=d.other.top+"px",y.style.height=.85*(d.other.bottom-d.other.top)+"px"}}function Rr(o,l){return o.top-l.top||o.left-l.left}function _l(o,l,h){var d=o.display,f=o.doc,m=document.createDocumentFragment(),v=tf(o.display),y=v.left,b=Math.max(d.sizerWidth,Rs(o)-d.sizer.offsetLeft)-v.right,S="ltr"==f.direction;function U(Je,lt,_t,vt){lt<0&&(lt=0),lt=Math.round(lt),vt=Math.round(vt),m.appendChild(H("div",null,"CodeMirror-selected","position: absolute; left: "+Je+"px;\n                             top: "+lt+"px; width: "+(_t??b-Je)+"px;\n                             height: "+(vt-lt)+"px"))}function X(Je,lt,_t){var Dn,en,vt=ut(f,Je),Et=vt.text.length;function On(Wn,br){return ko(o,C(Je,Wn),"div",vt,br)}function vi(Wn,br,Xn){var Bn=Vm(o,vt,null,Wn),tr="ltr"==br==("after"==Xn)?"left":"right";return On("after"==Xn?Bn.begin:Bn.end-(/\s/.test(vt.text.charAt(Bn.end-1))?2:1),tr)[tr]}var Kr=or(vt,f.direction);return function _r(o,l,h,d){if(!o)return d(l,h,"ltr",0);for(var f=!1,m=0;m<o.length;++m){var v=o[m];(v.from<h&&v.to>l||l==h&&v.to==l)&&(d(Math.max(v.from,l),Math.min(v.to,h),1==v.level?"rtl":"ltr",m),f=!0)}f||d(l,h,"ltr")}(Kr,lt||0,_t??Et,function(Wn,br,Xn,Bn){var tr="ltr"==Xn,Un=On(Wn,tr?"left":"right"),wr=On(br-1,tr?"right":"left"),Kc=null==lt&&0==Wn,Vo=null==_t&&br==Et,Yr=0==Bn,ho=!Kr||Bn==Kr.length-1;if(wr.top-Un.top<=3){var jo=(S?Kc:Vo)&&Yr?y:(tr?Un:wr).left;U(jo,Un.top,((S?Vo:Kc)&&ho?b:(tr?wr:Un).right)-jo,Un.bottom)}else{var qi,Zr,Ul,dr;tr?(qi=S&&Kc&&Yr?y:Un.left,Zr=S?b:vi(Wn,Xn,"before"),Ul=S?y:vi(br,Xn,"after"),dr=S&&Vo&&ho?b:wr.right):(qi=S?vi(Wn,Xn,"before"):y,Zr=!S&&Kc&&Yr?b:Un.right,Ul=!S&&Vo&&ho?y:wr.left,dr=S?vi(br,Xn,"after"):b),U(qi,Un.top,Zr-qi,Un.bottom),Un.bottom<wr.top&&U(y,Un.bottom,null,wr.top),U(Ul,wr.top,dr-Ul,wr.bottom)}(!Dn||Rr(Un,Dn)<0)&&(Dn=Un),Rr(wr,Dn)<0&&(Dn=wr),(!en||Rr(Un,en)<0)&&(en=Un),Rr(wr,en)<0&&(en=wr)}),{start:Dn,end:en}}var de=l.from(),oe=l.to();if(de.line==oe.line)X(de.line,de.ch,oe.ch);else{var De=ut(f,de.line),Pe=ut(f,oe.line),We=wt(De)==wt(Pe),Ye=X(de.line,de.ch,We?De.text.length+1:null).end,st=X(oe.line,We?0:null,oe.ch).start;We&&(Ye.top<st.top-2?(U(Ye.right,Ye.top,null,Ye.bottom),U(y,st.top,st.left,st.bottom)):U(Ye.right,Ye.top,st.left-Ye.right,Ye.bottom)),Ye.bottom<st.top&&U(y,Ye.bottom,null,st.top)}h.appendChild(m)}function ii(o){if(o.state.focused){var l=o.display;clearInterval(l.blinker);var h=!0;l.cursorDiv.style.visibility="",o.options.cursorBlinkRate>0?l.blinker=setInterval(function(){o.hasFocus()||yl(o),l.cursorDiv.style.visibility=(h=!h)?"":"hidden"},o.options.cursorBlinkRate):o.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function pf(o){o.hasFocus()||(o.display.input.focus(),o.state.focused||vl(o))}function id(o){o.state.delayingBlurEvent=!0,setTimeout(function(){o.state.delayingBlurEvent&&(o.state.delayingBlurEvent=!1,o.state.focused&&yl(o))},100)}function vl(o,l){o.state.delayingBlurEvent&&!o.state.draggingText&&(o.state.delayingBlurEvent=!1),"nocursor"!=o.options.readOnly&&(o.state.focused||(Pn(o,"focus",o,l),o.state.focused=!0,Ie(o.display.wrapper,"CodeMirror-focused"),!o.curOp&&o.display.selForContextMenu!=o.doc.sel&&(o.display.input.reset(),te&&setTimeout(function(){return o.display.input.reset(!0)},20)),o.display.input.receivedFocus()),ii(o))}function yl(o,l){o.state.delayingBlurEvent||(o.state.focused&&(Pn(o,"blur",o,l),o.state.focused=!1,G(o.display.wrapper,"CodeMirror-focused")),clearInterval(o.display.blinker),setTimeout(function(){o.state.focused||(o.display.shift=!1)},150))}function sd(o){for(var l=o.display,h=l.lineDiv.offsetTop,d=Math.max(0,l.scroller.getBoundingClientRect().top),f=l.lineDiv.getBoundingClientRect().top,m=0,v=0;v<l.view.length;v++){var y=l.view[v],b=o.options.lineWrapping,S=void 0,U=0;if(!y.hidden){if(f+=y.line.height,N&&ee<8){var X=y.node.offsetTop+y.node.offsetHeight;S=X-h,h=X}else{var de=y.node.getBoundingClientRect();S=de.bottom-de.top,!b&&y.text.firstChild&&(U=y.text.firstChild.getBoundingClientRect().right-de.left-1)}var oe=y.line.height-S;if((oe>.005||oe<-.005)&&(f<d&&(m-=oe),ji(y.line,S),Yn(y.line),y.rest))for(var De=0;De<y.rest.length;De++)Yn(y.rest[De]);if(U>o.display.sizerWidth){var Pe=Math.ceil(U/ml(o.display));Pe>o.display.maxLineLength&&(o.display.maxLineLength=Pe,o.display.maxLine=y.line,o.display.maxLineChanged=!0)}}}Math.abs(m)>2&&(l.scroller.scrollTop+=m)}function Yn(o){if(o.widgets)for(var l=0;l<o.widgets.length;++l){var h=o.widgets[l],d=h.node.parentNode;d&&(h.height=d.offsetHeight)}}function ot(o,l,h){var d=h&&null!=h.top?Math.max(0,h.top):o.scroller.scrollTop;d=Math.floor(d-Ju(o));var f=h&&null!=h.bottom?h.bottom:d+o.wrapper.clientHeight,m=Ms(l,d),v=Ms(l,f);if(h&&h.ensure){var y=h.ensure.from.line,b=h.ensure.to.line;y<m?(m=y,v=Ms(l,Hi(ut(l,y))+o.wrapper.clientHeight)):Math.min(b,l.lastLine())>=v&&(m=Ms(l,Hi(ut(l,b))-o.wrapper.clientHeight),v=b)}return{from:m,to:Math.max(v,m+1)}}function Sa(o,l){var h=o.display,d=gl(o.display);l.top<0&&(l.top=0);var f=o.curOp&&null!=o.curOp.scrollTop?o.curOp.scrollTop:h.scroller.scrollTop,m=Rc(o),v={};l.bottom-l.top>m&&(l.bottom=l.top+m);var y=o.doc.height+Ce(h),S=l.bottom>y-d;if(l.top<f)v.scrollTop=l.top<d?0:l.top;else if(l.bottom>f+m){var U=Math.min(l.top,(S?y:l.bottom)-m);U!=f&&(v.scrollTop=U)}var X=o.options.fixedGutter?0:h.gutters.offsetWidth,de=o.curOp&&null!=o.curOp.scrollLeft?o.curOp.scrollLeft:h.scroller.scrollLeft-X,oe=Rs(o)-h.gutters.offsetWidth,De=l.right-l.left>oe;return De&&(l.right=l.left+oe),l.left<10?v.scrollLeft=0:l.left<de?v.scrollLeft=Math.max(0,l.left+X-(De?0:10)):l.right>oe+de-3&&(v.scrollLeft=l.right+(De?0:10)-oe),v}function Or(o,l){null!=l&&(no(o),o.curOp.scrollTop=(null==o.curOp.scrollTop?o.doc.scrollTop:o.curOp.scrollTop)+l)}function as(o){no(o);var l=o.getCursor();o.curOp.scrollToPos={from:l,to:l,margin:o.options.cursorScrollMargin}}function Ln(o,l,h){(null!=l||null!=h)&&no(o),null!=l&&(o.curOp.scrollLeft=l),null!=h&&(o.curOp.scrollTop=h)}function no(o){var l=o.curOp.scrollToPos;l&&(o.curOp.scrollToPos=null,Nt(o,uf(o,l.from),uf(o,l.to),l.margin))}function Nt(o,l,h,d){var f=Sa(o,{left:Math.min(l.left,h.left),top:Math.min(l.top,h.top)-d,right:Math.max(l.right,h.right),bottom:Math.max(l.bottom,h.bottom)+d});Ln(o,f.scrollLeft,f.scrollTop)}function ro(o,l){Math.abs(o.doc.scrollTop-l)<2||(V||vf(o,{top:l}),gf(o,l,!0),V&&vf(o),Pr(o,100))}function gf(o,l,h){l=Math.max(0,Math.min(o.display.scroller.scrollHeight-o.display.scroller.clientHeight,l)),(o.display.scroller.scrollTop!=l||h)&&(o.doc.scrollTop=l,o.display.scrollbars.setScrollTop(l),o.display.scroller.scrollTop!=l&&(o.display.scroller.scrollTop=l))}function Wi(o,l,h,d){l=Math.max(0,Math.min(l,o.display.scroller.scrollWidth-o.display.scroller.clientWidth)),(!(h?l==o.doc.scrollLeft:Math.abs(o.doc.scrollLeft-l)<2)||d)&&(o.doc.scrollLeft=l,Hw(o),o.display.scroller.scrollLeft!=l&&(o.display.scroller.scrollLeft=l),o.display.scrollbars.setScrollLeft(l))}function Fn(o){var l=o.display,h=l.gutters.offsetWidth,d=Math.round(o.doc.height+Ce(o.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:o.options.fixedGutter?h:0,docHeight:d,scrollHeight:d+nt(o)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:h}}var ls=function(o,l,h){this.cm=h;var d=this.vert=H("div",[H("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),f=this.horiz=H("div",[H("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=f.tabIndex=-1,o(d),o(f),bt(d,"scroll",function(){d.clientHeight&&l(d.scrollTop,"vertical")}),bt(f,"scroll",function(){f.clientWidth&&l(f.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,N&&ee<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ls.prototype.update=function(o){var l=o.scrollWidth>o.clientWidth+1,h=o.scrollHeight>o.clientHeight+1,d=o.nativeBarWidth;return h?(this.vert.style.display="block",this.vert.style.bottom=l?d+"px":"0",this.vert.firstChild.style.height=Math.max(0,o.scrollHeight-o.clientHeight+(o.viewHeight-(l?d:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),l?(this.horiz.style.display="block",this.horiz.style.right=h?d+"px":"0",this.horiz.style.left=o.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,o.scrollWidth-o.clientWidth+(o.viewWidth-o.barLeft-(h?d:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&o.clientHeight>0&&(0==d&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:h?d:0,bottom:l?d:0}},ls.prototype.setScrollLeft=function(o){this.horiz.scrollLeft!=o&&(this.horiz.scrollLeft=o),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ls.prototype.setScrollTop=function(o){this.vert.scrollTop!=o&&(this.vert.scrollTop=o),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ls.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=L&&!$?"12px":"18px",this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new He,this.disableVert=new He},ls.prototype.enableZeroWidthBar=function(o,l,h){o.style.visibility="",l.set(1e3,function d(){var f=o.getBoundingClientRect();("vert"==h?document.elementFromPoint(f.right-1,(f.top+f.bottom)/2):document.elementFromPoint((f.right+f.left)/2,f.bottom-1))!=o?o.style.visibility="hidden":l.set(1e3,d)})},ls.prototype.clear=function(){var o=this.horiz.parentNode;o.removeChild(this.horiz),o.removeChild(this.vert)};var Ns=function(){};function si(o,l){l||(l=Fn(o));var h=o.display.barWidth,d=o.display.barHeight;bl(o,l);for(var f=0;f<4&&h!=o.display.barWidth||d!=o.display.barHeight;f++)h!=o.display.barWidth&&o.options.lineWrapping&&sd(o),bl(o,Fn(o)),h=o.display.barWidth,d=o.display.barHeight}function bl(o,l){var h=o.display,d=h.scrollbars.update(l);h.sizer.style.paddingRight=(h.barWidth=d.right)+"px",h.sizer.style.paddingBottom=(h.barHeight=d.bottom)+"px",h.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(h.scrollbarFiller.style.display="block",h.scrollbarFiller.style.height=d.bottom+"px",h.scrollbarFiller.style.width=d.right+"px"):h.scrollbarFiller.style.display="",d.bottom&&o.options.coverGutterNextToScrollbar&&o.options.fixedGutter?(h.gutterFiller.style.display="block",h.gutterFiller.style.height=d.bottom+"px",h.gutterFiller.style.width=l.gutterWidth+"px"):h.gutterFiller.style.display=""}Ns.prototype.update=function(){return{bottom:0,right:0}},Ns.prototype.setScrollLeft=function(){},Ns.prototype.setScrollTop=function(){},Ns.prototype.clear=function(){};var mf={native:ls,null:Ns};function io(o){o.display.scrollbars&&(o.display.scrollbars.clear(),o.display.scrollbars.addClass&&G(o.display.wrapper,o.display.scrollbars.addClass)),o.display.scrollbars=new mf[o.options.scrollbarStyle](function(l){o.display.wrapper.insertBefore(l,o.display.scrollbarFiller),bt(l,"mousedown",function(){o.state.focused&&setTimeout(function(){return o.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,h){"horizontal"==h?Wi(o,l):ro(o,l)},o),o.display.scrollbars.addClass&&Ie(o.display.wrapper,o.display.scrollbars.addClass)}var so=0;function cs(o){o.curOp={cm:o,viewChanged:!1,startHeight:o.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++so,markArrays:null},function Qh(o){Ao?Ao.ops.push(o):o.ownsGroup=Ao={ops:[o],delayedCallbacks:[]}}(o.curOp)}function us(o){var l=o.curOp;l&&function Jh(o,l){var h=o.ownsGroup;if(h)try{!function Pm(o){var l=o.delayedCallbacks,h=0;do{for(;h<l.length;h++)l[h].call(null);for(var d=0;d<o.ops.length;d++){var f=o.ops[d];if(f.cursorActivityHandlers)for(;f.cursorActivityCalled<f.cursorActivityHandlers.length;)f.cursorActivityHandlers[f.cursorActivityCalled++].call(null,f.cm)}}while(h<l.length)}(h)}finally{Ao=null,l(h)}}(l,function(h){for(var d=0;d<h.ops.length;d++)h.ops[d].cm.curOp=null;!function Gt(o){for(var l=o.ops,h=0;h<l.length;h++)kk(l[h]);for(var d=0;d<l.length;d++)_f(l[d]);for(var f=0;f<l.length;f++)Wm(l[f]);for(var m=0;m<l.length;m++)Ps(l[m]);for(var v=0;v<l.length;v++)od(l[v])}(h)})}function kk(o){var l=o.cm,h=l.display;(function Da(o){var l=o.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=nt(o)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=nt(o)+"px",l.scrollbarsClipped=!0)})(l),o.updateMaxLine&&Yu(l),o.mustUpdate=o.viewChanged||o.forceUpdate||null!=o.scrollTop||o.scrollToPos&&(o.scrollToPos.from.line<h.viewFrom||o.scrollToPos.to.line>=h.viewTo)||h.maxLineChanged&&l.options.lineWrapping,o.update=o.mustUpdate&&new wl(l,o.mustUpdate&&{top:o.scrollTop,ensure:o.scrollToPos},o.forceUpdate)}function _f(o){o.updatedDisplay=o.mustUpdate&&Lc(o.cm,o.update)}function Wm(o){var l=o.cm,h=l.display;o.updatedDisplay&&sd(l),o.barMeasure=Fn(l),h.maxLineChanged&&!l.options.lineWrapping&&(o.adjustWidthTo=Bm(l,h.maxLine,h.maxLine.text.length).left+3,l.display.sizerWidth=o.adjustWidthTo,o.barMeasure.scrollWidth=Math.max(h.scroller.clientWidth,h.sizer.offsetLeft+o.adjustWidthTo+nt(l)+l.display.barWidth),o.maxScrollLeft=Math.max(0,h.sizer.offsetLeft+o.adjustWidthTo-Rs(l))),(o.updatedDisplay||o.selectionChanged)&&(o.preparedSelection=h.input.prepareSelection())}function Ps(o){var l=o.cm;null!=o.adjustWidthTo&&(l.display.sizer.style.minWidth=o.adjustWidthTo+"px",o.maxScrollLeft<l.doc.scrollLeft&&Wi(l,Math.min(l.display.scroller.scrollLeft,o.maxScrollLeft),!0),l.display.maxLineChanged=!1);var h=o.focus&&o.focus==ce(ct(l));o.preparedSelection&&l.display.input.showSelection(o.preparedSelection,h),(o.updatedDisplay||o.startHeight!=l.doc.height)&&si(l,o.barMeasure),o.updatedDisplay&&bf(l,o.barMeasure),o.selectionChanged&&ii(l),l.state.focused&&o.updateInput&&l.display.input.reset(o.typing),h&&pf(o.cm)}function od(o){var l=o.cm,h=l.display,d=l.doc;o.updatedDisplay&&$m(l,o.update),null!=h.wheelStartX&&(null!=o.scrollTop||null!=o.scrollLeft||o.scrollToPos)&&(h.wheelStartX=h.wheelStartY=null),null!=o.scrollTop&&gf(l,o.scrollTop,o.forceScroll),null!=o.scrollLeft&&Wi(l,o.scrollLeft,!0,!0),o.scrollToPos&&function Ft(o,l){if(!xn(o,"scrollCursorIntoView")){var h=o.display,d=h.sizer.getBoundingClientRect(),f=null,m=h.wrapper.ownerDocument;if(l.top+d.top<0?f=!0:l.bottom+d.top>(m.defaultView.innerHeight||m.documentElement.clientHeight)&&(f=!1),null!=f&&!B){var v=H("div","\u200b",null,"position: absolute;\n                         top: "+(l.top-h.viewOffset-Ju(o.display))+"px;\n                         height: "+(l.bottom-l.top+nt(o)+h.barHeight)+"px;\n                         left: "+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");o.display.lineSpace.appendChild(v),v.scrollIntoView(f),o.display.lineSpace.removeChild(v)}}}(l,function Hn(o,l,h,d){var f;null==d&&(d=0),!o.options.lineWrapping&&l==h&&(h="before"==l.sticky?C(l.line,l.ch+1,"before"):l,l=l.ch?C(l.line,"before"==l.sticky?l.ch-1:l.ch,"after"):l);for(var m=0;m<5;m++){var v=!1,y=zi(o,l),b=h&&h!=l?zi(o,h):y,S=Sa(o,f={left:Math.min(y.left,b.left),top:Math.min(y.top,b.top)-d,right:Math.max(y.left,b.left),bottom:Math.max(y.bottom,b.bottom)+d}),U=o.doc.scrollTop,X=o.doc.scrollLeft;if(null!=S.scrollTop&&(ro(o,S.scrollTop),Math.abs(o.doc.scrollTop-U)>1&&(v=!0)),null!=S.scrollLeft&&(Wi(o,S.scrollLeft),Math.abs(o.doc.scrollLeft-X)>1&&(v=!0)),!v)break}return f}(l,at(d,o.scrollToPos.from),at(d,o.scrollToPos.to),o.scrollToPos.margin));var m=o.maybeHiddenMarkers,v=o.maybeUnhiddenMarkers;if(m)for(var y=0;y<m.length;++y)m[y].lines.length||Pn(m[y],"hide");if(v)for(var b=0;b<v.length;++b)v[b].lines.length&&Pn(v[b],"unhide");h.wrapper.offsetHeight&&(d.scrollTop=l.display.scroller.scrollTop),o.changeObjs&&Pn(l,"changes",l,o.changeObjs),o.update&&o.update.finish()}function Dr(o,l){if(o.curOp)return l();cs(o);try{return l()}finally{us(o)}}function Zn(o,l){return function(){if(o.curOp)return l.apply(o,arguments);cs(o);try{return l.apply(o,arguments)}finally{us(o)}}}function fn(o){return function(){if(this.curOp)return o.apply(this,arguments);cs(this);try{return o.apply(this,arguments)}finally{us(this)}}}function Nr(o){return function(){var l=this.cm;if(!l||l.curOp)return o.apply(this,arguments);cs(l);try{return o.apply(this,arguments)}finally{us(l)}}}function Pr(o,l){o.doc.highlightFrontier<o.display.viewTo&&o.state.highlight.set(l,Ne(oi,o))}function oi(o){var l=o.doc;if(!(l.highlightFrontier>=o.display.viewTo)){var h=+new Date+o.options.workTime,d=ln(o,l.highlightFrontier),f=[];l.iter(d.line,Math.min(l.first+l.size,o.display.viewTo+500),function(m){if(d.line>=o.display.viewFrom){var v=m.styles,y=m.text.length>o.options.maxHighlightLength?xr(l.mode,d.state):null,b=zh(o,m,d,!0);y&&(d.state=y),m.styles=b.styles;var S=m.styleClasses,U=b.classes;U?m.styleClasses=U:S&&(m.styleClasses=null);for(var X=!v||v.length!=m.styles.length||S!=U&&(!S||!U||S.bgClass!=U.bgClass||S.textClass!=U.textClass),de=0;!X&&de<v.length;++de)X=v[de]!=m.styles[de];X&&f.push(d.line),m.stateAfter=d.save(),d.nextLine()}else m.text.length<=o.options.maxHighlightLength&&hl(o,m.text,d),m.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>h)return Pr(o,o.options.workDelay),!0}),l.highlightFrontier=d.line,l.modeFrontier=Math.max(l.modeFrontier,d.line),f.length&&Dr(o,function(){for(var m=0;m<f.length;m++)xo(o,f[m],"text")})}}var wl=function(o,l,h){var d=o.display;this.viewport=l,this.visible=ot(d,o.doc,l),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=Rs(o),this.force=h,this.dims=nd(o),this.events=[]};function Lc(o,l){var h=o.display,d=o.doc;if(l.editorIsHidden)return _n(o),!1;if(!l.force&&l.visible.from>=h.viewFrom&&l.visible.to<=h.viewTo&&(null==h.updateLineNumbers||h.updateLineNumbers>=h.viewTo)&&h.renderedView==h.view&&0==xt(o))return!1;zw(o)&&(_n(o),l.dims=nd(o));var f=d.first+d.size,m=Math.max(l.visible.from-o.options.viewportMargin,d.first),v=Math.min(f,l.visible.to+o.options.viewportMargin);h.viewFrom<m&&m-h.viewFrom<20&&(m=Math.max(d.first,h.viewFrom)),h.viewTo>v&&h.viewTo-v<20&&(v=Math.min(f,h.viewTo)),Se&&(m=xm(o.doc,m),v=Qe(o.doc,v));var y=m!=h.viewFrom||v!=h.viewTo||h.lastWrapHeight!=l.wrapperHeight||h.lastWrapWidth!=l.wrapperWidth;(function zm(o,l,h){var d=o.display;0==d.view.length||l>=d.viewTo||h<=d.viewFrom?(d.view=Xh(o,l,h),d.viewFrom=l):(d.viewFrom>l?d.view=Xh(o,l,d.viewFrom).concat(d.view):d.viewFrom<l&&(d.view=d.view.slice(Ea(o,l))),d.viewFrom=l,d.viewTo<h?d.view=d.view.concat(Xh(o,d.viewTo,h)):d.viewTo>h&&(d.view=d.view.slice(0,Ea(o,h)))),d.viewTo=h})(o,m,v),h.viewOffset=Hi(ut(o.doc,h.viewFrom)),o.display.mover.style.top=h.viewOffset+"px";var b=xt(o);if(!y&&0==b&&!l.force&&h.renderedView==h.view&&(null==h.updateLineNumbers||h.updateLineNumbers>=h.viewTo))return!1;var S=function ad(o){if(o.hasFocus())return null;var l=ce(ct(o));if(!l||!Oe(o.display.lineDiv,l))return null;var h={activeElt:l};if(window.getSelection){var d=it(o).getSelection();d.anchorNode&&d.extend&&Oe(o.display.lineDiv,d.anchorNode)&&(h.anchorNode=d.anchorNode,h.anchorOffset=d.anchorOffset,h.focusNode=d.focusNode,h.focusOffset=d.focusOffset)}return h}(o);return b>4&&(h.lineDiv.style.display="none"),function xk(o,l,h){var d=o.display,f=o.options.lineNumbers,m=d.lineDiv,v=m.firstChild;function y(De){var Pe=De.nextSibling;return te&&L&&o.display.currentWheelTarget==De?De.style.display="none":De.parentNode.removeChild(De),Pe}for(var b=d.view,S=d.viewFrom,U=0;U<b.length;U++){var X=b[U];if(!X.hidden)if(X.node&&X.node.parentNode==m){for(;v!=X.node;)v=y(v);var oe=f&&null!=l&&l<=S&&X.lineNumber;X.changes&&(xe(X.changes,"gutter")>-1&&(oe=!1),Pw(o,X,S,h)),oe&&(ue(X.lineNumber),X.lineNumber.appendChild(document.createTextNode(ul(o.options,S)))),v=X.node.nextSibling}else{var de=Bw(o,X,S,h);m.insertBefore(de,v)}S+=X.size}for(;v;)v=y(v)}(o,h.updateLineNumbers,l.dims),b>4&&(h.lineDiv.style.display=""),h.renderedView=h.view,function ds(o){if(o&&o.activeElt&&o.activeElt!=ce(o.activeElt.ownerDocument)&&(o.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(o.activeElt.nodeName)&&o.anchorNode&&Oe(document.body,o.anchorNode)&&Oe(document.body,o.focusNode))){var l=o.activeElt.ownerDocument,h=l.defaultView.getSelection(),d=l.createRange();d.setEnd(o.anchorNode,o.anchorOffset),d.collapse(!1),h.removeAllRanges(),h.addRange(d),h.extend(o.focusNode,o.focusOffset)}}(S),ue(h.cursorDiv),ue(h.selectionDiv),h.gutters.style.height=h.sizer.style.minHeight=0,y&&(h.lastWrapHeight=l.wrapperHeight,h.lastWrapWidth=l.wrapperWidth,Pr(o,400)),h.updateLineNumbers=null,!0}function $m(o,l){for(var h=l.viewport,d=!0;;d=!1){if(d&&o.options.lineWrapping&&l.oldDisplayWidth!=Rs(o))d&&(l.visible=ot(o.display,o.doc,h));else if(h&&null!=h.top&&(h={top:Math.min(o.doc.height+Ce(o.display)-Rc(o),h.top)}),l.visible=ot(o.display,o.doc,h),l.visible.from>=o.display.viewFrom&&l.visible.to<=o.display.viewTo)break;if(!Lc(o,l))break;sd(o);var f=Fn(o);Mr(o),si(o,f),bf(o,f),l.force=!1}l.signal(o,"update",o),(o.display.viewFrom!=o.display.reportedViewFrom||o.display.viewTo!=o.display.reportedViewTo)&&(l.signal(o,"viewportChange",o,o.display.viewFrom,o.display.viewTo),o.display.reportedViewFrom=o.display.viewFrom,o.display.reportedViewTo=o.display.viewTo)}function vf(o,l){var h=new wl(o,l);if(Lc(o,h)){sd(o),$m(o,h);var d=Fn(o);Mr(o),si(o,d),bf(o,d),h.finish()}}function yf(o){o.sizer.style.marginLeft=o.gutters.offsetWidth+"px",lr(o,"gutterChanged",o)}function bf(o,l){o.display.sizer.style.minHeight=l.docHeight+"px",o.display.heightForcer.style.top=l.docHeight+"px",o.display.gutters.style.height=l.docHeight+o.display.barHeight+nt(o)+"px"}function Hw(o){var l=o.display,h=l.view;if(l.alignWidgets||l.gutters.firstChild&&o.options.fixedGutter){for(var d=hf(l)-l.scroller.scrollLeft+o.doc.scrollLeft,f=l.gutters.offsetWidth,m=d+"px",v=0;v<h.length;v++)if(!h[v].hidden){o.options.fixedGutter&&(h[v].gutter&&(h[v].gutter.style.left=m),h[v].gutterBackground&&(h[v].gutterBackground.style.left=m));var y=h[v].alignable;if(y)for(var b=0;b<y.length;b++)y[b].style.left=m}o.options.fixedGutter&&(l.gutters.style.left=d+f+"px")}}function zw(o){if(!o.options.lineNumbers)return!1;var l=o.doc,h=ul(o.options,l.first+l.size-1),d=o.display;if(h.length!=d.lineNumChars){var f=d.measure.appendChild(H("div",[H("div",h)],"CodeMirror-linenumber CodeMirror-gutter-elt")),m=f.firstChild.offsetWidth,v=f.offsetWidth-m;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(m,d.lineGutter.offsetWidth-v)+1,d.lineNumWidth=d.lineNumInnerWidth+v,d.lineNumChars=d.lineNumInnerWidth?h.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",yf(o.display),!0}return!1}function Gm(o,l){for(var h=[],d=!1,f=0;f<o.length;f++){var m=o[f],v=null;if("string"!=typeof m&&(v=m.style,m=m.className),"CodeMirror-linenumbers"==m){if(!l)continue;d=!0}h.push({className:m,style:v})}return l&&!d&&h.push({className:"CodeMirror-linenumbers",style:null}),h}function Ww(o){var l=o.gutters,h=o.gutterSpecs;ue(l),o.lineGutter=null;for(var d=0;d<h.length;++d){var f=h[d],m=f.className,v=f.style,y=l.appendChild(H("div",null,"CodeMirror-gutter "+m));v&&(y.style.cssText=v),"CodeMirror-linenumbers"==m&&(o.lineGutter=y,y.style.width=(o.lineNumWidth||1)+"px")}l.style.display=h.length?"":"none",yf(o)}function ld(o){Ww(o.display),ri(o),Hw(o)}function Mk(o,l,h,d){var f=this;this.input=h,f.scrollbarFiller=H("div",null,"CodeMirror-scrollbar-filler"),f.scrollbarFiller.setAttribute("cm-not-content","true"),f.gutterFiller=H("div",null,"CodeMirror-gutter-filler"),f.gutterFiller.setAttribute("cm-not-content","true"),f.lineDiv=Be("div",null,"CodeMirror-code"),f.selectionDiv=H("div",null,null,"position: relative; z-index: 1"),f.cursorDiv=H("div",null,"CodeMirror-cursors"),f.measure=H("div",null,"CodeMirror-measure"),f.lineMeasure=H("div",null,"CodeMirror-measure"),f.lineSpace=Be("div",[f.measure,f.lineMeasure,f.selectionDiv,f.cursorDiv,f.lineDiv],null,"position: relative; outline: none");var m=Be("div",[f.lineSpace],"CodeMirror-lines");f.mover=H("div",[m],null,"position: relative"),f.sizer=H("div",[f.mover],"CodeMirror-sizer"),f.sizerWidth=null,f.heightForcer=H("div",null,null,"position: absolute; height: "+mt+"px; width: 1px;"),f.gutters=H("div",null,"CodeMirror-gutters"),f.lineGutter=null,f.scroller=H("div",[f.sizer,f.heightForcer,f.gutters],"CodeMirror-scroll"),f.scroller.setAttribute("tabIndex","-1"),f.wrapper=H("div",[f.scrollbarFiller,f.gutterFiller,f.scroller],"CodeMirror"),J&&x>=105&&(f.wrapper.style.clipPath="inset(0px)"),f.wrapper.setAttribute("translate","no"),N&&ee<8&&(f.gutters.style.zIndex=-1,f.scroller.style.paddingRight=0),!te&&!(V&&z)&&(f.scroller.draggable=!0),o&&(o.appendChild?o.appendChild(f.wrapper):o(f.wrapper)),f.viewFrom=f.viewTo=l.first,f.reportedViewFrom=f.reportedViewTo=l.first,f.view=[],f.renderedView=null,f.externalMeasured=null,f.viewOffset=0,f.lastWrapHeight=f.lastWrapWidth=0,f.updateLineNumbers=null,f.nativeBarWidth=f.barHeight=f.barWidth=0,f.scrollbarsClipped=!1,f.lineNumWidth=f.lineNumInnerWidth=f.lineNumChars=null,f.alignWidgets=!1,f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null,f.maxLine=null,f.maxLineLength=0,f.maxLineChanged=!1,f.wheelDX=f.wheelDY=f.wheelStartX=f.wheelStartY=null,f.shift=!1,f.selForContextMenu=null,f.activeTouch=null,f.gutterSpecs=Gm(d.gutters,d.lineNumbers),Ww(f),h.init(f)}wl.prototype.signal=function(o,l){ar(o,l)&&this.events.push(arguments)},wl.prototype.finish=function(){for(var o=0;o<this.events.length;o++)Pn.apply(null,this.events[o])};var wf=0,Ro=null;function $w(o){var l=o.wheelDeltaX,h=o.wheelDeltaY;return null==l&&o.detail&&o.axis==o.HORIZONTAL_AXIS&&(l=o.detail),null==h&&o.detail&&o.axis==o.VERTICAL_AXIS?h=o.detail:null==h&&(h=o.wheelDelta),{x:l,y:h}}function Rk(o){var l=$w(o);return l.x*=Ro,l.y*=Ro,l}function Gw(o,l){J&&102==x&&(null==o.display.chromeScrollHack?o.display.sizer.style.pointerEvents="none":clearTimeout(o.display.chromeScrollHack),o.display.chromeScrollHack=setTimeout(function(){o.display.chromeScrollHack=null,o.display.sizer.style.pointerEvents=""},100));var h=$w(l),d=h.x,f=h.y,m=Ro;0===l.deltaMode&&(d=l.deltaX,f=l.deltaY,m=1);var v=o.display,y=v.scroller,S=y.scrollHeight>y.clientHeight;if(d&&y.scrollWidth>y.clientWidth||f&&S){if(f&&L&&te)e:for(var U=l.target,X=v.view;U!=y;U=U.parentNode)for(var de=0;de<X.length;de++)if(X[de].node==U){o.display.currentWheelTarget=U;break e}if(d&&!V&&!j&&null!=m)return f&&S&&ro(o,Math.max(0,y.scrollTop+f*m)),Wi(o,Math.max(0,y.scrollLeft+d*m)),(!f||f&&S)&&Er(l),void(v.wheelStartX=null);if(f&&null!=m){var oe=f*m,De=o.doc.scrollTop,Pe=De+v.wrapper.clientHeight;oe<0?De=Math.max(0,De+oe-50):Pe=Math.min(o.doc.height,Pe+oe+50),vf(o,{top:De,bottom:Pe})}wf<20&&0!==l.deltaMode&&(null==v.wheelStartX?(v.wheelStartX=y.scrollLeft,v.wheelStartY=y.scrollTop,v.wheelDX=d,v.wheelDY=f,setTimeout(function(){if(null!=v.wheelStartX){var We=y.scrollLeft-v.wheelStartX,Ye=y.scrollTop-v.wheelStartY,st=Ye&&v.wheelDY&&Ye/v.wheelDY||We&&v.wheelDX&&We/v.wheelDX;v.wheelStartX=v.wheelStartY=null,st&&(Ro=(Ro*wf+st)/(wf+1),++wf)}},200)):(v.wheelDX+=d,v.wheelDY+=f))}}N?Ro=-.53:V?Ro=15:J?Ro=-.7:k&&(Ro=-1/3);var $i=function(o,l){this.ranges=o,this.primIndex=l};$i.prototype.primary=function(){return this.ranges[this.primIndex]},$i.prototype.equals=function(o){if(o==this)return!0;if(o.primIndex!=this.primIndex||o.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var h=this.ranges[l],d=o.ranges[l];if(!Re(h.anchor,d.anchor)||!Re(h.head,d.head))return!1}return!0},$i.prototype.deepCopy=function(){for(var o=[],l=0;l<this.ranges.length;l++)o[l]=new dn(Ge(this.ranges[l].anchor),Ge(this.ranges[l].head));return new $i(o,this.primIndex)},$i.prototype.somethingSelected=function(){for(var o=0;o<this.ranges.length;o++)if(!this.ranges[o].empty())return!0;return!1},$i.prototype.contains=function(o,l){l||(l=o);for(var h=0;h<this.ranges.length;h++){var d=this.ranges[h];if(F(l,d.from())>=0&&F(o,d.to())<=0)return h}return-1};var dn=function(o,l){this.anchor=o,this.head=l};function Gi(o,l,h){var d=o&&o.options.selectionsMayTouch,f=l[h];l.sort(function(de,oe){return F(de.from(),oe.from())}),h=xe(l,f);for(var m=1;m<l.length;m++){var v=l[m],y=l[m-1],b=F(y.to(),v.from());if(d&&!v.empty()?b>0:b>=0){var S=Ct(y.from(),v.from()),U=kt(y.to(),v.to()),X=y.empty()?v.from()==v.head:y.from()==y.head;m<=h&&--h,l.splice(--m,2,new dn(X?U:S,X?S:U))}}return new $i(l,h)}function Ta(o,l){return new $i([new dn(o,l||o)],0)}function Ia(o){return o.text?C(o.from.line+o.text.length-1,M(o.text).length+(1==o.text.length?o.from.ch:0)):o.to}function qw(o,l){if(F(o,l.from)<0)return o;if(F(o,l.to)<=0)return Ia(l);var h=o.line+l.text.length-(l.to.line-l.from.line)-1,d=o.ch;return o.line==l.to.line&&(d+=Ia(l).ch-l.to.ch),C(h,d)}function oo(o,l){for(var h=[],d=0;d<o.sel.ranges.length;d++){var f=o.sel.ranges[d];h.push(new dn(qw(f.anchor,l),qw(f.head,l)))}return Gi(o.cm,h,o.sel.primIndex)}function ao(o,l,h){return o.line==l.line?C(h.line,o.ch-l.ch+h.ch):C(h.line+(o.line-l.line),o.ch)}function qm(o){o.doc.mode=To(o.options,o.doc.modeOption),ur(o)}function ur(o){o.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),o.doc.modeFrontier=o.doc.highlightFrontier=o.doc.first,Pr(o,100),o.state.modeGen++,o.curOp&&ri(o)}function Fc(o,l){return 0==l.from.ch&&0==l.to.ch&&""==M(l.text)&&(!o.cm||o.cm.options.wholeLineUpdateBefore)}function gi(o,l,h,d){function f(st){return h?h[st]:null}function m(st,Je,lt){(function Zu(o,l,h,d){o.text=l,o.stateAfter&&(o.stateAfter=null),o.styles&&(o.styles=null),null!=o.order&&(o.order=null),Io(o),Mw(o,h);var f=d?d(o):1;f!=o.height&&ji(o,f)})(st,Je,lt,d),lr(st,"change",st,l)}function v(st,Je){for(var lt=[],_t=st;_t<Je;++_t)lt.push(new fl(S[_t],f(_t),d));return lt}var y=l.from,b=l.to,S=l.text,U=ut(o,y.line),X=ut(o,b.line),de=M(S),oe=f(S.length-1),De=b.line-y.line;if(l.full)o.insert(0,v(0,S.length)),o.remove(S.length,o.size-S.length);else if(Fc(o,l)){var Pe=v(0,S.length-1);m(X,X.text,oe),De&&o.remove(y.line,De),Pe.length&&o.insert(y.line,Pe)}else if(U==X)if(1==S.length)m(U,U.text.slice(0,y.ch)+de+U.text.slice(b.ch),oe);else{var We=v(1,S.length-1);We.push(new fl(de+U.text.slice(b.ch),oe,d)),m(U,U.text.slice(0,y.ch)+S[0],f(0)),o.insert(y.line+1,We)}else if(1==S.length)m(U,U.text.slice(0,y.ch)+S[0]+X.text.slice(b.ch),f(0)),o.remove(y.line+1,De);else{m(U,U.text.slice(0,y.ch)+S[0],f(0)),m(X,de+X.text.slice(b.ch),oe);var Ye=v(1,S.length-1);De>1&&o.remove(y.line+1,De-1),o.insert(y.line+1,Ye)}lr(o,"change",o,l)}function lo(o,l,h){!function d(f,m,v){if(f.linked)for(var y=0;y<f.linked.length;++y){var b=f.linked[y];if(b.doc!=m){var S=v&&b.sharedHist;h&&!S||(l(b.doc,S),d(b.doc,f,S))}}}(o,null,!0)}function Cf(o,l){if(l.cm)throw new Error("This document is already in use.");o.doc=l,l.cm=o,ff(o),qm(o),Ef(o),o.options.direction=l.direction,o.options.lineWrapping||Yu(o),o.options.mode=l.modeOption,ri(o)}function Ef(o){("rtl"==o.doc.direction?Ie:G)(o.display.lineDiv,"CodeMirror-rtl")}function Cl(o){this.done=[],this.undone=[],this.undoDepth=o?o.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=o?o.maxGeneration:1}function cd(o,l){var h={from:Ge(l.from),to:Ia(l),text:xs(o,l.from,l.to)};return El(o,h,l.from.line,l.to.line+1),lo(o,function(d){return El(d,h,l.from.line,l.to.line+1)},!0),h}function ud(o){for(;o.length&&M(o).ranges;)o.pop()}function Df(o,l,h,d){var f=o.history;f.undone.length=0;var v,y,m=+new Date;if((f.lastOp==d||f.lastOrigin==l.origin&&l.origin&&("+"==l.origin.charAt(0)&&f.lastModTime>m-(o.cm?o.cm.options.historyEventDelay:500)||"*"==l.origin.charAt(0)))&&(v=function Sf(o,l){return l?(ud(o.done),M(o.done)):o.done.length&&!M(o.done).ranges?M(o.done):o.done.length>1&&!o.done[o.done.length-2].ranges?(o.done.pop(),M(o.done)):void 0}(f,f.lastOp==d)))y=M(v.changes),0==F(l.from,l.to)&&0==F(l.from,y.to)?y.to=Ia(l):v.changes.push(cd(o,l));else{var b=M(f.done);for((!b||!b.ranges)&&Aa(o.sel,f.done),v={changes:[cd(o,l)],generation:f.generation},f.done.push(v);f.done.length>f.undoDepth;)f.done.shift(),f.done[0].ranges||f.done.shift()}f.done.push(h),f.generation=++f.maxGeneration,f.lastModTime=f.lastSelTime=m,f.lastOp=f.lastSelOp=d,f.lastOrigin=f.lastSelOrigin=l.origin,y||Pn(o,"historyAdded")}function Zm(o,l,h,d){var f=o.history,m=d&&d.origin;h==f.lastSelOp||m&&f.lastSelOrigin==m&&(f.lastModTime==f.lastSelTime&&f.lastOrigin==m||function Ym(o,l,h,d){var f=l.charAt(0);return"*"==f||"+"==f&&h.ranges.length==d.ranges.length&&h.somethingSelected()==d.somethingSelected()&&new Date-o.history.lastSelTime<=(o.cm?o.cm.options.historyEventDelay:500)}(o,m,M(f.done),l))?f.done[f.done.length-1]=l:Aa(l,f.done),f.lastSelTime=+new Date,f.lastSelOrigin=m,f.lastSelOp=h,d&&!1!==d.clearRedo&&ud(f.undone)}function Aa(o,l){var h=M(l);h&&h.ranges&&h.equals(o)||l.push(o)}function El(o,l,h,d){var f=l["spans_"+o.id],m=0;o.iter(Math.max(o.first,h),Math.min(o.first+o.size,d),function(v){v.markedSpans&&((f||(f=l["spans_"+o.id]={}))[m]=v.markedSpans),++m})}function Sl(o){if(!o)return null;for(var l,h=0;h<o.length;++h)o[h].marker.explicitlyCleared?l||(l=o.slice(0,h)):l&&l.push(o[h]);return l?l.length?l:null:o}function Kw(o,l){var h=function Xm(o,l){var h=l["spans_"+o.id];if(!h)return null;for(var d=[],f=0;f<l.text.length;++f)d.push(Sl(h[f]));return d}(o,l),d=Tm(o,l);if(!h)return d;if(!d)return h;for(var f=0;f<h.length;++f){var m=h[f],v=d[f];if(m&&v)e:for(var y=0;y<v.length;++y){for(var b=v[y],S=0;S<m.length;++S)if(m[S].marker==b.marker)continue e;m.push(b)}else v&&(h[f]=v)}return h}function Bc(o,l,h){for(var d=[],f=0;f<o.length;++f){var m=o[f];if(m.ranges)d.push(h?$i.prototype.deepCopy.call(m):m);else{var v=m.changes,y=[];d.push({changes:y});for(var b=0;b<v.length;++b){var S=v[b],U=void 0;if(y.push({from:S.from,to:S.to,text:S.text}),l)for(var X in S)(U=X.match(/^spans_(\d+)$/))&&xe(l,Number(U[1]))>-1&&(M(y)[X]=S[X],delete S[X])}}}return d}function Qm(o,l,h,d){if(d){var f=o.anchor;if(h){var m=F(l,f)<0;m!=F(h,f)<0?(f=l,l=h):m!=F(l,h)<0&&(l=h)}return new dn(f,l)}return new dn(h||l,l)}function dd(o,l,h,d,f){null==f&&(f=o.cm&&(o.cm.display.shift||o.extend)),Tr(o,new $i([Qm(o.sel.primary(),l,h,f)],0),d)}function Jm(o,l,h){for(var d=[],f=o.cm&&(o.cm.display.shift||o.extend),m=0;m<o.sel.ranges.length;m++)d[m]=Qm(o.sel.ranges[m],l[m],null,f);Tr(o,Gi(o.cm,d,o.sel.primIndex),h)}function e_(o,l,h,d){var f=o.sel.ranges.slice(0);f[l]=h,Tr(o,Gi(o.cm,f,o.sel.primIndex),d)}function Tf(o,l,h,d){Tr(o,Ta(l,h),d)}function t_(o,l,h){var d=o.history.done,f=M(d);f&&f.ranges?(d[d.length-1]=l,Af(o,l,h)):Tr(o,l,h)}function Tr(o,l,h){Af(o,l,h),Zm(o,o.sel,o.cm?o.cm.curOp.id:NaN,h)}function Af(o,l,h){(ar(o,"beforeSelectionChange")||o.cm&&ar(o.cm,"beforeSelectionChange"))&&(l=function If(o,l,h){var d={ranges:l.ranges,update:function(f){this.ranges=[];for(var m=0;m<f.length;m++)this.ranges[m]=new dn(at(o,f[m].anchor),at(o,f[m].head))},origin:h&&h.origin};return Pn(o,"beforeSelectionChange",o,d),o.cm&&Pn(o.cm,"beforeSelectionChange",o.cm,d),d.ranges!=l.ranges?Gi(o.cm,d.ranges,d.ranges.length-1):l}(o,l,h));var d=h&&h.bias||(F(l.primary().head,o.sel.primary().head)<0?-1:1);Yw(o,kf(o,l,d,!0)),(!h||!1!==h.scroll)&&o.cm&&"nocursor"!=o.cm.getOption("readOnly")&&as(o.cm)}function Yw(o,l){l.equals(o.sel)||(o.sel=l,o.cm&&(o.cm.curOp.updateInput=1,o.cm.curOp.selectionChanged=!0,hi(o.cm)),lr(o,"cursorActivity",o))}function n_(o){Yw(o,kf(o,o.sel,null,!1))}function kf(o,l,h,d){for(var f,m=0;m<l.ranges.length;m++){var v=l.ranges[m],y=l.ranges.length==o.sel.ranges.length&&o.sel.ranges[m],b=hd(o,v.anchor,y&&y.anchor,h,d),S=v.head==v.anchor?b:hd(o,v.head,y&&y.head,h,d);(f||b!=v.anchor||S!=v.head)&&(f||(f=l.ranges.slice(0,m)),f[m]=new dn(b,S))}return f?Gi(o.cm,f,l.primIndex):l}function ka(o,l,h,d,f){var m=ut(o,l.line);if(m.markedSpans)for(var v=0;v<m.markedSpans.length;++v){var y=m.markedSpans[v],b=y.marker,S="selectLeft"in b?!b.selectLeft:b.inclusiveLeft,U="selectRight"in b?!b.selectRight:b.inclusiveRight;if((null==y.from||(S?y.from<=l.ch:y.from<l.ch))&&(null==y.to||(U?y.to>=l.ch:y.to>l.ch))){if(f&&(Pn(b,"beforeCursorEnter"),b.explicitlyCleared)){if(m.markedSpans){--v;continue}break}if(!b.atomic)continue;if(h){var X=b.find(d<0?1:-1),de=void 0;if((d<0?U:S)&&(X=r_(o,X,-d,X&&X.line==l.line?m:null)),X&&X.line==l.line&&(de=F(X,h))&&(d<0?de<0:de>0))return ka(o,X,l,d,f)}var oe=b.find(d<0?-1:1);return(d<0?S:U)&&(oe=r_(o,oe,d,oe.line==l.line?m:null)),oe?ka(o,oe,l,d,f):null}}return l}function hd(o,l,h,d,f){var m=d||1;return ka(o,l,h,m,f)||!f&&ka(o,l,h,m,!0)||ka(o,l,h,-m,f)||!f&&ka(o,l,h,-m,!0)||(o.cantEdit=!0,C(o.first,0))}function r_(o,l,h,d){return h<0&&0==l.ch?l.line>o.first?at(o,C(l.line-1)):null:h>0&&l.ch==(d||ut(o,l.line)).text.length?l.line<o.first+o.size-1?C(l.line+1,0):null:new C(l.line,l.ch+h)}function i_(o){o.setSelection(C(o.firstLine(),0),C(o.lastLine()),ft)}function xf(o,l,h){var d={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return d.canceled=!0}};return h&&(d.update=function(f,m,v,y){f&&(d.from=at(o,f)),m&&(d.to=at(o,m)),v&&(d.text=v),void 0!==y&&(d.origin=y)}),Pn(o,"beforeChange",o,d),o.cm&&Pn(o.cm,"beforeChange",o.cm,d),d.canceled?(o.cm&&(o.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function Dl(o,l,h){if(o.cm){if(!o.cm.curOp)return Zn(o.cm,Dl)(o,l,h);if(o.cm.state.suppressEdits)return}if(!(ar(o,"beforeChange")||o.cm&&ar(o.cm,"beforeChange"))||(l=xf(o,l,!0))){var d=$h&&!h&&function Ek(o,l,h){var d=null;if(o.iter(l.line,h.line+1,function(oe){if(oe.markedSpans)for(var De=0;De<oe.markedSpans.length;++De){var Pe=oe.markedSpans[De].marker;Pe.readOnly&&(!d||-1==xe(d,Pe))&&(d||(d=[])).push(Pe)}}),!d)return null;for(var f=[{from:l,to:h}],m=0;m<d.length;++m)for(var v=d[m],y=v.find(0),b=0;b<f.length;++b){var S=f[b];if(!(F(S.to,y.from)<0||F(S.from,y.to)>0)){var U=[b,1],X=F(S.from,y.from),de=F(S.to,y.to);(X<0||!v.inclusiveLeft&&!X)&&U.push({from:S.from,to:y.from}),(de>0||!v.inclusiveRight&&!de)&&U.push({from:y.to,to:S.to}),f.splice.apply(f,U),b+=U.length-3}}return f}(o,l.from,l.to);if(d)for(var f=d.length-1;f>=0;--f)Mf(o,{from:d[f].from,to:d[f].to,text:f?[""]:l.text,origin:l.origin});else Mf(o,l)}}function Mf(o,l){if(1!=l.text.length||""!=l.text[0]||0!=F(l.from,l.to)){var h=oo(o,l);Df(o,l,h,o.cm?o.cm.curOp.id:NaN),Uc(o,l,h,Tm(o,l));var d=[];lo(o,function(f,m){!m&&-1==xe(d,f.history)&&(Rf(f.history,l),d.push(f.history)),Uc(f,l,null,Tm(f,l))})}}function fd(o,l,h){var d=o.cm&&o.cm.state.suppressEdits;if(!d||h){for(var m,f=o.history,v=o.sel,y="undo"==l?f.done:f.undone,b="undo"==l?f.undone:f.done,S=0;S<y.length&&(m=y[S],!(h?m.ranges&&!m.equals(o.sel):!m.ranges));S++);if(S!=y.length){for(f.lastOrigin=f.lastSelOrigin=null;;){if(!(m=y.pop()).ranges){if(d)return void y.push(m);break}if(Aa(m,b),h&&!m.equals(o.sel))return void Tr(o,m,{clearRedo:!1});v=m}var U=[];Aa(v,b),b.push({changes:U,generation:f.generation}),f.generation=m.generation||++f.maxGeneration;for(var X=ar(o,"beforeChange")||o.cm&&ar(o.cm,"beforeChange"),de=function(Pe){var We=m.changes[Pe];if(We.origin=l,X&&!xf(o,We,!1))return y.length=0,{};U.push(cd(o,We));var Ye=Pe?oo(o,We):M(y);Uc(o,We,Ye,Kw(o,We)),!Pe&&o.cm&&o.cm.scrollIntoView({from:We.from,to:Ia(We)});var st=[];lo(o,function(Je,lt){!lt&&-1==xe(st,Je.history)&&(Rf(Je.history,We),st.push(Je.history)),Uc(Je,We,null,Kw(Je,We))})},oe=m.changes.length-1;oe>=0;--oe){var De=de(oe);if(De)return De.v}}}}function Zw(o,l){if(0!=l&&(o.first+=l,o.sel=new $i(se(o.sel.ranges,function(f){return new dn(C(f.anchor.line+l,f.anchor.ch),C(f.head.line+l,f.head.ch))}),o.sel.primIndex),o.cm)){ri(o.cm,o.first,o.first-l,l);for(var h=o.cm.display,d=h.viewFrom;d<h.viewTo;d++)xo(o.cm,d,"gutter")}}function Uc(o,l,h,d){if(o.cm&&!o.cm.curOp)return Zn(o.cm,Uc)(o,l,h,d);if(l.to.line<o.first)Zw(o,l.text.length-1-(l.to.line-l.from.line));else if(!(l.from.line>o.lastLine())){if(l.from.line<o.first){var f=l.text.length-1-(o.first-l.from.line);Zw(o,f),l={from:C(o.first,0),to:C(l.to.line+f,l.to.ch),text:[M(l.text)],origin:l.origin}}var m=o.lastLine();l.to.line>m&&(l={from:l.from,to:C(m,ut(o,m).text.length),text:[l.text[0]],origin:l.origin}),l.removed=xs(o,l.from,l.to),h||(h=oo(o,l)),o.cm?function Mi(o,l,h){var d=o.doc,f=o.display,m=l.from,v=l.to,y=!1,b=m.line;o.options.lineWrapping||(b=nn(wt(ut(d,m.line))),d.iter(b,v.line+1,function(oe){if(oe==f.maxLine)return y=!0,!0})),d.sel.contains(l.from,l.to)>-1&&hi(o),gi(d,l,h,Hm(o)),o.options.lineWrapping||(d.iter(b,m.line+l.text.length,function(oe){var De=Ku(oe);De>f.maxLineLength&&(f.maxLine=oe,f.maxLineLength=De,f.maxLineChanged=!0,y=!1)}),y&&(o.curOp.updateMaxLine=!0)),function wk(o,l){if(o.modeFrontier=Math.min(o.modeFrontier,l),!(o.highlightFrontier<l-10)){for(var h=o.first,d=l-1;d>h;d--){var f=ut(o,d).stateAfter;if(f&&(!(f instanceof dl)||d+f.lookAhead<l)){h=d+1;break}}o.highlightFrontier=Math.min(o.highlightFrontier,h)}}(d,m.line),Pr(o,400);var S=l.text.length-(v.line-m.line)-1;l.full?ri(o):m.line!=v.line||1!=l.text.length||Fc(o.doc,l)?ri(o,m.line,v.line+1,S):xo(o,m.line,"text");var U=ar(o,"changes"),X=ar(o,"change");if(X||U){var de={from:m,to:v,text:l.text,removed:l.removed,origin:l.origin};X&&lr(o,"change",o,de),U&&(o.curOp.changeObjs||(o.curOp.changeObjs=[])).push(de)}o.display.selForContextMenu=null}(o.cm,l,d):gi(o,l,d),Af(o,h,ft),o.cantEdit&&hd(o,C(o.firstLine(),0))&&(o.cantEdit=!1)}}function xa(o,l,h,d,f){var m;d||(d=h),F(d,h)<0&&(h=(m=[d,h])[0],d=m[1]),"string"==typeof l&&(l=o.splitLines(l)),Dl(o,{from:h,to:d,text:l,origin:f})}function s_(o,l,h,d){h<o.line?o.line+=d:l<o.line&&(o.line=l,o.ch=0)}function o_(o,l,h,d){for(var f=0;f<o.length;++f){var m=o[f],v=!0;if(m.ranges){m.copied||((m=o[f]=m.deepCopy()).copied=!0);for(var y=0;y<m.ranges.length;y++)s_(m.ranges[y].anchor,l,h,d),s_(m.ranges[y].head,l,h,d)}else{for(var b=0;b<m.changes.length;++b){var S=m.changes[b];if(h<S.from.line)S.from=C(S.from.line+d,S.from.ch),S.to=C(S.to.line+d,S.to.ch);else if(l<=S.to.line){v=!1;break}}v||(o.splice(0,f+1),f=0)}}}function Rf(o,l){var h=l.from.line,d=l.to.line,f=l.text.length-(d-h)-1;o_(o.done,h,d,f),o_(o.undone,h,d,f)}function Tl(o,l,h,d){var f=l,m=l;return"number"==typeof l?m=ut(o,an(o,l)):f=nn(l),null==f?null:(d(m,f)&&o.cm&&xo(o.cm,f,h),m)}function Vc(o){this.lines=o,this.parent=null;for(var l=0,h=0;h<o.length;++h)o[h].parent=this,l+=o[h].height;this.height=l}function Ma(o){this.children=o;for(var l=0,h=0,d=0;d<o.length;++d){var f=o[d];l+=f.chunkSize(),h+=f.height,f.parent=this}this.size=l,this.height=h,this.parent=null}dn.prototype.from=function(){return Ct(this.anchor,this.head)},dn.prototype.to=function(){return kt(this.anchor,this.head)},dn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Vc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(o,l){for(var h=o,d=o+l;h<d;++h){var f=this.lines[h];this.height-=f.height,Xu(f),lr(f,"delete")}this.lines.splice(o,l)},collapse:function(o){o.push.apply(o,this.lines)},insertInner:function(o,l,h){this.height+=h,this.lines=this.lines.slice(0,o).concat(l).concat(this.lines.slice(o));for(var d=0;d<l.length;++d)l[d].parent=this},iterN:function(o,l,h){for(var d=o+l;o<d;++o)if(h(this.lines[o]))return!0}},Ma.prototype={chunkSize:function(){return this.size},removeInner:function(o,l){this.size-=l;for(var h=0;h<this.children.length;++h){var d=this.children[h],f=d.chunkSize();if(o<f){var m=Math.min(l,f-o),v=d.height;if(d.removeInner(o,m),this.height-=v-d.height,f==m&&(this.children.splice(h--,1),d.parent=null),0==(l-=m))break;o=0}else o-=f}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof Vc))){var y=[];this.collapse(y),this.children=[new Vc(y)],this.children[0].parent=this}},collapse:function(o){for(var l=0;l<this.children.length;++l)this.children[l].collapse(o)},insertInner:function(o,l,h){this.size+=l.length,this.height+=h;for(var d=0;d<this.children.length;++d){var f=this.children[d],m=f.chunkSize();if(o<=m){if(f.insertInner(o,l,h),f.lines&&f.lines.length>50){for(var v=f.lines.length%25+25,y=v;y<f.lines.length;){var b=new Vc(f.lines.slice(y,y+=25));f.height-=b.height,this.children.splice(++d,0,b),b.parent=this}f.lines=f.lines.slice(0,v),this.maybeSpill()}break}o-=m}},maybeSpill:function(){if(!(this.children.length<=10)){var o=this;do{var h=new Ma(o.children.splice(o.children.length-5,5));if(o.parent){o.size-=h.size,o.height-=h.height;var f=xe(o.parent.children,o);o.parent.children.splice(f+1,0,h)}else{var d=new Ma(o.children);d.parent=o,o.children=[d,h],o=d}h.parent=o.parent}while(o.children.length>10);o.parent.maybeSpill()}},iterN:function(o,l,h){for(var d=0;d<this.children.length;++d){var f=this.children[d],m=f.chunkSize();if(o<m){var v=Math.min(l,m-o);if(f.iterN(o,v,h))return!0;if(0==(l-=v))break;o=0}else o-=m}}};var jc=function(o,l,h){if(h)for(var d in h)h.hasOwnProperty(d)&&(this[d]=h[d]);this.doc=o,this.node=l};function hs(o,l,h){Hi(l)<(o.curOp&&o.curOp.scrollTop||o.doc.scrollTop)&&Or(o,h)}jc.prototype.clear=function(){var o=this.doc.cm,l=this.line.widgets,h=this.line,d=nn(h);if(null!=d&&l){for(var f=0;f<l.length;++f)l[f]==this&&l.splice(f--,1);l.length||(h.widgets=null);var m=Mc(this);ji(h,Math.max(0,h.height-m)),o&&(Dr(o,function(){hs(o,h,-m),xo(o,d,"widget")}),lr(o,"lineWidgetCleared",o,this,d))}},jc.prototype.changed=function(){var o=this,l=this.height,h=this.doc.cm,d=this.line;this.height=null;var f=Mc(this)-l;f&&(wa(this.doc,d)||ji(d,d.height+f),h&&Dr(h,function(){h.curOp.forceUpdate=!0,hs(h,d,f),lr(h,"lineWidgetChanged",h,o,nn(d))}))},Do(jc);var Of=0,hn=function(o,l){this.lines=[],this.type=l,this.doc=o,this.id=++Of};function Oo(o,l,h,d,f){if(d&&d.shared)return function mi(o,l,h,d,f){(d=Vt(d)).shared=!1;var m=[Oo(o,l,h,d,f)],v=m[0],y=d.widgetNode;return lo(o,function(b){y&&(d.widgetNode=y.cloneNode(!0)),m.push(Oo(b,at(b,l),at(b,h),d,f));for(var S=0;S<b.linked.length;++S)if(b.linked[S].isParent)return;v=M(m)}),new No(m,v)}(o,l,h,d,f);if(o.cm&&!o.cm.curOp)return Zn(o.cm,Oo)(o,l,h,d,f);var m=new hn(o,f),v=F(l,h);if(d&&Vt(d,m,!1),v>0||0==v&&!1!==m.clearWhenEmpty)return m;if(m.replacedWith&&(m.collapsed=!0,m.widgetNode=Be("span",[m.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||m.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(m.widgetNode.insertLeft=!0)),m.collapsed){if(ki(o,l.line,l,h,m)||l.line!=h.line&&ki(o,h.line,l,h,m))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function Pt(){Se=!0}()}m.addToHistory&&Df(o,{from:l,to:h,origin:"markText"},o.sel,NaN);var S,y=l.line,b=o.cm;if(o.iter(y,h.line+1,function(X){b&&m.collapsed&&!b.options.lineWrapping&&wt(X)==b.display.maxLine&&(S=!0),m.collapsed&&y!=l.line&&ji(X,0),function xw(o,l,h){var d=h&&window.WeakSet&&(h.markedSpans||(h.markedSpans=new WeakSet));d&&o.markedSpans&&d.has(o.markedSpans)?o.markedSpans.push(l):(o.markedSpans=o.markedSpans?o.markedSpans.concat([l]):[l],d&&d.add(o.markedSpans)),l.marker.attachLine(o)}(X,new cn(m,y==l.line?l.ch:null,y==h.line?h.ch:null),o.cm&&o.cm.curOp),++y}),m.collapsed&&o.iter(l.line,h.line+1,function(X){wa(o,X)&&ji(X,0)}),m.clearOnEnter&&bt(m,"beforeCursorEnter",function(){return m.clear()}),m.readOnly&&(function Gu(){$h=!0}(),(o.history.done.length||o.history.undone.length)&&o.clearHistory()),m.collapsed&&(m.id=++Of,m.atomic=!0),b){if(S&&(b.curOp.updateMaxLine=!0),m.collapsed)ri(b,l.line,h.line+1);else if(m.className||m.startStyle||m.endStyle||m.css||m.attributes||m.title)for(var U=l.line;U<=h.line;U++)xo(b,U,"text");m.atomic&&n_(b.doc),lr(b,"markerAdded",b,m)}return m}hn.prototype.clear=function(){if(!this.explicitlyCleared){var o=this.doc.cm,l=o&&!o.curOp;if(l&&cs(o),ar(this,"clear")){var h=this.find();h&&lr(this,"clear",h.from,h.to)}for(var d=null,f=null,m=0;m<this.lines.length;++m){var v=this.lines[m],y=Tc(v.markedSpans,this);o&&!this.collapsed?xo(o,nn(v),"text"):o&&(null!=y.to&&(f=nn(v)),null!=y.from&&(d=nn(v))),v.markedSpans=Ck(v.markedSpans,y),null==y.from&&this.collapsed&&!wa(this.doc,v)&&o&&ji(v,gl(o.display))}if(o&&this.collapsed&&!o.options.lineWrapping)for(var b=0;b<this.lines.length;++b){var S=wt(this.lines[b]),U=Ku(S);U>o.display.maxLineLength&&(o.display.maxLine=S,o.display.maxLineLength=U,o.display.maxLineChanged=!0)}null!=d&&o&&this.collapsed&&ri(o,d,f+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,o&&n_(o.doc)),o&&lr(o,"markerCleared",o,this,d,f),l&&us(o),this.parent&&this.parent.clear()}},hn.prototype.find=function(o,l){null==o&&"bookmark"==this.type&&(o=1);for(var h,d,f=0;f<this.lines.length;++f){var m=this.lines[f],v=Tc(m.markedSpans,this);if(null!=v.from&&(h=C(l?m:nn(m),v.from),-1==o))return h;if(null!=v.to&&(d=C(l?m:nn(m),v.to),1==o))return d}return h&&{from:h,to:d}},hn.prototype.changed=function(){var o=this,l=this.find(-1,!0),h=this,d=this.doc.cm;!l||!d||Dr(d,function(){var f=l.line,m=nn(l.line),v=is(d,m);if(v&&(sf(v),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!wa(h.doc,f)&&null!=h.height){var y=h.height;h.height=null;var b=Mc(h)-y;b&&ji(f,f.height+b)}lr(d,"markerChanged",d,o)})},hn.prototype.attachLine=function(o){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||-1==xe(l.maybeHiddenMarkers,this))&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(o)},hn.prototype.detachLine=function(o){if(this.lines.splice(xe(this.lines,o),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},Do(hn);var No=function(o,l){this.markers=o,this.primary=l;for(var h=0;h<o.length;++h)o[h].parent=this};function l_(o){return o.findMarks(C(o.first,0),o.clipPos(C(o.lastLine())),function(l){return l.parent})}function Il(o){for(var l=function(d){var f=o[d],m=[f.primary.doc];lo(f.primary.doc,function(b){return m.push(b)});for(var v=0;v<f.markers.length;v++){var y=f.markers[v];-1==xe(m,y.doc)&&(y.parent=null,f.markers.splice(v--,1))}},h=0;h<o.length;h++)l(h)}No.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var o=0;o<this.markers.length;++o)this.markers[o].clear();lr(this,"clear")}},No.prototype.find=function(o,l){return this.primary.find(o,l)},Do(No);var Ri=0,ai=function(o,l,h,d,f){if(!(this instanceof ai))return new ai(o,l,h,d,f);null==h&&(h=0),Ma.call(this,[new Vc([new fl("",null)])]),this.first=h,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=h;var m=C(h,0);this.sel=Ta(m),this.history=new Cl(null),this.id=++Ri,this.modeOption=l,this.lineSep=d,this.direction="rtl"==f?"rtl":"ltr",this.extend=!1,"string"==typeof o&&(o=this.splitLines(o)),gi(this,{from:m,to:m,text:o}),Tr(this,Ta(m),ft)};ai.prototype=ye(Ma.prototype,{constructor:ai,iter:function(o,l,h){h?this.iterN(o-this.first,l-o,h):this.iterN(this.first,this.first+this.size,o)},insert:function(o,l){for(var h=0,d=0;d<l.length;++d)h+=l[d].height;this.insertInner(o-this.first,l,h)},remove:function(o,l){this.removeInner(o-this.first,l)},getValue:function(o){var l=rs(this,this.first,this.first+this.size);return!1===o?l:l.join(o||this.lineSeparator())},setValue:Nr(function(o){var l=C(this.first,0),h=this.first+this.size-1;Dl(this,{from:l,to:C(h,ut(this,h).text.length),text:this.splitLines(o),origin:"setValue",full:!0},!0),this.cm&&Ln(this.cm,0,0),Tr(this,Ta(l),ft)}),replaceRange:function(o,l,h,d){xa(this,o,l=at(this,l),h=h?at(this,h):l,d)},getRange:function(o,l,h){var d=xs(this,at(this,o),at(this,l));return!1===h?d:d.join(""===h?"":h||this.lineSeparator())},getLine:function(o){var l=this.getLineHandle(o);return l&&l.text},getLineHandle:function(o){if(ba(this,o))return ut(this,o)},getLineNumber:function(o){return nn(o)},getLineHandleVisualStart:function(o){return"number"==typeof o&&(o=ut(this,o)),wt(o)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(o){return at(this,o)},getCursor:function(o){var l=this.sel.primary();return null==o||"head"==o?l.head:"anchor"==o?l.anchor:"end"==o||"to"==o||!1===o?l.to():l.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Nr(function(o,l,h){Tf(this,at(this,"number"==typeof o?C(o,l||0):o),null,h)}),setSelection:Nr(function(o,l,h){Tf(this,at(this,o),at(this,l||o),h)}),extendSelection:Nr(function(o,l,h){dd(this,at(this,o),l&&at(this,l),h)}),extendSelections:Nr(function(o,l){Jm(this,Sc(this,o),l)}),extendSelectionsBy:Nr(function(o,l){Jm(this,Sc(this,se(this.sel.ranges,o)),l)}),setSelections:Nr(function(o,l,h){if(o.length){for(var d=[],f=0;f<o.length;f++)d[f]=new dn(at(this,o[f].anchor),at(this,o[f].head||o[f].anchor));null==l&&(l=Math.min(o.length-1,this.sel.primIndex)),Tr(this,Gi(this.cm,d,l),h)}}),addSelection:Nr(function(o,l,h){var d=this.sel.ranges.slice(0);d.push(new dn(at(this,o),at(this,l||o))),Tr(this,Gi(this.cm,d,d.length-1),h)}),getSelection:function(o){for(var h,l=this.sel.ranges,d=0;d<l.length;d++){var f=xs(this,l[d].from(),l[d].to());h=h?h.concat(f):f}return!1===o?h:h.join(o||this.lineSeparator())},getSelections:function(o){for(var l=[],h=this.sel.ranges,d=0;d<h.length;d++){var f=xs(this,h[d].from(),h[d].to());!1!==o&&(f=f.join(o||this.lineSeparator())),l[d]=f}return l},replaceSelection:function(o,l,h){for(var d=[],f=0;f<this.sel.ranges.length;f++)d[f]=o;this.replaceSelections(d,l,h||"+input")},replaceSelections:Nr(function(o,l,h){for(var d=[],f=this.sel,m=0;m<f.ranges.length;m++){var v=f.ranges[m];d[m]={from:v.from(),to:v.to(),text:this.splitLines(o[m]),origin:h}}for(var y=l&&"end"!=l&&function Ok(o,l,h){for(var d=[],f=C(o.first,0),m=f,v=0;v<l.length;v++){var y=l[v],b=ao(y.from,f,m),S=ao(Ia(y),f,m);if(f=y.to,m=S,"around"==h){var U=o.sel.ranges[v],X=F(U.head,U.anchor)<0;d[v]=new dn(X?S:b,X?b:S)}else d[v]=new dn(b,b)}return new $i(d,o.sel.primIndex)}(this,d,l),b=d.length-1;b>=0;b--)Dl(this,d[b]);y?t_(this,y):this.cm&&as(this.cm)}),undo:Nr(function(){fd(this,"undo")}),redo:Nr(function(){fd(this,"redo")}),undoSelection:Nr(function(){fd(this,"undo",!0)}),redoSelection:Nr(function(){fd(this,"redo",!0)}),setExtending:function(o){this.extend=o},getExtending:function(){return this.extend},historySize:function(){for(var o=this.history,l=0,h=0,d=0;d<o.done.length;d++)o.done[d].ranges||++l;for(var f=0;f<o.undone.length;f++)o.undone[f].ranges||++h;return{undo:l,redo:h}},clearHistory:function(){var o=this;this.history=new Cl(this.history),lo(this,function(l){return l.history=o.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(o){return o&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(o){return this.history.generation==(o||this.cleanGeneration)},getHistory:function(){return{done:Bc(this.history.done),undone:Bc(this.history.undone)}},setHistory:function(o){var l=this.history=new Cl(this.history);l.done=Bc(o.done.slice(0),null,!0),l.undone=Bc(o.undone.slice(0),null,!0)},setGutterMarker:Nr(function(o,l,h){return Tl(this,o,"gutter",function(d){var f=d.gutterMarkers||(d.gutterMarkers={});return f[l]=h,!h&&he(f)&&(d.gutterMarkers=null),!0})}),clearGutter:Nr(function(o){var l=this;this.iter(function(h){h.gutterMarkers&&h.gutterMarkers[o]&&Tl(l,h,"gutter",function(){return h.gutterMarkers[o]=null,he(h.gutterMarkers)&&(h.gutterMarkers=null),!0})})}),lineInfo:function(o){var l;if("number"==typeof o){if(!(ba(this,o)&&(l=o,o=ut(this,o))))return null}else if(null==(l=nn(o)))return null;return{line:l,handle:o,text:o.text,gutterMarkers:o.gutterMarkers,textClass:o.textClass,bgClass:o.bgClass,wrapClass:o.wrapClass,widgets:o.widgets}},addLineClass:Nr(function(o,l,h){return Tl(this,o,"gutter"==l?"gutter":"class",function(d){var f="text"==l?"textClass":"background"==l?"bgClass":"gutter"==l?"gutterClass":"wrapClass";if(d[f]){if(Ke(h).test(d[f]))return!1;d[f]+=" "+h}else d[f]=h;return!0})}),removeLineClass:Nr(function(o,l,h){return Tl(this,o,"gutter"==l?"gutter":"class",function(d){var f="text"==l?"textClass":"background"==l?"bgClass":"gutter"==l?"gutterClass":"wrapClass",m=d[f];if(!m)return!1;if(null==h)d[f]=null;else{var v=m.match(Ke(h));if(!v)return!1;var y=v.index+v[0].length;d[f]=m.slice(0,v.index)+(v.index&&y!=m.length?" ":"")+m.slice(y)||null}return!0})}),addLineWidget:Nr(function(o,l,h){return function a_(o,l,h,d){var f=new jc(o,h,d),m=o.cm;return m&&f.noHScroll&&(m.display.alignWidgets=!0),Tl(o,l,"widget",function(v){var y=v.widgets||(v.widgets=[]);if(null==f.insertAt?y.push(f):y.splice(Math.min(y.length,Math.max(0,f.insertAt)),0,f),f.line=v,m&&!wa(o,v)){var b=Hi(v)<o.scrollTop;ji(v,v.height+Mc(f)),b&&Or(m,f.height),m.curOp.forceUpdate=!0}return!0}),m&&lr(m,"lineWidgetAdded",m,f,"number"==typeof l?l:nn(l)),f}(this,o,l,h)}),removeLineWidget:function(o){o.clear()},markText:function(o,l,h){return Oo(this,at(this,o),at(this,l),h,h&&h.type||"range")},setBookmark:function(o,l){var h={replacedWith:l&&(null==l.nodeType?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return Oo(this,o=at(this,o),o,h,"bookmark")},findMarksAt:function(o){var l=[],h=ut(this,(o=at(this,o)).line).markedSpans;if(h)for(var d=0;d<h.length;++d){var f=h[d];(null==f.from||f.from<=o.ch)&&(null==f.to||f.to>=o.ch)&&l.push(f.marker.parent||f.marker)}return l},findMarks:function(o,l,h){o=at(this,o),l=at(this,l);var d=[],f=o.line;return this.iter(o.line,l.line+1,function(m){var v=m.markedSpans;if(v)for(var y=0;y<v.length;y++){var b=v[y];!(null!=b.to&&f==o.line&&o.ch>=b.to||null==b.from&&f!=o.line||null!=b.from&&f==l.line&&b.from>=l.ch)&&(!h||h(b.marker))&&d.push(b.marker.parent||b.marker)}++f}),d},getAllMarks:function(){var o=[];return this.iter(function(l){var h=l.markedSpans;if(h)for(var d=0;d<h.length;++d)null!=h[d].from&&o.push(h[d].marker)}),o},posFromIndex:function(o){var l,h=this.first,d=this.lineSeparator().length;return this.iter(function(f){var m=f.text.length+d;if(m>o)return l=o,!0;o-=m,++h}),at(this,C(h,l))},indexFromPos:function(o){var l=(o=at(this,o)).ch;if(o.line<this.first||o.ch<0)return 0;var h=this.lineSeparator().length;return this.iter(this.first,o.line,function(d){l+=d.text.length+h}),l},copy:function(o){var l=new ai(rs(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,o&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(o){o||(o={});var l=this.first,h=this.first+this.size;null!=o.from&&o.from>l&&(l=o.from),null!=o.to&&o.to<h&&(h=o.to);var d=new ai(rs(this,l,h),o.mode||this.modeOption,l,this.lineSep,this.direction);return o.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:o.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:o.sharedHist}],function c_(o,l){for(var h=0;h<l.length;h++){var d=l[h],f=d.find(),m=o.clipPos(f.from),v=o.clipPos(f.to);if(F(m,v)){var y=Oo(o,m,v,d.primary,d.primary.type);d.markers.push(y),y.parent=d}}}(d,l_(this)),d},unlinkDoc:function(o){if(o instanceof Sn&&(o=o.doc),this.linked)for(var l=0;l<this.linked.length;++l)if(this.linked[l].doc==o){this.linked.splice(l,1),o.unlinkDoc(this),Il(l_(this));break}if(o.history==this.history){var d=[o.id];lo(o,function(f){return d.push(f.id)},!0),o.history=new Cl(null),o.history.done=Bc(this.history.done,d),o.history.undone=Bc(this.history.undone,d)}},iterLinkedDocs:function(o){lo(this,o)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(o){return this.lineSep?o.split(this.lineSep):ya(o)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Nr(function(o){"rtl"!=o&&(o="ltr"),o!=this.direction&&(this.direction=o,this.iter(function(l){return l.order=null}),this.cm&&function Km(o){Dr(o,function(){Ef(o),ri(o)})}(this.cm))})}),ai.prototype.eachLine=ai.prototype.iter;var u_=0;function Xw(o){var l=this;if(h_(l),!xn(l,o)&&!$r(l.display,o)){Er(o),N&&(u_=+new Date);var h=bn(l,o,!0),d=o.dataTransfer.files;if(h&&!l.isReadOnly())if(d&&d.length&&window.FileReader&&window.File)for(var f=d.length,m=Array(f),v=0,y=function(){++v==f&&Zn(l,function(){var oe={from:h=at(l.doc,h),to:h,text:l.doc.splitLines(m.filter(function(De){return null!=De}).join(l.doc.lineSeparator())),origin:"paste"};Dl(l.doc,oe),t_(l.doc,Ta(at(l.doc,h),at(l.doc,Ia(oe))))})()},b=function(oe,De){if(l.options.allowDropFileTypes&&-1==xe(l.options.allowDropFileTypes,oe.type))y();else{var Pe=new FileReader;Pe.onerror=function(){return y()},Pe.onload=function(){var We=Pe.result;/[\x00-\x08\x0e-\x1f]{2}/.test(We)||(m[De]=We),y()},Pe.readAsText(oe)}},S=0;S<d.length;S++)b(d[S],S);else{if(l.state.draggingText&&l.doc.sel.contains(h)>-1)return l.state.draggingText(o),void setTimeout(function(){return l.display.input.focus()},20);try{var U=o.dataTransfer.getData("Text");if(U){var X;if(l.state.draggingText&&!l.state.draggingText.copy&&(X=l.listSelections()),Af(l.doc,Ta(h,h)),X)for(var de=0;de<X.length;++de)xa(l.doc,"",X[de].anchor,X[de].head,"drag");l.replaceSelection(U,"around","paste"),l.display.input.focus()}}catch{}}}}function h_(o){o.display.dragCursor&&(o.display.lineSpace.removeChild(o.display.dragCursor),o.display.dragCursor=null)}function Nf(o){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),h=[],d=0;d<l.length;d++){var f=l[d].CodeMirror;f&&h.push(f)}h.length&&h[0].operation(function(){for(var m=0;m<h.length;m++)o(h[m])})}}var Pf=!1;function f_(){Pf||(function Qw(){var o;bt(window,"resize",function(){null==o&&(o=setTimeout(function(){o=null,Nf(Rt)},100))}),bt(window,"blur",function(){return Nf(yl)})}(),Pf=!0)}function Rt(o){var l=o.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,o.setSize()}for(var co={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},pd=0;pd<10;pd++)co[pd+48]=co[pd+96]=String(pd);for(var gd=65;gd<=90;gd++)co[gd]=String.fromCharCode(gd);for(var Hc=1;Hc<=12;Hc++)co[Hc+111]=co[Hc+63235]="F"+Hc;var uo={};function p_(o){var l=o.split(/-(?!$)/);o=l[l.length-1];for(var h,d,f,m,v=0;v<l.length-1;v++){var y=l[v];if(/^(cmd|meta|m)$/i.test(y))m=!0;else if(/^a(lt)?$/i.test(y))h=!0;else if(/^(c|ctrl|control)$/i.test(y))d=!0;else{if(!/^s(hift)?$/i.test(y))throw new Error("Unrecognized modifier name: "+y);f=!0}}return h&&(o="Alt-"+o),d&&(o="Ctrl-"+o),m&&(o="Cmd-"+o),f&&(o="Shift-"+o),o}function Al(o){var l={};for(var h in o)if(o.hasOwnProperty(h)){var d=o[h];if(/^(name|fallthrough|(de|at)tach)$/.test(h))continue;if("..."==d){delete o[h];continue}for(var f=se(h.split(" "),p_),m=0;m<f.length;m++){var v=void 0,y=void 0;m==f.length-1?(y=f.join(" "),v=d):(y=f.slice(0,m+1).join(" "),v="...");var b=l[y];if(b){if(b!=v)throw new Error("Inconsistent bindings for "+y)}else l[y]=v}delete o[h]}for(var S in l)o[S]=l[S];return o}function kl(o,l,h,d){var f=(l=md(l)).call?l.call(o,d):l[o];if(!1===f)return"nothing";if("..."===f)return"multi";if(null!=f&&h(f))return"handled";if(l.fallthrough){if("[object Array]"!=Object.prototype.toString.call(l.fallthrough))return kl(o,l.fallthrough,h,d);for(var m=0;m<l.fallthrough.length;m++){var v=kl(o,l.fallthrough[m],h,d);if(v)return v}}}function g_(o){var l="string"==typeof o?o:co[o.keyCode];return"Ctrl"==l||"Alt"==l||"Shift"==l||"Mod"==l}function m_(o,l,h){var d=o;return l.altKey&&"Alt"!=d&&(o="Alt-"+o),(ge?l.metaKey:l.ctrlKey)&&"Ctrl"!=d&&(o="Ctrl-"+o),(ge?l.ctrlKey:l.metaKey)&&"Mod"!=d&&(o="Cmd-"+o),!h&&l.shiftKey&&"Shift"!=d&&(o="Shift-"+o),o}function __(o,l){if(j&&34==o.keyCode&&o.char)return!1;var h=co[o.keyCode];return null!=h&&!o.altGraphKey&&(3==o.keyCode&&o.code&&(h=o.code),m_(h,o,l))}function md(o){return"string"==typeof o?uo[o]:o}function je(o,l){for(var h=o.doc.sel.ranges,d=[],f=0;f<h.length;f++){for(var m=l(h[f]);d.length&&F(m.from,M(d).to)<=0;){var v=d.pop();if(F(v.from,m.from)<0){m.from=v.from;break}}d.push(m)}Dr(o,function(){for(var y=d.length-1;y>=0;y--)xa(o.doc,"",d[y].from,d[y].to,"+delete");as(o)})}function Zt(o,l,h){var d=mr(o.text,l+h,h);return d<0||d>o.text.length?null:d}function li(o,l,h){var d=Zt(o,l.ch,h);return null==d?null:new C(l.line,d,h<0?"after":"before")}function ci(o,l,h,d,f){if(o){"rtl"==l.doc.direction&&(f=-f);var m=or(h,l.doc.direction);if(m){var S,v=f<0?M(m):m[0],b=f<0==(1==v.level)?"after":"before";if(v.level>0||"rtl"==l.doc.direction){var U=eo(l,h),X=cr(l,U,S=f<0?h.text.length-1:0).top;S=Ti(function(de){return cr(l,U,de).top==X},f<0==(1==v.level)?v.from:v.to-1,S),"before"==b&&(S=Zt(h,S,1))}else S=f<0?v.to:v.from;return new C(d,S,b)}}return new C(d,f<0?h.text.length:0,f<0?"before":"after")}uo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},uo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},uo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},uo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},uo.default=L?uo.macDefault:uo.pcDefault;var xl={selectAll:i_,singleSelection:function(o){return o.setSelection(o.getCursor("anchor"),o.getCursor("head"),ft)},killLine:function(o){return je(o,function(l){if(l.empty()){var h=ut(o.doc,l.head.line).text.length;return l.head.ch==h&&l.head.line<o.lastLine()?{from:l.head,to:C(l.head.line+1,0)}:{from:l.head,to:C(l.head.line,h)}}return{from:l.from(),to:l.to()}})},deleteLine:function(o){return je(o,function(l){return{from:C(l.from().line,0),to:at(o.doc,C(l.to().line+1,0))}})},delLineLeft:function(o){return je(o,function(l){return{from:C(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(o){return je(o,function(l){var h=o.charCoords(l.head,"div").top+5;return{from:o.coordsChar({left:0,top:h},"div"),to:l.from()}})},delWrappedLineRight:function(o){return je(o,function(l){var h=o.charCoords(l.head,"div").top+5,d=o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:h},"div");return{from:l.from(),to:d}})},undo:function(o){return o.undo()},redo:function(o){return o.redo()},undoSelection:function(o){return o.undoSelection()},redoSelection:function(o){return o.redoSelection()},goDocStart:function(o){return o.extendSelection(C(o.firstLine(),0))},goDocEnd:function(o){return o.extendSelection(C(o.lastLine()))},goLineStart:function(o){return o.extendSelectionsBy(function(l){return Ml(o,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(o){return o.extendSelectionsBy(function(l){return _d(o,l.head)},{origin:"+move",bias:1})},goLineEnd:function(o){return o.extendSelectionsBy(function(l){return function Ls(o,l){var h=ut(o.doc,l),d=function Dk(o){for(var l;l=qu(o);)o=l.find(1,!0).line;return o}(h);return d!=h&&(l=nn(d)),ci(!0,o,h,l,-1)}(o,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(o){return o.extendSelectionsBy(function(l){var h=o.cursorCoords(l.head,"div").top+5;return o.coordsChar({left:o.display.lineDiv.offsetWidth+100,top:h},"div")},E)},goLineLeft:function(o){return o.extendSelectionsBy(function(l){var h=o.cursorCoords(l.head,"div").top+5;return o.coordsChar({left:0,top:h},"div")},E)},goLineLeftSmart:function(o){return o.extendSelectionsBy(function(l){var h=o.cursorCoords(l.head,"div").top+5,d=o.coordsChar({left:0,top:h},"div");return d.ch<o.getLine(d.line).search(/\S/)?_d(o,l.head):d},E)},goLineUp:function(o){return o.moveV(-1,"line")},goLineDown:function(o){return o.moveV(1,"line")},goPageUp:function(o){return o.moveV(-1,"page")},goPageDown:function(o){return o.moveV(1,"page")},goCharLeft:function(o){return o.moveH(-1,"char")},goCharRight:function(o){return o.moveH(1,"char")},goColumnLeft:function(o){return o.moveH(-1,"column")},goColumnRight:function(o){return o.moveH(1,"column")},goWordLeft:function(o){return o.moveH(-1,"word")},goGroupRight:function(o){return o.moveH(1,"group")},goGroupLeft:function(o){return o.moveH(-1,"group")},goWordRight:function(o){return o.moveH(1,"word")},delCharBefore:function(o){return o.deleteH(-1,"codepoint")},delCharAfter:function(o){return o.deleteH(1,"char")},delWordBefore:function(o){return o.deleteH(-1,"word")},delWordAfter:function(o){return o.deleteH(1,"word")},delGroupBefore:function(o){return o.deleteH(-1,"group")},delGroupAfter:function(o){return o.deleteH(1,"group")},indentAuto:function(o){return o.indentSelection("smart")},indentMore:function(o){return o.indentSelection("add")},indentLess:function(o){return o.indentSelection("subtract")},insertTab:function(o){return o.replaceSelection("\t")},insertSoftTab:function(o){for(var l=[],h=o.listSelections(),d=o.options.tabSize,f=0;f<h.length;f++){var m=h[f].from(),v=St(o.getLine(m.line),m.ch,d);l.push(Y(d-v%d))}o.replaceSelections(l)},defaultTab:function(o){o.somethingSelected()?o.indentSelection("add"):o.execCommand("insertTab")},transposeChars:function(o){return Dr(o,function(){for(var l=o.listSelections(),h=[],d=0;d<l.length;d++)if(l[d].empty()){var f=l[d].head,m=ut(o.doc,f.line).text;if(m)if(f.ch==m.length&&(f=new C(f.line,f.ch-1)),f.ch>0)f=new C(f.line,f.ch+1),o.replaceRange(m.charAt(f.ch-1)+m.charAt(f.ch-2),C(f.line,f.ch-2),f,"+transpose");else if(f.line>o.doc.first){var v=ut(o.doc,f.line-1).text;v&&(f=new C(f.line,1),o.replaceRange(m.charAt(0)+o.doc.lineSeparator()+v.charAt(v.length-1),C(f.line-1,v.length-1),f,"+transpose"))}h.push(new dn(f,f))}o.setSelections(h)})},newlineAndIndent:function(o){return Dr(o,function(){for(var l=o.listSelections(),h=l.length-1;h>=0;h--)o.replaceRange(o.doc.lineSeparator(),l[h].anchor,l[h].head,"+input");l=o.listSelections();for(var d=0;d<l.length;d++)o.indentLine(l[d].from().line,null,!0);as(o)})},openLine:function(o){return o.replaceSelection("\n","start")},toggleOverwrite:function(o){return o.toggleOverwrite()}};function Ml(o,l){var h=ut(o.doc,l),d=wt(h);return d!=h&&(l=nn(d)),ci(!0,o,d,l,1)}function _d(o,l){var h=Ml(o,l.line),d=ut(o.doc,h.line),f=or(d,o.doc.direction);if(!f||0==f[0].level){var m=Math.max(h.ch,d.text.search(/\S/));return C(h.line,l.line==h.line&&l.ch<=m&&l.ch?0:m,h.sticky)}return h}function Rl(o,l,h){if("string"==typeof l&&!(l=xl[l]))return!1;o.display.input.ensurePolled();var d=o.display.shift,f=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),h&&(o.display.shift=!1),f=l(o)!=Xe}finally{o.display.shift=d,o.state.suppressEdits=!1}return f}var Nk=new He;function Ol(o,l,h,d){var f=o.state.keySeq;if(f){if(g_(l))return"handled";if(/\'$/.test(l)?o.state.keySeq=null:Nk.set(50,function(){o.state.keySeq==f&&(o.state.keySeq=null,o.display.input.reset())}),Gr(o,f+" "+l,h,d))return!0}return Gr(o,l,h,d)}function Gr(o,l,h,d){var f=function Jw(o,l,h){for(var d=0;d<o.state.keyMaps.length;d++){var f=kl(l,o.state.keyMaps[d],h,o);if(f)return f}return o.options.extraKeys&&kl(l,o.options.extraKeys,h,o)||kl(l,o.options.keyMap,h,o)}(o,l,d);return"multi"==f&&(o.state.keySeq=l),"handled"==f&&lr(o,"keyHandled",o,l,h),("handled"==f||"multi"==f)&&(Er(h),ii(o)),!!f}function Fs(o,l){var h=__(l,!0);return!!h&&(l.shiftKey&&!o.state.keySeq?Ol(o,"Shift-"+h,l,function(d){return Rl(o,d,!0)})||Ol(o,h,l,function(d){if("string"==typeof d?/^go[A-Z]/.test(d):d.motion)return Rl(o,d)}):Ol(o,h,l,function(d){return Rl(o,d)}))}var Lo=null;function Bs(o){var l=this;if(!(o.target&&o.target!=l.display.input.getField()||(l.curOp.focus=ce(ct(l)),xn(l,o)))){N&&ee<11&&27==o.keyCode&&(o.returnValue=!1);var h=o.keyCode;l.display.shift=16==h||o.shiftKey;var d=Fs(l,o);j&&(Lo=d?h:null,!d&&88==h&&!jh&&(L?o.metaKey:o.ctrlKey)&&l.replaceSelection("",null,"cut")),V&&!L&&!d&&46==h&&o.shiftKey&&!o.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==h&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&function eC(o){var l=o.display.lineDiv;function h(d){(18==d.keyCode||!d.altKey)&&(G(l,"CodeMirror-crosshair"),Lt(document,"keyup",h),Lt(document,"mouseover",h))}Ie(l,"CodeMirror-crosshair"),bt(document,"keyup",h),bt(document,"mouseover",h)}(l)}}function Lf(o){16==o.keyCode&&(this.doc.sel.shift=!1),xn(this,o)}function y_(o){var l=this;if(!(o.target&&o.target!=l.display.input.getField()||$r(l.display,o)||xn(l,o)||o.ctrlKey&&!o.altKey||L&&o.metaKey)){var h=o.keyCode,d=o.charCode;if(j&&h==Lo)return Lo=null,void Er(o);if(!j||o.which&&!(o.which<10)||!Fs(l,o)){var f=String.fromCharCode(d??h);"\b"!=f&&(function v_(o,l,h){return Ol(o,"'"+h+"'",l,function(d){return Rl(o,d,!0)})}(l,o,f)||l.display.input.onKeyPress(o))}}}var Ra,Nl,zc=function(o,l,h){this.time=o,this.pos=l,this.button=h};function b_(o){var l=this,h=l.display;if(!(xn(l,o)||h.activeTouch&&h.input.supportsTouch())){if(h.input.ensurePolled(),h.shift=o.shiftKey,$r(h,o))return void(te||(h.scroller.draggable=!1,setTimeout(function(){return h.scroller.draggable=!0},100)));if(!jf(l,o)){var d=bn(l,o),f=va(o),m=d?function Ff(o,l){var h=+new Date;return Nl&&Nl.compare(h,o,l)?(Ra=Nl=null,"triple"):Ra&&Ra.compare(h,o,l)?(Nl=new zc(h,o,l),Ra=null,"double"):(Ra=new zc(h,o,l),Nl=null,"single")}(d,f):"single";it(l).focus(),1==f&&l.state.selectingText&&l.state.selectingText(o),(!d||!function w_(o,l,h,d,f){var m="Click";return"double"==d?m="Double"+m:"triple"==d&&(m="Triple"+m),Ol(o,m_(m=(1==l?"Left":2==l?"Middle":"Right")+m,f),f,function(v){if("string"==typeof v&&(v=xl[v]),!v)return!1;var y=!1;try{o.isReadOnly()&&(o.state.suppressEdits=!0),y=v(o,h)!=Xe}finally{o.state.suppressEdits=!1}return y})}(l,f,d,m,o))&&(1==f?d?function C_(o,l,h,d){N?setTimeout(Ne(pf,o),0):o.curOp.focus=ce(ct(o));var v,f=function Bf(o,l,h){var d=o.getOption("configureMouse"),f=d?d(o,l,h):{};return null==f.unit&&(f.unit=(ae?h.shiftKey&&h.metaKey:h.altKey)?"rectangle":"single"==l?"char":"double"==l?"word":"line"),(null==f.extend||o.doc.extend)&&(f.extend=o.doc.extend||h.shiftKey),null==f.addNew&&(f.addNew=L?h.metaKey:h.ctrlKey),null==f.moveOnDrag&&(f.moveOnDrag=!(L?h.altKey:h.ctrlKey)),f}(o,h,d),m=o.doc.sel;o.options.dragDrop&&fi&&!o.isReadOnly()&&"single"==h&&(v=m.contains(l))>-1&&(F((v=m.ranges[v]).from(),l)<0||l.xRel>0)&&(F(v.to(),l)>0||l.xRel<0)?function E_(o,l,h,d){var f=o.display,m=!1,v=Zn(o,function(S){te&&(f.scroller.draggable=!1),o.state.draggingText=!1,o.state.delayingBlurEvent&&(o.hasFocus()?o.state.delayingBlurEvent=!1:id(o)),Lt(f.wrapper.ownerDocument,"mouseup",v),Lt(f.wrapper.ownerDocument,"mousemove",y),Lt(f.scroller,"dragstart",b),Lt(f.scroller,"drop",v),m||(Er(S),d.addNew||dd(o.doc,h,null,null,d.extend),te&&!k||N&&9==ee?setTimeout(function(){f.wrapper.ownerDocument.body.focus({preventScroll:!0}),f.input.focus()},20):f.input.focus())}),y=function(S){m=m||Math.abs(l.clientX-S.clientX)+Math.abs(l.clientY-S.clientY)>=10},b=function(){return m=!0};te&&(f.scroller.draggable=!0),o.state.draggingText=v,v.copy=!d.moveOnDrag,bt(f.wrapper.ownerDocument,"mouseup",v),bt(f.wrapper.ownerDocument,"mousemove",y),bt(f.scroller,"dragstart",b),bt(f.scroller,"drop",v),o.state.delayingBlurEvent=!0,setTimeout(function(){return f.input.focus()},20),f.scroller.dragDrop&&f.scroller.dragDrop()}(o,d,l,f):function S_(o,l,h,d){N&&id(o);var f=o.display,m=o.doc;Er(l);var v,y,b=m.sel,S=b.ranges;if(d.addNew&&!d.extend?(y=m.sel.contains(h),v=y>-1?S[y]:new dn(h,h)):(v=m.sel.primary(),y=m.sel.primIndex),"rectangle"==d.unit)d.addNew||(v=new dn(h,h)),h=bn(o,l,!0,!0),y=-1;else{var U=Uf(o,h,d.unit);v=d.extend?Qm(v,U.anchor,U.head,d.extend):U}d.addNew?-1==y?(y=S.length,Tr(m,Gi(o,S.concat([v]),y),{scroll:!1,origin:"*mouse"})):S.length>1&&S[y].empty()&&"char"==d.unit&&!d.extend?(Tr(m,Gi(o,S.slice(0,y).concat(S.slice(y+1)),0),{scroll:!1,origin:"*mouse"}),b=m.sel):e_(m,y,v,pt):(y=0,Tr(m,new $i([v],0),pt),b=m.sel);var X=h;function de(Je){if(0!=F(X,Je))if(X=Je,"rectangle"==d.unit){for(var lt=[],_t=o.options.tabSize,vt=St(ut(m,h.line).text,h.ch,_t),Et=St(ut(m,Je.line).text,Je.ch,_t),Dn=Math.min(vt,Et),en=Math.max(vt,Et),On=Math.min(h.line,Je.line),vi=Math.min(o.lastLine(),Math.max(h.line,Je.line));On<=vi;On++){var Kr=ut(m,On).text,Wn=ke(Kr,Dn,_t);Dn==en?lt.push(new dn(C(On,Wn),C(On,Wn))):Kr.length>Wn&&lt.push(new dn(C(On,Wn),C(On,ke(Kr,en,_t))))}lt.length||lt.push(new dn(h,h)),Tr(m,Gi(o,b.ranges.slice(0,y).concat(lt),y),{origin:"*mouse",scroll:!1}),o.scrollIntoView(Je)}else{var tr,br=v,Xn=Uf(o,Je,d.unit),Bn=br.anchor;F(Xn.anchor,Bn)>0?(tr=Xn.head,Bn=Ct(br.from(),Xn.anchor)):(tr=Xn.anchor,Bn=kt(br.to(),Xn.head));var Un=b.ranges.slice(0);Un[y]=function Vf(o,l){var h=l.anchor,d=l.head,f=ut(o.doc,h.line);if(0==F(h,d)&&h.sticky==d.sticky)return l;var m=or(f);if(!m)return l;var v=tn(m,h.ch,h.sticky),y=m[v];if(y.from!=h.ch&&y.to!=h.ch)return l;var S,b=v+(y.from==h.ch==(1!=y.level)?0:1);if(0==b||b==m.length)return l;if(d.line!=h.line)S=(d.line-h.line)*("ltr"==o.doc.direction?1:-1)>0;else{var U=tn(m,d.ch,d.sticky),X=U-v||(d.ch-h.ch)*(1==y.level?-1:1);S=U==b-1||U==b?X<0:X>0}var de=m[b+(S?-1:0)],oe=S==(1==de.level),De=oe?de.from:de.to,Pe=oe?"after":"before";return h.ch==De&&h.sticky==Pe?l:new dn(new C(h.line,De,Pe),d)}(o,new dn(at(m,Bn),tr)),Tr(m,Gi(o,Un,y),pt)}}var oe=f.wrapper.getBoundingClientRect(),De=0;function Pe(Je){var lt=++De,_t=bn(o,Je,!0,"rectangle"==d.unit);if(_t)if(0!=F(_t,X)){o.curOp.focus=ce(ct(o)),de(_t);var vt=ot(f,m);(_t.line>=vt.to||_t.line<vt.from)&&setTimeout(Zn(o,function(){De==lt&&Pe(Je)}),150)}else{var Et=Je.clientY<oe.top?-20:Je.clientY>oe.bottom?20:0;Et&&setTimeout(Zn(o,function(){De==lt&&(f.scroller.scrollTop+=Et,Pe(Je))}),50)}}function We(Je){o.state.selectingText=!1,De=1/0,Je&&(Er(Je),f.input.focus()),Lt(f.wrapper.ownerDocument,"mousemove",Ye),Lt(f.wrapper.ownerDocument,"mouseup",st),m.history.lastSelOrigin=null}var Ye=Zn(o,function(Je){0!==Je.buttons&&va(Je)?Pe(Je):We(Je)}),st=Zn(o,We);o.state.selectingText=st,bt(f.wrapper.ownerDocument,"mousemove",Ye),bt(f.wrapper.ownerDocument,"mouseup",st)}(o,d,l,f)}(l,d,m,o):ll(o)==h.scroller&&Er(o):2==f?(d&&dd(l.doc,d),setTimeout(function(){return h.input.focus()},20)):3==f&&(Fe?l.display.input.onContextMenu(o):id(l)))}}}function Uf(o,l,h){if("char"==h)return new dn(l,l);if("word"==h)return o.findWordAt(l);if("line"==h)return new dn(C(l.line,0),at(o.doc,C(l.line+1,0)));var d=h(o,l);return new dn(d.from,d.to)}function D_(o,l,h,d){var f,m;if(l.touches)f=l.touches[0].clientX,m=l.touches[0].clientY;else try{f=l.clientX,m=l.clientY}catch{return!1}if(f>=Math.floor(o.display.gutters.getBoundingClientRect().right))return!1;d&&Er(l);var v=o.display,y=v.lineDiv.getBoundingClientRect();if(m>y.bottom||!ar(o,h))return _a(l);m-=y.top-v.viewOffset;for(var b=0;b<o.display.gutterSpecs.length;++b){var S=v.gutters.childNodes[b];if(S&&S.getBoundingClientRect().right>=f)return Pn(o,h,o,Ms(o.doc,m),o.display.gutterSpecs[b].className,l),_a(l)}}function jf(o,l){return D_(o,l,"gutterClick",!0)}function qr(o,l){$r(o.display,l)||function Oa(o,l){return!!ar(o,"gutterContextMenu")&&D_(o,l,"gutterContextMenu",!1)}(o,l)||xn(o,l,"contextmenu")||Fe||o.display.input.onContextMenu(l)}function zn(o){o.display.wrapper.className=o.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+o.options.theme.replace(/(^|\s)\s*/g," cm-s-"),to(o)}zc.prototype.compare=function(o,l,h){return this.time+400>o&&0==F(l,this.pos)&&h==this.button};var Pl={toString:function(){return"CodeMirror.Init"}},T_={},vd={};function I_(o,l,h){if(!l!=!(h&&h!=Pl)){var f=o.display.dragFunctions,m=l?bt:Lt;m(o.display.scroller,"dragstart",f.start),m(o.display.scroller,"dragenter",f.enter),m(o.display.scroller,"dragover",f.over),m(o.display.scroller,"dragleave",f.leave),m(o.display.scroller,"drop",f.drop)}}function A_(o){o.options.lineWrapping?(Ie(o.display.wrapper,"CodeMirror-wrap"),o.display.sizer.style.minWidth="",o.display.sizerWidth=null):(G(o.display.wrapper,"CodeMirror-wrap"),Yu(o)),ff(o),ri(o),to(o),setTimeout(function(){return si(o)},100)}function Sn(o,l){var h=this;if(!(this instanceof Sn))return new Sn(o,l);this.options=l=l?Vt(l):{},Vt(T_,l,!1);var d=l.value;"string"==typeof d?d=new ai(d,l.mode,null,l.lineSeparator,l.direction):l.mode&&(d.modeOption=l.mode),this.doc=d;var f=new Sn.inputStyles[l.inputStyle](this),m=this.display=new Mk(o,d,f,l);for(var v in m.wrapper.CodeMirror=this,zn(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),io(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new He,keySeq:null,specialChars:null},l.autofocus&&!z&&m.input.focus(),N&&ee<11&&setTimeout(function(){return h.display.input.reset(!0)},20),function Fo(o){var l=o.display;bt(l.scroller,"mousedown",Zn(o,b_)),bt(l.scroller,"dblclick",N&&ee<11?Zn(o,function(b){if(!xn(o,b)){var S=bn(o,b);if(S&&!jf(o,b)&&!$r(o.display,b)){Er(b);var U=o.findWordAt(S);dd(o.doc,U.anchor,U.head)}}}):function(b){return xn(o,b)||Er(b)}),bt(l.scroller,"contextmenu",function(b){return qr(o,b)}),bt(l.input.getField(),"contextmenu",function(b){l.scroller.contains(b.target)||qr(o,b)});var h,d={end:0};function f(){l.activeTouch&&(h=setTimeout(function(){return l.activeTouch=null},1e3),(d=l.activeTouch).end=+new Date)}function m(b){if(1!=b.touches.length)return!1;var S=b.touches[0];return S.radiusX<=1&&S.radiusY<=1}function v(b,S){if(null==S.left)return!0;var U=S.left-b.left,X=S.top-b.top;return U*U+X*X>400}bt(l.scroller,"touchstart",function(b){if(!xn(o,b)&&!m(b)&&!jf(o,b)){l.input.ensurePolled(),clearTimeout(h);var S=+new Date;l.activeTouch={start:S,moved:!1,prev:S-d.end<=300?d:null},1==b.touches.length&&(l.activeTouch.left=b.touches[0].pageX,l.activeTouch.top=b.touches[0].pageY)}}),bt(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),bt(l.scroller,"touchend",function(b){var S=l.activeTouch;if(S&&!$r(l,b)&&null!=S.left&&!S.moved&&new Date-S.start<300){var X,U=o.coordsChar(l.activeTouch,"page");X=!S.prev||v(S,S.prev)?new dn(U,U):!S.prev.prev||v(S,S.prev.prev)?o.findWordAt(U):new dn(C(U.line,0),at(o.doc,C(U.line+1,0))),o.setSelection(X.anchor,X.head),o.focus(),Er(b)}f()}),bt(l.scroller,"touchcancel",f),bt(l.scroller,"scroll",function(){l.scroller.clientHeight&&(ro(o,l.scroller.scrollTop),Wi(o,l.scroller.scrollLeft,!0),Pn(o,"scroll",o))}),bt(l.scroller,"mousewheel",function(b){return Gw(o,b)}),bt(l.scroller,"DOMMouseScroll",function(b){return Gw(o,b)}),bt(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(b){xn(o,b)||ns(b)},over:function(b){xn(o,b)||(function d_(o,l){var h=bn(o,l);if(h){var d=document.createDocumentFragment();Sr(o,h,d),o.display.dragCursor||(o.display.dragCursor=H("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),o.display.lineSpace.insertBefore(o.display.dragCursor,o.display.cursorDiv)),D(o.display.dragCursor,d)}}(o,b),ns(b))},start:function(b){return function Po(o,l){if(N&&(!o.state.draggingText||+new Date-u_<100))ns(l);else if(!xn(o,l)&&!$r(o.display,l)&&(l.dataTransfer.setData("Text",o.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!k)){var h=H("img",null,null,"position: fixed; left: 0; top: 0;");h.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",j&&(h.width=h.height=1,o.display.wrapper.appendChild(h),h._top=h.offsetTop),l.dataTransfer.setDragImage(h,0,0),j&&h.parentNode.removeChild(h)}}(o,b)},drop:Zn(o,Xw),leave:function(b){xn(o,b)||h_(o)}};var y=l.input.getField();bt(y,"keyup",function(b){return Lf.call(o,b)}),bt(y,"keydown",Zn(o,Bs)),bt(y,"keypress",Zn(o,y_)),bt(y,"focus",function(b){return vl(o,b)}),bt(y,"blur",function(b){return yl(o,b)})}(this),f_(),cs(this),this.curOp.forceUpdate=!0,Cf(this,d),l.autofocus&&!z||this.hasFocus()?setTimeout(function(){h.hasFocus()&&!h.state.focused&&vl(h)},20):yl(this),vd)vd.hasOwnProperty(v)&&vd[v](this,l[v],Pl);zw(this),l.finishInit&&l.finishInit(this);for(var y=0;y<Hf.length;++y)Hf[y](this);us(this),te&&l.lineWrapping&&"optimizelegibility"==getComputedStyle(m.lineDiv).textRendering&&(m.lineDiv.style.textRendering="auto")}Sn.defaults=T_,Sn.optionHandlers=vd;var Hf=[];function Bo(o,l,h,d){var m,f=o.doc;null==h&&(h="add"),"smart"==h&&(f.mode.indent?m=ln(o,l).state:h="prev");var v=o.options.tabSize,y=ut(f,l),b=St(y.text,null,v);y.stateAfter&&(y.stateAfter=null);var U,S=y.text.match(/^\s*/)[0];if(d||/\S/.test(y.text)){if("smart"==h&&((U=f.mode.indent(m,y.text.slice(S.length),y.text))==Xe||U>150)){if(!d)return;h="prev"}}else U=0,h="not";"prev"==h?U=l>f.first?St(ut(f,l-1).text,null,v):0:"add"==h?U=b+o.options.indentUnit:"subtract"==h?U=b-o.options.indentUnit:"number"==typeof h&&(U=b+h),U=Math.max(0,U);var X="",de=0;if(o.options.indentWithTabs)for(var oe=Math.floor(U/v);oe;--oe)de+=v,X+="\t";if(de<U&&(X+=Y(U-de)),X!=S)return xa(f,X,C(l,0),C(l,S.length),"+input"),y.stateAfter=null,!0;for(var De=0;De<f.sel.ranges.length;De++){var Pe=f.sel.ranges[De];if(Pe.head.line==l&&Pe.head.ch<S.length){var We=C(l,S.length);e_(f,De,new dn(We,We));break}}}Sn.defineInitHook=function(o){return Hf.push(o)};var _i=null;function Na(o){_i=o}function Wc(o,l,h,d,f){var m=o.doc;o.display.shift=!1,d||(d=m.sel);var v=+new Date-200,y="paste"==f||o.state.pasteIncoming>v,b=ya(l),S=null;if(y&&d.ranges.length>1)if(_i&&_i.text.join("\n")==l){if(d.ranges.length%_i.text.length==0){S=[];for(var U=0;U<_i.text.length;U++)S.push(m.splitLines(_i.text[U]))}}else b.length==d.ranges.length&&o.options.pasteLinesPerSelection&&(S=se(b,function(Ye){return[Ye]}));for(var X=o.curOp.updateInput,de=d.ranges.length-1;de>=0;de--){var oe=d.ranges[de],De=oe.from(),Pe=oe.to();oe.empty()&&(h&&h>0?De=C(De.line,De.ch-h):o.state.overwrite&&!y?Pe=C(Pe.line,Math.min(ut(m,Pe.line).text.length,Pe.ch+M(b).length)):y&&_i&&_i.lineWise&&_i.text.join("\n")==b.join("\n")&&(De=Pe=C(De.line,0)));var We={from:De,to:Pe,text:S?S[de%S.length]:b,origin:f||(y?"paste":o.state.cutIncoming>v?"cut":"+input")};Dl(o.doc,We),lr(o,"inputRead",o,We)}l&&!y&&Wf(o,l),as(o),o.curOp.updateInput<2&&(o.curOp.updateInput=X),o.curOp.typing=!0,o.state.pasteIncoming=o.state.cutIncoming=-1}function zf(o,l){var h=o.clipboardData&&o.clipboardData.getData("Text");if(h)return o.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&l.hasFocus()&&Dr(l,function(){return Wc(l,h,0,null,"paste")}),!0}function Wf(o,l){if(o.options.electricChars&&o.options.smartIndent)for(var h=o.doc.sel,d=h.ranges.length-1;d>=0;d--){var f=h.ranges[d];if(!(f.head.ch>100||d&&h.ranges[d-1].head.line==f.head.line)){var m=o.getModeAt(f.head),v=!1;if(m.electricChars){for(var y=0;y<m.electricChars.length;y++)if(l.indexOf(m.electricChars.charAt(y))>-1){v=Bo(o,f.head.line,"smart");break}}else m.electricInput&&m.electricInput.test(ut(o.doc,f.head.line).text.slice(0,f.head.ch))&&(v=Bo(o,f.head.line,"smart"));v&&lr(o,"electricInput",o,f.head.line)}}}function k_(o){for(var l=[],h=[],d=0;d<o.doc.sel.ranges.length;d++){var f=o.doc.sel.ranges[d].head.line,m={anchor:C(f,0),head:C(f+1,0)};h.push(m),l.push(o.getRange(m.anchor,m.head))}return{text:l,ranges:h}}function Uo(o,l,h,d){o.setAttribute("autocorrect",h?"on":"off"),o.setAttribute("autocapitalize",d?"on":"off"),o.setAttribute("spellcheck",!!l)}function Ll(){var o=H("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=H("div",[o],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return te?o.style.width="1000px":o.setAttribute("wrap","off"),Q&&(o.style.border="1px solid black"),l}function x_(o,l,h,d,f){var m=l,v=h,y=ut(o,l.line),b=f&&"rtl"==o.direction?-h:h;function U(st){var Je;if("codepoint"==d){var lt=y.text.charCodeAt(l.ch+(h>0?0:-1));Je=isNaN(lt)?null:new C(l.line,Math.max(0,Math.min(y.text.length,l.ch+h*((h>0?lt>=55296&&lt<56320:lt>=56320&&lt<57343)?2:1))),-h)}else Je=f?function Hr(o,l,h,d){var f=or(l,o.doc.direction);if(!f)return li(l,h,d);h.ch>=l.text.length?(h.ch=l.text.length,h.sticky="before"):h.ch<=0&&(h.ch=0,h.sticky="after");var m=tn(f,h.ch,h.sticky),v=f[m];if("ltr"==o.doc.direction&&v.level%2==0&&(d>0?v.to>h.ch:v.from<h.ch))return li(l,h,d);var b,y=function(Ye,st){return Zt(l,Ye instanceof C?Ye.ch:Ye,st)},S=function(Ye){return o.options.lineWrapping?(b=b||eo(o,l),Vm(o,l,b,Ye)):{begin:0,end:l.text.length}},U=S("before"==h.sticky?y(h,-1):h.ch);if("rtl"==o.doc.direction||1==v.level){var X=1==v.level==d<0,de=y(h,X?1:-1);if(null!=de&&(X?de<=v.to&&de<=U.end:de>=v.from&&de>=U.begin))return new C(h.line,de,X?"before":"after")}var De=function(Ye,st,Je){for(;Ye>=0&&Ye<f.length;Ye+=st){var _t=f[Ye],vt=st>0==(1!=_t.level),Et=vt?Je.begin:y(Je.end,-1);if(_t.from<=Et&&Et<_t.to||(Et=vt?_t.from:y(_t.to,-1),Je.begin<=Et&&Et<Je.end))return Dn=Et,vt?new C(h.line,y(Dn,1),"before"):new C(h.line,Dn,"after")}var Dn},Pe=De(m+d,d,U);if(Pe)return Pe;var We=d>0?U.end:y(U.begin,-1);return null==We||d>0&&We==l.text.length||!(Pe=De(d>0?0:f.length-1,d,S(We)))?null:Pe}(o.cm,y,l,h):li(y,l,h);if(null==Je){if(st||!function S(){var st=l.line+b;return!(st<o.first||st>=o.first+o.size)&&(l=new C(st,l.ch,l.sticky),y=ut(o,st))}())return!1;l=ci(f,o.cm,y,l.line,b)}else l=Je;return!0}if("char"==d||"codepoint"==d)U();else if("column"==d)U(!0);else if("word"==d||"group"==d)for(var X=null,de="group"==d,oe=o.cm&&o.cm.getHelper(l,"wordChars"),De=!0;!(h<0)||U(!De);De=!1){var Pe=y.text.charAt(l.ch)||"\n",We=pe(Pe,oe)?"w":de&&"\n"==Pe?"n":!de||/\s/.test(Pe)?null:"p";if(de&&!De&&!We&&(We="s"),X&&X!=We){h<0&&(h=1,U(),l.sticky="after");break}if(We&&(X=We),h>0&&!U(!De))break}var Ye=hd(o,l,m,v,!0);return Re(m,Ye)&&(Ye.hitSide=!0),Ye}function yd(o,l,h,d){var v,S,f=o.doc,m=l.left;if("page"==d){var y=Math.min(o.display.wrapper.clientHeight,it(o).innerHeight||f(o).documentElement.clientHeight),b=Math.max(y-.5*gl(o.display),3);v=(h>0?l.bottom:l.top)+h*b}else"line"==d&&(v=h>0?l.bottom+3:l.top-3);for(;(S=td(o,m,v)).outside;){if(h<0?v<=0:v>=f.height){S.hitSide=!0;break}v+=5*h}return S}var wn=function(o){this.cm=o,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new He,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function M_(o,l){var h=is(o,l.line);if(!h||h.hidden)return null;var d=ut(o.doc,l.line),f=Fm(h,d,l.line),m=or(d,o.doc.direction),v="left";m&&(v=tn(m,l.ch)%2?"right":"left");var b=un(f.map,l.ch,v);return b.offset="right"==b.collapse?b.end:b.start,b}function $c(o,l){return l&&(o.bad=!0),o}function Fl(o,l,h){var d;if(l==o.display.lineDiv){if(!(d=o.display.lineDiv.childNodes[h]))return $c(o.clipPos(C(o.display.viewTo-1)),!0);l=null,h=0}else for(d=l;;d=d.parentNode){if(!d||d==o.display.lineDiv)return null;if(d.parentNode&&d.parentNode==o.display.lineDiv)break}for(var f=0;f<o.display.view.length;f++){var m=o.display.view[f];if(m.node==d)return Gc(m,l,h)}}function Gc(o,l,h){var d=o.text.firstChild,f=!1;if(!l||!Oe(d,l))return $c(C(nn(o.line),0),!0);if(l==d&&(f=!0,l=d.childNodes[h],h=0,!l)){var m=o.rest?M(o.rest):o.line;return $c(C(nn(m),m.text.length),f)}var v=3==l.nodeType?l:null,y=l;for(!v&&1==l.childNodes.length&&3==l.firstChild.nodeType&&(v=l.firstChild,h&&(h=v.nodeValue.length));y.parentNode!=d;)y=y.parentNode;var b=o.measure,S=b.maps;function U(We,Ye,st){for(var Je=-1;Je<(S?S.length:0);Je++)for(var lt=Je<0?b.map:S[Je],_t=0;_t<lt.length;_t+=3){var vt=lt[_t+2];if(vt==We||vt==Ye){var Et=nn(Je<0?o.line:o.rest[Je]),Dn=lt[_t]+st;return(st<0||vt!=We)&&(Dn=lt[_t+(st?1:0)]),C(Et,Dn)}}}var X=U(v,y,h);if(X)return $c(X,f);for(var de=y.nextSibling,oe=v?v.nodeValue.length-h:0;de;de=de.nextSibling){if(X=U(de,de.firstChild,0))return $c(C(X.line,X.ch-oe),f);oe+=de.textContent.length}for(var De=y.previousSibling,Pe=h;De;De=De.previousSibling){if(X=U(De,De.firstChild,-1))return $c(C(X.line,X.ch+Pe),f);Pe+=De.textContent.length}}wn.prototype.init=function(o){var l=this,h=this,d=h.cm,f=h.div=o.lineDiv;function m(y){for(var b=y.target;b;b=b.parentNode){if(b==f)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(b.className))break}return!1}function v(y){if(m(y)&&!xn(d,y)){if(d.somethingSelected())Na({lineWise:!1,text:d.getSelections()}),"cut"==y.type&&d.replaceSelection("",null,"cut");else{if(!d.options.lineWiseCopyCut)return;var b=k_(d);Na({lineWise:!0,text:b.text}),"cut"==y.type&&d.operation(function(){d.setSelections(b.ranges,0,ft),d.replaceSelection("",null,"cut")})}if(y.clipboardData){y.clipboardData.clearData();var S=_i.text.join("\n");if(y.clipboardData.setData("Text",S),y.clipboardData.getData("Text")==S)return void y.preventDefault()}var U=Ll(),X=U.firstChild;Uo(X),d.display.lineSpace.insertBefore(U,d.display.lineSpace.firstChild),X.value=_i.text.join("\n");var de=ce(f.ownerDocument);_e(X),setTimeout(function(){d.display.lineSpace.removeChild(U),de.focus(),de==f&&h.showPrimarySelection()},50)}}f.contentEditable=!0,Uo(f,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize),bt(f,"paste",function(y){!m(y)||xn(d,y)||zf(y,d)||ee<=11&&setTimeout(Zn(d,function(){return l.updateFromDOM()}),20)}),bt(f,"compositionstart",function(y){l.composing={data:y.data,done:!1}}),bt(f,"compositionupdate",function(y){l.composing||(l.composing={data:y.data,done:!1})}),bt(f,"compositionend",function(y){l.composing&&(y.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),bt(f,"touchstart",function(){return h.forceCompositionEnd()}),bt(f,"input",function(){l.composing||l.readFromDOMSoon()}),bt(f,"copy",v),bt(f,"cut",v)},wn.prototype.screenReaderLabelChanged=function(o){o?this.div.setAttribute("aria-label",o):this.div.removeAttribute("aria-label")},wn.prototype.prepareSelection=function(){var o=Jt(this.cm,!1);return o.focus=ce(this.div.ownerDocument)==this.div,o},wn.prototype.showSelection=function(o,l){!o||!this.cm.display.view.length||((o.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(o))},wn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},wn.prototype.showPrimarySelection=function(){var o=this.getSelection(),l=this.cm,h=l.doc.sel.primary(),d=h.from(),f=h.to();if(l.display.viewTo==l.display.viewFrom||d.line>=l.display.viewTo||f.line<l.display.viewFrom)o.removeAllRanges();else{var m=Fl(l,o.anchorNode,o.anchorOffset),v=Fl(l,o.focusNode,o.focusOffset);if(!m||m.bad||!v||v.bad||0!=F(Ct(m,v),d)||0!=F(kt(m,v),f)){var y=l.display.view,b=d.line>=l.display.viewFrom&&M_(l,d)||{node:y[0].measure.map[2],offset:0},S=f.line<l.display.viewTo&&M_(l,f);if(!S){var U=y[y.length-1].measure,X=U.maps?U.maps[U.maps.length-1]:U.map;S={node:X[X.length-1],offset:X[X.length-2]-X[X.length-3]}}if(!b||!S)return void o.removeAllRanges();var oe,de=o.rangeCount&&o.getRangeAt(0);try{oe=T(b.node,b.offset,S.offset,S.node)}catch{}oe&&(!V&&l.state.focused?(o.collapse(b.node,b.offset),oe.collapsed||(o.removeAllRanges(),o.addRange(oe))):(o.removeAllRanges(),o.addRange(oe)),de&&null==o.anchorNode?o.addRange(de):V&&this.startGracePeriod()),this.rememberSelection()}}},wn.prototype.startGracePeriod=function(){var o=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){o.gracePeriod=!1,o.selectionChanged()&&o.cm.operation(function(){return o.cm.curOp.selectionChanged=!0})},20)},wn.prototype.showMultipleSelections=function(o){D(this.cm.display.cursorDiv,o.cursors),D(this.cm.display.selectionDiv,o.selection)},wn.prototype.rememberSelection=function(){var o=this.getSelection();this.lastAnchorNode=o.anchorNode,this.lastAnchorOffset=o.anchorOffset,this.lastFocusNode=o.focusNode,this.lastFocusOffset=o.focusOffset},wn.prototype.selectionInEditor=function(){var o=this.getSelection();if(!o.rangeCount)return!1;var l=o.getRangeAt(0).commonAncestorContainer;return Oe(this.div,l)},wn.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||ce(this.div.ownerDocument)!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},wn.prototype.blur=function(){this.div.blur()},wn.prototype.getField=function(){return this.div},wn.prototype.supportsTouch=function(){return!0},wn.prototype.receivedFocus=function(){var o=this,l=this;this.selectionInEditor()?setTimeout(function(){return o.pollSelection()},20):Dr(this.cm,function(){return l.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function h(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,h))})},wn.prototype.selectionChanged=function(){var o=this.getSelection();return o.anchorNode!=this.lastAnchorNode||o.anchorOffset!=this.lastAnchorOffset||o.focusNode!=this.lastFocusNode||o.focusOffset!=this.lastFocusOffset},wn.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var o=this.getSelection(),l=this.cm;if(P&&J&&this.cm.display.gutterSpecs.length&&function iC(o){for(var l=o;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}(o.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var h=Fl(l,o.anchorNode,o.anchorOffset),d=Fl(l,o.focusNode,o.focusOffset);h&&d&&Dr(l,function(){Tr(l.doc,Ta(h,d),ft),(h.bad||d.bad)&&(l.curOp.selectionChanged=!0)})}}},wn.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var m,v,y,o=this.cm,l=o.display,h=o.doc.sel.primary(),d=h.from(),f=h.to();if(0==d.ch&&d.line>o.firstLine()&&(d=C(d.line-1,ut(o.doc,d.line-1).length)),f.ch==ut(o.doc,f.line).text.length&&f.line<o.lastLine()&&(f=C(f.line+1,0)),d.line<l.viewFrom||f.line>l.viewTo-1)return!1;d.line==l.viewFrom||0==(m=Ea(o,d.line))?(v=nn(l.view[0].line),y=l.view[0].node):(v=nn(l.view[m].line),y=l.view[m-1].node.nextSibling);var S,U,b=Ea(o,f.line);if(b==l.view.length-1?(S=l.viewTo-1,U=l.lineDiv.lastChild):(S=nn(l.view[b+1].line)-1,U=l.view[b+1].node.previousSibling),!y)return!1;for(var X=o.doc.splitLines(function Pk(o,l,h,d,f){var m="",v=!1,y=o.doc.lineSeparator(),b=!1;function U(){v&&(m+=y,b&&(m+=y),v=b=!1)}function X(oe){oe&&(U(),m+=oe)}function de(oe){if(1==oe.nodeType){var De=oe.getAttribute("cm-text");if(De)return void X(De);var We,Pe=oe.getAttribute("cm-marker");if(Pe){var Ye=o.findMarks(C(d,0),C(f+1,0),function S(oe){return function(De){return De.id==oe}}(+Pe));return void(Ye.length&&(We=Ye[0].find(0))&&X(xs(o.doc,We.from,We.to).join(y)))}if("false"==oe.getAttribute("contenteditable"))return;var st=/^(pre|div|p|li|table|br)$/i.test(oe.nodeName);if(!/^br$/i.test(oe.nodeName)&&0==oe.textContent.length)return;st&&U();for(var Je=0;Je<oe.childNodes.length;Je++)de(oe.childNodes[Je]);/^(pre|p)$/i.test(oe.nodeName)&&(b=!0),st&&(v=!0)}else 3==oe.nodeType&&X(oe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;de(l),l!=h;)l=l.nextSibling,b=!1;return m}(o,y,U,v,S)),de=xs(o.doc,C(v,0),C(S,ut(o.doc,S).text.length));X.length>1&&de.length>1;)if(M(X)==M(de))X.pop(),de.pop(),S--;else{if(X[0]!=de[0])break;X.shift(),de.shift(),v++}for(var oe=0,De=0,Pe=X[0],We=de[0],Ye=Math.min(Pe.length,We.length);oe<Ye&&Pe.charCodeAt(oe)==We.charCodeAt(oe);)++oe;for(var st=M(X),Je=M(de),lt=Math.min(st.length-(1==X.length?oe:0),Je.length-(1==de.length?oe:0));De<lt&&st.charCodeAt(st.length-De-1)==Je.charCodeAt(Je.length-De-1);)++De;if(1==X.length&&1==de.length&&v==d.line)for(;oe&&oe>d.ch&&st.charCodeAt(st.length-De-1)==Je.charCodeAt(Je.length-De-1);)oe--,De++;X[X.length-1]=st.slice(0,st.length-De).replace(/^\u200b+/,""),X[0]=X[0].slice(oe).replace(/\u200b+$/,"");var _t=C(v,oe),vt=C(S,de.length?M(de).length-De:0);return X.length>1||X[0]||F(_t,vt)?(xa(o.doc,X,_t,vt,"+input"),!0):void 0},wn.prototype.ensurePolled=function(){this.forceCompositionEnd()},wn.prototype.reset=function(){this.forceCompositionEnd()},wn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},wn.prototype.readFromDOMSoon=function(){var o=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(o.readDOMTimeout=null,o.composing){if(!o.composing.done)return;o.composing=null}o.updateFromDOM()},80))},wn.prototype.updateFromDOM=function(){var o=this;(this.cm.isReadOnly()||!this.pollContent())&&Dr(this.cm,function(){return ri(o.cm)})},wn.prototype.setUneditable=function(o){o.contentEditable="false"},wn.prototype.onKeyPress=function(o){0==o.charCode||this.composing||(o.preventDefault(),this.cm.isReadOnly()||Zn(this.cm,Wc)(this.cm,String.fromCharCode(null==o.charCode?o.keyCode:o.charCode),0))},wn.prototype.readOnlyChanged=function(o){this.div.contentEditable=String("nocursor"!=o)},wn.prototype.onContextMenu=function(){},wn.prototype.resetPosition=function(){},wn.prototype.needsContentAttribute=!0;var er=function(o){this.cm=o,this.prevInput="",this.pollingFast=!1,this.polling=new He,this.hasSelection=!1,this.composing=null,this.resetting=!1};er.prototype.init=function(o){var l=this,h=this,d=this.cm;this.createField(o);var f=this.textarea;function m(v){if(!xn(d,v)){if(d.somethingSelected())Na({lineWise:!1,text:d.getSelections()});else{if(!d.options.lineWiseCopyCut)return;var y=k_(d);Na({lineWise:!0,text:y.text}),"cut"==v.type?d.setSelections(y.ranges,null,ft):(h.prevInput="",f.value=y.text.join("\n"),_e(f))}"cut"==v.type&&(d.state.cutIncoming=+new Date)}}o.wrapper.insertBefore(this.wrapper,o.wrapper.firstChild),Q&&(f.style.width="0px"),bt(f,"input",function(){N&&ee>=9&&l.hasSelection&&(l.hasSelection=null),h.poll()}),bt(f,"paste",function(v){xn(d,v)||zf(v,d)||(d.state.pasteIncoming=+new Date,h.fastPoll())}),bt(f,"cut",m),bt(f,"copy",m),bt(o.scroller,"paste",function(v){if(!$r(o,v)&&!xn(d,v)){if(!f.dispatchEvent)return d.state.pasteIncoming=+new Date,void h.focus();var y=new Event("paste");y.clipboardData=v.clipboardData,f.dispatchEvent(y)}}),bt(o.lineSpace,"selectstart",function(v){$r(o,v)||Er(v)}),bt(f,"compositionstart",function(){var v=d.getCursor("from");h.composing&&h.composing.range.clear(),h.composing={start:v,range:d.markText(v,d.getCursor("to"),{className:"CodeMirror-composing"})}}),bt(f,"compositionend",function(){h.composing&&(h.poll(),h.composing.range.clear(),h.composing=null)})},er.prototype.createField=function(o){this.wrapper=Ll(),this.textarea=this.wrapper.firstChild;var l=this.cm.options;Uo(this.textarea,l.spellcheck,l.autocorrect,l.autocapitalize)},er.prototype.screenReaderLabelChanged=function(o){o?this.textarea.setAttribute("aria-label",o):this.textarea.removeAttribute("aria-label")},er.prototype.prepareSelection=function(){var o=this.cm,l=o.display,h=o.doc,d=Jt(o);if(o.options.moveInputWithCursor){var f=zi(o,h.sel.primary().head,"div"),m=l.wrapper.getBoundingClientRect(),v=l.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,f.top+v.top-m.top)),d.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,f.left+v.left-m.left))}return d},er.prototype.showSelection=function(o){var h=this.cm.display;D(h.cursorDiv,o.cursors),D(h.selectionDiv,o.selection),null!=o.teTop&&(this.wrapper.style.top=o.teTop+"px",this.wrapper.style.left=o.teLeft+"px")},er.prototype.reset=function(o){if(!(this.contextMenuPending||this.composing&&o)){var l=this.cm;if(this.resetting=!0,l.somethingSelected()){this.prevInput="";var h=l.getSelection();this.textarea.value=h,l.state.focused&&_e(this.textarea),N&&ee>=9&&(this.hasSelection=h)}else o||(this.prevInput=this.textarea.value="",N&&ee>=9&&(this.hasSelection=null));this.resetting=!1}},er.prototype.getField=function(){return this.textarea},er.prototype.supportsTouch=function(){return!1},er.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!z||ce(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch{}},er.prototype.blur=function(){this.textarea.blur()},er.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},er.prototype.receivedFocus=function(){this.slowPoll()},er.prototype.slowPoll=function(){var o=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){o.poll(),o.cm.state.focused&&o.slowPoll()})},er.prototype.fastPoll=function(){var o=!1,l=this;l.pollingFast=!0,l.polling.set(20,function h(){l.poll()||o?(l.pollingFast=!1,l.slowPoll()):(o=!0,l.polling.set(60,h))})},er.prototype.poll=function(){var o=this,l=this.cm,h=this.textarea,d=this.prevInput;if(this.contextMenuPending||this.resetting||!l.state.focused||kr(h)&&!d&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var f=h.value;if(f==d&&!l.somethingSelected())return!1;if(N&&ee>=9&&this.hasSelection===f||L&&/[\uf700-\uf7ff]/.test(f))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var m=f.charCodeAt(0);if(8203==m&&!d&&(d="\u200b"),8666==m)return this.reset(),this.cm.execCommand("undo")}for(var v=0,y=Math.min(d.length,f.length);v<y&&d.charCodeAt(v)==f.charCodeAt(v);)++v;return Dr(l,function(){Wc(l,f.slice(v),d.length-v,null,o.composing?"*compose":null),f.length>1e3||f.indexOf("\n")>-1?h.value=o.prevInput="":o.prevInput=f,o.composing&&(o.composing.range.clear(),o.composing.range=l.markText(o.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},er.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},er.prototype.onKeyPress=function(){N&&ee>=9&&(this.hasSelection=null),this.fastPoll()},er.prototype.onContextMenu=function(o){var l=this,h=l.cm,d=h.display,f=l.textarea;l.contextMenuPending&&l.contextMenuPending();var m=bn(h,o),v=d.scroller.scrollTop;if(m&&!j){h.options.resetSelectionOnContextMenu&&-1==h.doc.sel.contains(m)&&Zn(h,Tr)(h.doc,Ta(m),ft);var X,b=f.style.cssText,S=l.wrapper.style.cssText,U=l.wrapper.offsetParent.getBoundingClientRect();if(l.wrapper.style.cssText="position: static",f.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(o.clientY-U.top-5)+"px; left: "+(o.clientX-U.left-5)+"px;\n      z-index: 1000; background: "+(N?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",te&&(X=f.ownerDocument.defaultView.scrollY),d.input.focus(),te&&f.ownerDocument.defaultView.scrollTo(null,X),d.input.reset(),h.somethingSelected()||(f.value=l.prevInput=" "),l.contextMenuPending=oe,d.selForContextMenu=h.doc.sel,clearTimeout(d.detectingSelectAll),N&&ee>=9&&de(),Fe){ns(o);var De=function(){Lt(window,"mouseup",De),setTimeout(oe,20)};bt(window,"mouseup",De)}else setTimeout(oe,50)}function de(){if(null!=f.selectionStart){var Pe=h.somethingSelected(),We="\u200b"+(Pe?f.value:"");f.value="\u21da",f.value=We,l.prevInput=Pe?"":"\u200b",f.selectionStart=1,f.selectionEnd=We.length,d.selForContextMenu=h.doc.sel}}function oe(){if(l.contextMenuPending==oe&&(l.contextMenuPending=!1,l.wrapper.style.cssText=S,f.style.cssText=b,N&&ee<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=v),null!=f.selectionStart)){(!N||N&&ee<9)&&de();var Pe=0,We=function(){d.selForContextMenu==h.doc.sel&&0==f.selectionStart&&f.selectionEnd>0&&"\u200b"==l.prevInput?Zn(h,i_)(h):Pe++<10?d.detectingSelectAll=setTimeout(We,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(We,200)}}},er.prototype.readOnlyChanged=function(o){o||this.reset(),this.textarea.disabled="nocursor"==o,this.textarea.readOnly=!!o},er.prototype.setUneditable=function(){},er.prototype.needsContentAttribute=!1,function nC(o){var l=o.optionHandlers;function h(d,f,m,v){o.defaults[d]=f,m&&(l[d]=v?function(y,b,S){S!=Pl&&m(y,b,S)}:m)}o.defineOption=h,o.Init=Pl,h("value","",function(d,f){return d.setValue(f)},!0),h("mode",null,function(d,f){d.doc.modeOption=f,qm(d)},!0),h("indentUnit",2,qm,!0),h("indentWithTabs",!1),h("smartIndent",!0),h("tabSize",4,function(d){ur(d),to(d),ri(d)},!0),h("lineSeparator",null,function(d,f){if(d.doc.lineSep=f,f){var m=[],v=d.doc.first;d.doc.iter(function(b){for(var S=0;;){var U=b.text.indexOf(f,S);if(-1==U)break;S=U+f.length,m.push(C(v,U))}v++});for(var y=m.length-1;y>=0;y--)xa(d.doc,f,m[y],C(m[y].line,m[y].ch+f.length))}}),h("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(d,f,m){d.state.specialChars=new RegExp(f.source+(f.test("\t")?"":"|\t"),"g"),m!=Pl&&d.refresh()}),h("specialCharPlaceholder",Zh,function(d){return d.refresh()},!0),h("electricChars",!0),h("inputStyle",z?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),h("spellcheck",!1,function(d,f){return d.getInputField().spellcheck=f},!0),h("autocorrect",!1,function(d,f){return d.getInputField().autocorrect=f},!0),h("autocapitalize",!1,function(d,f){return d.getInputField().autocapitalize=f},!0),h("rtlMoveVisually",!fe),h("wholeLineUpdateBefore",!0),h("theme","default",function(d){zn(d),ld(d)},!0),h("keyMap","default",function(d,f,m){var v=md(f),y=m!=Pl&&md(m);y&&y.detach&&y.detach(d,v),v.attach&&v.attach(d,y||null)}),h("extraKeys",null),h("configureMouse",null),h("lineWrapping",!1,A_,!0),h("gutters",[],function(d,f){d.display.gutterSpecs=Gm(f,d.options.lineNumbers),ld(d)},!0),h("fixedGutter",!0,function(d,f){d.display.gutters.style.left=f?hf(d.display)+"px":"0",d.refresh()},!0),h("coverGutterNextToScrollbar",!1,function(d){return si(d)},!0),h("scrollbarStyle","native",function(d){io(d),si(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),h("lineNumbers",!1,function(d,f){d.display.gutterSpecs=Gm(d.options.gutters,f),ld(d)},!0),h("firstLineNumber",1,ld,!0),h("lineNumberFormatter",function(d){return d},ld,!0),h("showCursorWhenSelecting",!1,Mr,!0),h("resetSelectionOnContextMenu",!0),h("lineWiseCopyCut",!0),h("pasteLinesPerSelection",!0),h("selectionsMayTouch",!1),h("readOnly",!1,function(d,f){"nocursor"==f&&(yl(d),d.display.input.blur()),d.display.input.readOnlyChanged(f)}),h("screenReaderLabel",null,function(d,f){d.display.input.screenReaderLabelChanged(f=""===f?null:f)}),h("disableInput",!1,function(d,f){f||d.display.input.reset()},!0),h("dragDrop",!0,I_),h("allowDropFileTypes",null),h("cursorBlinkRate",530),h("cursorScrollMargin",0),h("cursorHeight",1,Mr,!0),h("singleCursorHeightPerLine",!0,Mr,!0),h("workTime",100),h("workDelay",100),h("flattenSpans",!0,ur,!0),h("addModeClass",!1,ur,!0),h("pollInterval",100),h("undoDepth",200,function(d,f){return d.doc.history.undoDepth=f}),h("historyEventDelay",1250),h("viewportMargin",10,function(d){return d.refresh()},!0),h("maxHighlightLength",1e4,ur,!0),h("moveInputWithCursor",!0,function(d,f){f||d.display.input.resetPosition()}),h("tabindex",null,function(d,f){return d.display.input.getField().tabIndex=f||""}),h("autofocus",null),h("direction","ltr",function(d,f){return d.doc.setDirection(f)},!0),h("phrases",null)}(Sn),function rC(o){var l=o.optionHandlers,h=o.helpers={};o.prototype={constructor:o,focus:function(){it(this).focus(),this.display.input.focus()},setOption:function(d,f){var m=this.options,v=m[d];m[d]==f&&"mode"!=d||(m[d]=f,l.hasOwnProperty(d)&&Zn(this,l[d])(this,f,v),Pn(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,f){this.state.keyMaps[f?"push":"unshift"](md(d))},removeKeyMap:function(d){for(var f=this.state.keyMaps,m=0;m<f.length;++m)if(f[m]==d||f[m].name==d)return f.splice(m,1),!0},addOverlay:fn(function(d,f){var m=d.token?d:o.getMode(this.options,d);if(m.startState)throw new Error("Overlays may not be stateful.");(function Me(o,l,h){for(var d=0,f=h(l);d<o.length&&h(o[d])<=f;)d++;o.splice(d,0,l)})(this.state.overlays,{mode:m,modeSpec:d,opaque:f&&f.opaque,priority:f&&f.priority||0},function(v){return v.priority}),this.state.modeGen++,ri(this)}),removeOverlay:fn(function(d){for(var f=this.state.overlays,m=0;m<f.length;++m){var v=f[m].modeSpec;if(v==d||"string"==typeof d&&v.name==d)return f.splice(m,1),this.state.modeGen++,void ri(this)}}),indentLine:fn(function(d,f,m){"string"!=typeof f&&"number"!=typeof f&&(f=null==f?this.options.smartIndent?"smart":"prev":f?"add":"subtract"),ba(this.doc,d)&&Bo(this,d,f,m)}),indentSelection:fn(function(d){for(var f=this.doc.sel.ranges,m=-1,v=0;v<f.length;v++){var y=f[v];if(y.empty())y.head.line>m&&(Bo(this,y.head.line,d,!0),m=y.head.line,v==this.doc.sel.primIndex&&as(this));else{var b=y.from(),S=y.to(),U=Math.max(m,b.line);m=Math.min(this.lastLine(),S.line-(S.ch?0:1))+1;for(var X=U;X<m;++X)Bo(this,X,d);var de=this.doc.sel.ranges;0==b.ch&&f.length==de.length&&de[v].from().ch>0&&e_(this.doc,v,new dn(b,de[v].to()),ft)}}}),getTokenAt:function(d,f){return An(this,d,f)},getLineTokens:function(d,f){return An(this,C(d),f,!0)},getTokenTypeAt:function(d){d=at(this.doc,d);var b,f=Sm(this,ut(this.doc,d.line)),m=0,v=(f.length-1)/2,y=d.ch;if(0==y)b=f[2];else for(;;){var S=m+v>>1;if((S?f[2*S-1]:0)>=y)v=S;else{if(!(f[2*S+1]<y)){b=f[2*S+2];break}m=S+1}}var U=b?b.indexOf("overlay "):-1;return U<0?b:0==U?null:b.slice(0,U-1)},getModeAt:function(d){var f=this.doc.mode;return f.innerMode?o.innerMode(f,this.getTokenAt(d).state).mode:f},getHelper:function(d,f){return this.getHelpers(d,f)[0]},getHelpers:function(d,f){var m=[];if(!h.hasOwnProperty(f))return m;var v=h[f],y=this.getModeAt(d);if("string"==typeof y[f])v[y[f]]&&m.push(v[y[f]]);else if(y[f])for(var b=0;b<y[f].length;b++){var S=v[y[f][b]];S&&m.push(S)}else y.helperType&&v[y.helperType]?m.push(v[y.helperType]):v[y.name]&&m.push(v[y.name]);for(var U=0;U<v._global.length;U++){var X=v._global[U];X.pred(y,this)&&-1==xe(m,X.val)&&m.push(X.val)}return m},getStateAfter:function(d,f){var m=this.doc;return ln(this,(d=an(m,d??m.first+m.size-1))+1,f).state},cursorCoords:function(d,f){var v=this.doc.sel.primary();return zi(this,null==d?v.head:"object"==typeof d?at(this.doc,d):d?v.from():v.to(),f||"page")},charCoords:function(d,f){return ko(this,at(this.doc,d),f||"page")},coordsChar:function(d,f){return td(this,(d=cf(this,d,f||"page")).left,d.top)},lineAtHeight:function(d,f){return d=cf(this,{top:d,left:0},f||"page").top,Ms(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,f,m){var y,v=!1;if("number"==typeof d){var b=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>b&&(d=b,v=!0),y=ut(this.doc,d)}else y=d;return Pc(this,y,{top:0,left:0},f||"page",m||v).top+(v?this.doc.height-Hi(y):0)},defaultTextHeight:function(){return gl(this.display)},defaultCharWidth:function(){return ml(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,f,m,v,y){var b=this.display,S=(d=zi(this,at(this.doc,d))).bottom,U=d.left;if(f.style.position="absolute",f.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(f),b.sizer.appendChild(f),"over"==v)S=d.top;else if("above"==v||"near"==v){var X=Math.max(b.wrapper.clientHeight,this.doc.height),de=Math.max(b.sizer.clientWidth,b.lineSpace.clientWidth);("above"==v||d.bottom+f.offsetHeight>X)&&d.top>f.offsetHeight?S=d.top-f.offsetHeight:d.bottom+f.offsetHeight<=X&&(S=d.bottom),U+f.offsetWidth>de&&(U=de-f.offsetWidth)}f.style.top=S+"px",f.style.left=f.style.right="","right"==y?(U=b.sizer.clientWidth-f.offsetWidth,f.style.right="0px"):("left"==y?U=0:"middle"==y&&(U=(b.sizer.clientWidth-f.offsetWidth)/2),f.style.left=U+"px"),m&&function os(o,l){var h=Sa(o,l);null!=h.scrollTop&&ro(o,h.scrollTop),null!=h.scrollLeft&&Wi(o,h.scrollLeft)}(this,{left:U,top:S,right:U+f.offsetWidth,bottom:S+f.offsetHeight})},triggerOnKeyDown:fn(Bs),triggerOnKeyPress:fn(y_),triggerOnKeyUp:Lf,triggerOnMouseDown:fn(b_),execCommand:function(d){if(xl.hasOwnProperty(d))return xl[d].call(null,this)},triggerElectric:fn(function(d){Wf(this,d)}),findPosH:function(d,f,m,v){var y=1;f<0&&(y=-1,f=-f);for(var b=at(this.doc,d),S=0;S<f&&!(b=x_(this.doc,b,y,m,v)).hitSide;++S);return b},moveH:fn(function(d,f){var m=this;this.extendSelectionsBy(function(v){return m.display.shift||m.doc.extend||v.empty()?x_(m.doc,v.head,d,f,m.options.rtlMoveVisually):d<0?v.from():v.to()},E)}),deleteH:fn(function(d,f){var v=this.doc;this.doc.sel.somethingSelected()?v.replaceSelection("",null,"+delete"):je(this,function(y){var b=x_(v,y.head,d,f,!1);return d<0?{from:b,to:y.head}:{from:y.head,to:b}})}),findPosV:function(d,f,m,v){var y=1,b=v;f<0&&(y=-1,f=-f);for(var S=at(this.doc,d),U=0;U<f;++U){var X=zi(this,S,"div");if(null==b?b=X.left:X.left=b,(S=yd(this,X,y,m)).hitSide)break}return S},moveV:fn(function(d,f){var m=this,v=this.doc,y=[],b=!this.display.shift&&!v.extend&&v.sel.somethingSelected();if(v.extendSelectionsBy(function(U){if(b)return d<0?U.from():U.to();var X=zi(m,U.head,"div");null!=U.goalColumn&&(X.left=U.goalColumn),y.push(X.left);var de=yd(m,X,d,f);return"page"==f&&U==v.sel.primary()&&Or(m,ko(m,de,"div").top-X.top),de},E),y.length)for(var S=0;S<v.sel.ranges.length;S++)v.sel.ranges[S].goalColumn=y[S]}),findWordAt:function(d){var m=ut(this.doc,d.line).text,v=d.ch,y=d.ch;if(m){var b=this.getHelper(d,"wordChars");"before"!=d.sticky&&y!=m.length||!v?++y:--v;for(var S=m.charAt(v),U=pe(S,b)?function(X){return pe(X,b)}:/\s/.test(S)?function(X){return/\s/.test(X)}:function(X){return!/\s/.test(X)&&!pe(X)};v>0&&U(m.charAt(v-1));)--v;for(;y<m.length&&U(m.charAt(y));)++y}return new dn(C(d.line,v),C(d.line,y))},toggleOverwrite:function(d){null!=d&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Ie(this.display.cursorDiv,"CodeMirror-overwrite"):G(this.display.cursorDiv,"CodeMirror-overwrite"),Pn(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ce(ct(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:fn(function(d,f){Ln(this,d,f)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-nt(this)-this.display.barHeight,width:d.scrollWidth-nt(this)-this.display.barWidth,clientHeight:Rc(this),clientWidth:Rs(this)}},scrollIntoView:fn(function(d,f){null==d?(d={from:this.doc.sel.primary().head,to:null},null==f&&(f=this.options.cursorScrollMargin)):"number"==typeof d?d={from:C(d,0),to:null}:null==d.from&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=f||0,null!=d.from.line?function Mo(o,l){no(o),o.curOp.scrollToPos=l}(this,d):Nt(this,d.from,d.to,d.margin)}),setSize:fn(function(d,f){var m=this,v=function(b){return"number"==typeof b||/^\d+$/.test(String(b))?b+"px":b};null!=d&&(this.display.wrapper.style.width=v(d)),null!=f&&(this.display.wrapper.style.height=v(f)),this.options.lineWrapping&&Os(this);var y=this.display.viewFrom;this.doc.iter(y,this.display.viewTo,function(b){if(b.widgets)for(var S=0;S<b.widgets.length;S++)if(b.widgets[S].noHScroll){xo(m,y,"widget");break}++y}),this.curOp.forceUpdate=!0,Pn(this,"refresh",this)}),operation:function(d){return Dr(this,d)},startOperation:function(){return cs(this)},endOperation:function(){return us(this)},refresh:fn(function(){var d=this.display.cachedTextHeight;ri(this),this.curOp.forceUpdate=!0,to(this),Ln(this,this.doc.scrollLeft,this.doc.scrollTop),yf(this.display),(null==d||Math.abs(d-gl(this.display))>.5||this.options.lineWrapping)&&ff(this),Pn(this,"refresh",this)}),swapDoc:fn(function(d){var f=this.doc;return f.cm=null,this.state.selectingText&&this.state.selectingText(),Cf(this,d),to(this),this.display.input.reset(),Ln(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,lr(this,"swapDoc",this,f),f}),phrase:function(d){var f=this.options.phrases;return f&&Object.prototype.hasOwnProperty.call(f,d)?f[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Do(o),o.registerHelper=function(d,f,m){h.hasOwnProperty(d)||(h[d]=o[d]={_global:[]}),h[d][f]=m},o.registerGlobalHelper=function(d,f,m,v){o.registerHelper(d,f,v),h[d]._global.push({pred:m,val:v})}}(Sn);var bd="iter insert remove copy getEditor constructor".split(" ");for(var Gf in ai.prototype)ai.prototype.hasOwnProperty(Gf)&&xe(bd,Gf)<0&&(Sn.prototype[Gf]=function(o){return function(){return o.apply(this.doc,arguments)}}(ai.prototype[Gf]));return Do(ai),Sn.inputStyles={textarea:er,contenteditable:wn},Sn.defineMode=function(o){!Sn.defaults.mode&&"null"!=o&&(Sn.defaults.mode=o),Js.apply(this,arguments)},Sn.defineMIME=function Hh(o,l){ks[o]=l},Sn.defineMode("null",function(){return{token:function(o){return o.skipToEnd()}}}),Sn.defineMIME("text/plain","null"),Sn.defineExtension=function(o,l){Sn.prototype[o]=l},Sn.defineDocExtension=function(o,l){ai.prototype[o]=l},Sn.fromTextArea=function qc(o,l){if((l=l?Vt(l):{}).value=o.value,!l.tabindex&&o.tabIndex&&(l.tabindex=o.tabIndex),!l.placeholder&&o.placeholder&&(l.placeholder=o.placeholder),null==l.autofocus){var h=ce(o.ownerDocument);l.autofocus=h==o||null!=o.getAttribute("autofocus")&&h==document.body}function d(){o.value=y.getValue()}var f;if(o.form&&(bt(o.form,"submit",d),!l.leaveSubmitMethodAlone)){var m=o.form;f=m.submit;try{var v=m.submit=function(){d(),m.submit=f,m.submit(),m.submit=v}}catch{}}l.finishInit=function(b){b.save=d,b.getTextArea=function(){return o},b.toTextArea=function(){b.toTextArea=isNaN,d(),o.parentNode.removeChild(b.getWrapperElement()),o.style.display="",o.form&&(Lt(o.form,"submit",d),!l.leaveSubmitMethodAlone&&"function"==typeof o.form.submit&&(o.form.submit=f))}},o.style.display="none";var y=Sn(function(b){return o.parentNode.insertBefore(b,o.nextSibling)},l);return y},function $f(o){o.off=Lt,o.on=bt,o.wheelEventPixels=Rk,o.Doc=ai,o.splitLines=ya,o.countColumn=St,o.findColumn=ke,o.isWordChar=ne,o.Pass=Xe,o.signal=Pn,o.Line=fl,o.changeEnd=Ia,o.scrollbarModel=mf,o.Pos=C,o.cmpPos=F,o.modes=As,o.mimeModes=ks,o.resolveMode=ni,o.getMode=To,o.modeExtensions=on,o.extendMode=Vi,o.copyState=xr,o.startState=Wu,o.innerMode=Ec,o.commands=xl,o.keyMap=uo,o.keyName=__,o.isModifierKey=g_,o.lookupKey=kl,o.normalizeKeyMap=Al,o.StringStream=In,o.SharedTextMarker=No,o.TextMarker=hn,o.LineWidget=jc,o.e_preventDefault=Er,o.e_stopPropagation=ts,o.e_stop=ns,o.addClass=Ie,o.contains=Oe,o.rmClass=G,o.keyNames=co}(Sn),Sn.version="5.65.15",Sn}()},305:(Ds,ie,Le)=>{!function(V){"use strict";function K(G){for(var ue={},D=0;D<G.length;++D)ue[G[D].toLowerCase()]=!0;return ue}V.defineMode("css",function(G,ue){var D=ue.inline;ue.propertyKeywords||(ue=V.resolveMode("text/css"));var Xe,ft,H=G.indentUnit,Be=ue.tokenHooks,T=ue.documentTypes||{},Oe=ue.mediaTypes||{},ce=ue.mediaFeatures||{},Ie=ue.mediaValueKeywords||{},ve=ue.propertyKeywords||{},_e=ue.nonStandardPropertyKeywords||{},ct=ue.fontProperties||{},it=ue.counterDescriptors||{},Ne=ue.colorKeywords||{},Vt=ue.valueKeywords||{},St=ue.allowNested,xe=!0===ue.supportsAtComponent,mt=!1!==G.highlightNonStandardPropertyKeywords;function pt(ne,pe){return Xe=pe,ne}function E(ne,pe){var he=ne.next();if(Be[he]){var dt=Be[he](ne,pe);if(!1!==dt)return dt}return"@"==he?(ne.eatWhile(/[\w\\\-]/),pt("def",ne.current())):"="==he||("~"==he||"|"==he)&&ne.eat("=")?pt(null,"compare"):'"'==he||"'"==he?(pe.tokenize=ke(he),pe.tokenize(ne,pe)):"#"==he?(ne.eatWhile(/[\w\\\-]/),pt("atom","hash")):"!"==he?(ne.match(/^\s*\w*/),pt("keyword","important")):/\d/.test(he)||"."==he&&ne.eat(/\d/)?(ne.eatWhile(/[\w.%]/),pt("number","unit")):"-"!==he?/[,+>*\/]/.test(he)?pt(null,"select-op"):"."==he&&ne.match(/^-?[_a-z][_a-z0-9-]*/i)?pt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(he)?pt(null,he):ne.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(ne.current())&&(pe.tokenize=we),pt("variable callee","variable")):/[\w\\\-]/.test(he)?(ne.eatWhile(/[\w\\\-]/),pt("property","word")):pt(null,null):/[\d.]/.test(ne.peek())?(ne.eatWhile(/[\w.%]/),pt("number","unit")):ne.match(/^-[\w\\\-]*/)?(ne.eatWhile(/[\w\\\-]/),ne.match(/^\s*:/,!1)?pt("variable-2","variable-definition"):pt("variable-2","variable")):ne.match(/^\w+-/)?pt("meta","meta"):void 0}function ke(ne){return function(pe,he){for(var It,dt=!1;null!=(It=pe.next());){if(It==ne&&!dt){")"==ne&&pe.backUp(1);break}dt=!dt&&"\\"==It}return(It==ne||!dt&&")"!=ne)&&(he.tokenize=null),pt("string","string")}}function we(ne,pe){return ne.next(),pe.tokenize=ne.match(/^\s*[\"\')]/,!1)?null:ke(")"),pt(null,"(")}function Y(ne,pe,he){this.type=ne,this.indent=pe,this.prev=he}function M(ne,pe,he,dt){return ne.context=new Y(he,pe.indentation()+(!1===dt?0:H),ne.context),he}function se(ne){return ne.context.prev&&(ne.context=ne.context.prev),ne.context.type}function Me(ne,pe,he){return Ve[he.context.type](ne,pe,he)}function Ue(ne,pe,he,dt){for(var It=dt||1;It>0;It--)he.context=he.context.prev;return Me(ne,pe,he)}function ye(ne){var pe=ne.current().toLowerCase();ft=Vt.hasOwnProperty(pe)?"atom":Ne.hasOwnProperty(pe)?"keyword":"variable"}var Ve={top:function(ne,pe,he){if("{"==ne)return M(he,pe,"block");if("}"==ne&&he.context.prev)return se(he);if(xe&&/@component/i.test(ne))return M(he,pe,"atComponentBlock");if(/^@(-moz-)?document$/i.test(ne))return M(he,pe,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(ne))return M(he,pe,"atBlock");if(/^@(font-face|counter-style)/i.test(ne))return he.stateArg=ne,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(ne))return"keyframes";if(ne&&"@"==ne.charAt(0))return M(he,pe,"at");if("hash"==ne)ft="builtin";else if("word"==ne)ft="tag";else{if("variable-definition"==ne)return"maybeprop";if("interpolation"==ne)return M(he,pe,"interpolation");if(":"==ne)return"pseudo";if(St&&"("==ne)return M(he,pe,"parens")}return he.context.type},block:function(ne,pe,he){if("word"==ne){var dt=pe.current().toLowerCase();return ve.hasOwnProperty(dt)?(ft="property","maybeprop"):_e.hasOwnProperty(dt)?(ft=mt?"string-2":"property","maybeprop"):St?(ft=pe.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(ft+=" error","maybeprop")}return"meta"==ne?"block":St||"hash"!=ne&&"qualifier"!=ne?Ve.top(ne,pe,he):(ft="error","block")},maybeprop:function(ne,pe,he){return":"==ne?M(he,pe,"prop"):Me(ne,pe,he)},prop:function(ne,pe,he){if(";"==ne)return se(he);if("{"==ne&&St)return M(he,pe,"propBlock");if("}"==ne||"{"==ne)return Ue(ne,pe,he);if("("==ne)return M(he,pe,"parens");if("hash"!=ne||/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(pe.current())){if("word"==ne)ye(pe);else if("interpolation"==ne)return M(he,pe,"interpolation")}else ft+=" error";return"prop"},propBlock:function(ne,pe,he){return"}"==ne?se(he):"word"==ne?(ft="property","maybeprop"):he.context.type},parens:function(ne,pe,he){return"{"==ne||"}"==ne?Ue(ne,pe,he):")"==ne?se(he):"("==ne?M(he,pe,"parens"):"interpolation"==ne?M(he,pe,"interpolation"):("word"==ne&&ye(pe),"parens")},pseudo:function(ne,pe,he){return"meta"==ne?"pseudo":"word"==ne?(ft="variable-3",he.context.type):Me(ne,pe,he)},documentTypes:function(ne,pe,he){return"word"==ne&&T.hasOwnProperty(pe.current())?(ft="tag",he.context.type):Ve.atBlock(ne,pe,he)},atBlock:function(ne,pe,he){if("("==ne)return M(he,pe,"atBlock_parens");if("}"==ne||";"==ne)return Ue(ne,pe,he);if("{"==ne)return se(he)&&M(he,pe,St?"block":"top");if("interpolation"==ne)return M(he,pe,"interpolation");if("word"==ne){var dt=pe.current().toLowerCase();ft="only"==dt||"not"==dt||"and"==dt||"or"==dt?"keyword":Oe.hasOwnProperty(dt)?"attribute":ce.hasOwnProperty(dt)?"property":Ie.hasOwnProperty(dt)?"keyword":ve.hasOwnProperty(dt)?"property":_e.hasOwnProperty(dt)?mt?"string-2":"property":Vt.hasOwnProperty(dt)?"atom":Ne.hasOwnProperty(dt)?"keyword":"error"}return he.context.type},atComponentBlock:function(ne,pe,he){return"}"==ne?Ue(ne,pe,he):"{"==ne?se(he)&&M(he,pe,St?"block":"top",!1):("word"==ne&&(ft="error"),he.context.type)},atBlock_parens:function(ne,pe,he){return")"==ne?se(he):"{"==ne||"}"==ne?Ue(ne,pe,he,2):Ve.atBlock(ne,pe,he)},restricted_atBlock_before:function(ne,pe,he){return"{"==ne?M(he,pe,"restricted_atBlock"):"word"==ne&&"@counter-style"==he.stateArg?(ft="variable","restricted_atBlock_before"):Me(ne,pe,he)},restricted_atBlock:function(ne,pe,he){return"}"==ne?(he.stateArg=null,se(he)):"word"==ne?(ft="@font-face"==he.stateArg&&!ct.hasOwnProperty(pe.current().toLowerCase())||"@counter-style"==he.stateArg&&!it.hasOwnProperty(pe.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(ne,pe,he){return"word"==ne?(ft="variable","keyframes"):"{"==ne?M(he,pe,"top"):Me(ne,pe,he)},at:function(ne,pe,he){return";"==ne?se(he):"{"==ne||"}"==ne?Ue(ne,pe,he):("word"==ne?ft="tag":"hash"==ne&&(ft="builtin"),"at")},interpolation:function(ne,pe,he){return"}"==ne?se(he):"{"==ne||";"==ne?Ue(ne,pe,he):("word"==ne?ft="variable":"variable"!=ne&&"("!=ne&&")"!=ne&&(ft="error"),"interpolation")}};return{startState:function(ne){return{tokenize:null,state:D?"block":"top",stateArg:null,context:new Y(D?"block":"top",ne||0,null)}},token:function(ne,pe){if(!pe.tokenize&&ne.eatSpace())return null;var he=(pe.tokenize||E)(ne,pe);return he&&"object"==typeof he&&(Xe=he[1],he=he[0]),ft=he,"comment"!=Xe&&(pe.state=Ve[pe.state](Xe,ne,pe)),ft},indent:function(ne,pe){var he=ne.context,dt=pe&&pe.charAt(0),It=he.indent;return"prop"==he.type&&("}"==dt||")"==dt)&&(he=he.prev),he.prev&&("}"!=dt||"block"!=he.type&&"top"!=he.type&&"interpolation"!=he.type&&"restricted_atBlock"!=he.type?(")"==dt&&("parens"==he.type||"atBlock_parens"==he.type)||"{"==dt&&("at"==he.type||"atBlock"==he.type))&&(It=Math.max(0,he.indent-H)):It=(he=he.prev).indent),It},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:ue.lineComment,fold:"brace"}});var W=["domain","regexp","url","url-prefix"],O=K(W),N=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],ee=K(N),te=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],re=K(te),J=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],x=K(J),j=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],k=K(j),$=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],B=K($),P=K(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),L=K(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),ae=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],fe=K(ae),Ee=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],ge=K(Ee),Fe=W.concat(N).concat(te).concat(J).concat(j).concat($).concat(ae).concat(Ee);function Ke(G,ue){for(var H,D=!1;null!=(H=G.next());){if(D&&"/"==H){ue.tokenize=null;break}D="*"==H}return["comment","comment"]}V.registerHelper("hintWords","css",Fe),V.defineMIME("text/css",{documentTypes:O,mediaTypes:ee,mediaFeatures:re,mediaValueKeywords:x,propertyKeywords:k,nonStandardPropertyKeywords:B,fontProperties:P,counterDescriptors:L,colorKeywords:fe,valueKeywords:ge,tokenHooks:{"/":function(G,ue){return!!G.eat("*")&&(ue.tokenize=Ke,Ke(G,ue))}},name:"css"}),V.defineMIME("text/x-scss",{mediaTypes:ee,mediaFeatures:re,mediaValueKeywords:x,propertyKeywords:k,nonStandardPropertyKeywords:B,colorKeywords:fe,valueKeywords:ge,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(G,ue){return G.eat("/")?(G.skipToEnd(),["comment","comment"]):G.eat("*")?(ue.tokenize=Ke,Ke(G,ue)):["operator","operator"]},":":function(G){return!!G.match(/^\s*\{/,!1)&&[null,null]},$:function(G){return G.match(/^[\w-]+/),G.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(G){return!!G.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),V.defineMIME("text/x-less",{mediaTypes:ee,mediaFeatures:re,mediaValueKeywords:x,propertyKeywords:k,nonStandardPropertyKeywords:B,colorKeywords:fe,valueKeywords:ge,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(G,ue){return G.eat("/")?(G.skipToEnd(),["comment","comment"]):G.eat("*")?(ue.tokenize=Ke,Ke(G,ue)):["operator","operator"]},"@":function(G){return G.eat("{")?[null,"interpolation"]:!G.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(G.eatWhile(/[\w\\\-]/),G.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),V.defineMIME("text/x-gss",{documentTypes:O,mediaTypes:ee,mediaFeatures:re,propertyKeywords:k,nonStandardPropertyKeywords:B,fontProperties:P,counterDescriptors:L,colorKeywords:fe,valueKeywords:ge,supportsAtComponent:!0,tokenHooks:{"/":function(G,ue){return!!G.eat("*")&&(ue.tokenize=Ke,Ke(G,ue))}},name:"css",helperType:"gss"})}(Le(656))},312:(Ds,ie,Le)=>{!function(V){"use strict";var K={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var O={};function ee(x,j){var k=x.match(function N(x){return O[x]||(O[x]=new RegExp("\\s+"+x+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(j));return k?/^\s*(.*?)\s*$/.exec(k[2])[1]:""}function te(x,j){return new RegExp((j?"^":"")+"</\\s*"+x+"\\s*>","i")}function re(x,j){for(var k in x)for(var $=j[k]||(j[k]=[]),B=x[k],Q=B.length-1;Q>=0;Q--)$.unshift(B[Q])}V.defineMode("htmlmixed",function(x,j){var k=V.getMode(x,{name:"xml",htmlMode:!0,multilineTagIndentFactor:j.multilineTagIndentFactor,multilineTagIndentPastTag:j.multilineTagIndentPastTag,allowMissingTagName:j.allowMissingTagName}),$={},B=j&&j.tags,Q=j&&j.scriptTypes;if(re(K,$),B&&re(B,$),Q)for(var P=Q.length-1;P>=0;P--)$.script.unshift(["type",Q[P].matches,Q[P].mode]);function z(L,ae){var ge,fe=k.token(L,ae.htmlState),Ee=/\btag\b/.test(fe);if(Ee&&!/[<>\s\/]/.test(L.current())&&(ge=ae.htmlState.tagName&&ae.htmlState.tagName.toLowerCase())&&$.hasOwnProperty(ge))ae.inTag=ge+" ";else if(ae.inTag&&Ee&&/>$/.test(L.current())){var Fe=/^([\S]+) (.*)/.exec(ae.inTag);ae.inTag=null;var Ke=">"==L.current()&&function J(x,j){for(var k=0;k<x.length;k++){var $=x[k];if(!$[0]||$[1].test(ee(j,$[0])))return $[2]}}($[Fe[1]],Fe[2]),G=V.getMode(x,Ke),ue=te(Fe[1],!0),D=te(Fe[1],!1);ae.token=function(H,Be){return H.match(ue,!1)?(Be.token=z,Be.localState=Be.localMode=null,null):function W(x,j,k){var $=x.current(),B=$.search(j);return B>-1?x.backUp($.length-B):$.match(/<\/?$/)&&(x.backUp($.length),x.match(j,!1)||x.match($)),k}(H,D,Be.localMode.token(H,Be.localState))},ae.localMode=G,ae.localState=V.startState(G,k.indent(ae.htmlState,"",""))}else ae.inTag&&(ae.inTag+=L.current(),L.eol()&&(ae.inTag+=" "));return fe}return{startState:function(){return{token:z,inTag:null,localMode:null,localState:null,htmlState:V.startState(k)}},copyState:function(L){var ae;return L.localState&&(ae=V.copyState(L.localMode,L.localState)),{token:L.token,inTag:L.inTag,localMode:L.localMode,localState:ae,htmlState:V.copyState(k,L.htmlState)}},token:function(L,ae){return ae.token(L,ae)},indent:function(L,ae,fe){return!L.localMode||/^\s*<\//.test(ae)?k.indent(L.htmlState,ae,fe):L.localMode.indent?L.localMode.indent(L.localState,ae,fe):V.Pass},innerMode:function(L){return{state:L.localState||L.htmlState,mode:L.localMode||k}}}},"xml","javascript","css"),V.defineMIME("text/html","htmlmixed")}(Le(656),Le(193),Le(460),Le(305))},460:(Ds,ie,Le)=>{!function(V){"use strict";V.defineMode("javascript",function(K,W){var Q,P,O=K.indentUnit,N=W.statementIndent,ee=W.jsonld,te=W.json||ee,re=!1!==W.trackScope,J=W.typescript,x=W.wordCharacters||/[\w$\xa1-\uffff]/,j=function(){function C(at){return{type:at,style:"keyword"}}var F=C("keyword a"),Re=C("keyword b"),Ge=C("keyword c"),kt=C("keyword d"),Ct=C("operator"),an={type:"atom",style:"atom"};return{if:C("if"),while:F,with:F,else:Re,do:Re,try:Re,finally:Re,return:kt,break:kt,continue:kt,new:C("new"),delete:Ge,void:Ge,throw:Ge,debugger:C("debugger"),var:C("var"),const:C("var"),let:C("var"),function:C("function"),catch:C("catch"),for:C("for"),switch:C("switch"),case:C("case"),default:C("default"),in:Ct,typeof:Ct,instanceof:Ct,true:an,false:an,null:an,undefined:an,NaN:an,Infinity:an,this:C("this"),class:C("class"),super:C("atom"),yield:Ge,export:C("export"),import:C("import"),extends:Ge,await:Ge}}(),k=/[+\-*&%=<>!?|~^@]/,$=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function z(C,F,Re){return Q=C,P=Re,F}function L(C,F){var Re=C.next();if('"'==Re||"'"==Re)return F.tokenize=function ae(C){return function(F,Re){var kt,Ge=!1;if(ee&&"@"==F.peek()&&F.match($))return Re.tokenize=L,z("jsonld-keyword","meta");for(;null!=(kt=F.next())&&(kt!=C||Ge);)Ge=!Ge&&"\\"==kt;return Ge||(Re.tokenize=L),z("string","string")}}(Re),F.tokenize(C,F);if("."==Re&&C.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return z("number","number");if("."==Re&&C.match(".."))return z("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Re))return z(Re);if("="==Re&&C.eat(">"))return z("=>","operator");if("0"==Re&&C.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return z("number","number");if(/\d/.test(Re))return C.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),z("number","number");if("/"==Re)return C.eat("*")?(F.tokenize=fe,fe(C,F)):C.eat("/")?(C.skipToEnd(),z("comment","comment")):ul(C,F,1)?(function B(C){for(var Re,F=!1,Ge=!1;null!=(Re=C.next());){if(!F){if("/"==Re&&!Ge)return;"["==Re?Ge=!0:Ge&&"]"==Re&&(Ge=!1)}F=!F&&"\\"==Re}}(C),C.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),z("regexp","string-2")):(C.eat("="),z("operator","operator",C.current()));if("`"==Re)return F.tokenize=Ee,Ee(C,F);if("#"==Re&&"!"==C.peek())return C.skipToEnd(),z("meta","meta");if("#"==Re&&C.eatWhile(x))return z("variable","property");if("<"==Re&&C.match("!--")||"-"==Re&&C.match("->")&&!/\S/.test(C.string.slice(0,C.start)))return C.skipToEnd(),z("comment","comment");if(k.test(Re))return(">"!=Re||!F.lexical||">"!=F.lexical.type)&&(C.eat("=")?("!"==Re||"="==Re)&&C.eat("="):/[<>*+\-|&?]/.test(Re)&&(C.eat(Re),">"==Re&&C.eat(Re))),"?"==Re&&C.eat(".")?z("."):z("operator","operator",C.current());if(x.test(Re)){C.eatWhile(x);var Ge=C.current();if("."!=F.lastType){if(j.propertyIsEnumerable(Ge)){var kt=j[Ge];return z(kt.type,kt.style,Ge)}if("async"==Ge&&C.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return z("async","keyword",Ge)}return z("variable","variable",Ge)}}function fe(C,F){for(var Ge,Re=!1;Ge=C.next();){if("/"==Ge&&Re){F.tokenize=L;break}Re="*"==Ge}return z("comment","comment")}function Ee(C,F){for(var Ge,Re=!1;null!=(Ge=C.next());){if(!Re&&("`"==Ge||"$"==Ge&&C.eat("{"))){F.tokenize=L;break}Re=!Re&&"\\"==Ge}return z("quasi","string-2",C.current())}var ge="([{}])";function Fe(C,F){F.fatArrowAt&&(F.fatArrowAt=null);var Re=C.string.indexOf("=>",C.start);if(!(Re<0)){if(J){var Ge=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(C.string.slice(C.start,Re));Ge&&(Re=Ge.index)}for(var kt=0,Ct=!1,an=Re-1;an>=0;--an){var at=C.string.charAt(an),gt=ge.indexOf(at);if(gt>=0&&gt<3){if(!kt){++an;break}if(0==--kt){"("==at&&(Ct=!0);break}}else if(gt>=3&&gt<6)++kt;else if(x.test(at))Ct=!0;else if(/["'\/`]/.test(at))for(;;--an){if(0==an)return;if(C.string.charAt(an-1)==at&&"\\"!=C.string.charAt(an-2)){an--;break}}else if(Ct&&!kt){++an;break}}Ct&&!kt&&(F.fatArrowAt=an)}}var Ke={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function G(C,F,Re,Ge,kt,Ct){this.indented=C,this.column=F,this.type=Re,this.prev=kt,this.info=Ct,null!=Ge&&(this.align=Ge)}function ue(C,F){if(!re)return!1;for(var Re=C.localVars;Re;Re=Re.next)if(Re.name==F)return!0;for(var Ge=C.context;Ge;Ge=Ge.prev)for(Re=Ge.vars;Re;Re=Re.next)if(Re.name==F)return!0}function D(C,F,Re,Ge,kt){var Ct=C.cc;for(H.state=C,H.stream=kt,H.marked=null,H.cc=Ct,H.style=F,C.lexical.hasOwnProperty("align")||(C.lexical.align=!0);;)if((Ct.length?Ct.pop():te?pt:Xe)(Re,Ge)){for(;Ct.length&&Ct[Ct.length-1].lex;)Ct.pop()();return H.marked?H.marked:"variable"==Re&&ue(C,Ge)?"variable-2":F}}var H={state:null,column:null,marked:null,cc:null};function Be(){for(var C=arguments.length-1;C>=0;C--)H.cc.push(arguments[C])}function T(){return Be.apply(null,arguments),!0}function Oe(C,F){for(var Re=F;Re;Re=Re.next)if(Re.name==C)return!0;return!1}function ce(C){var F=H.state;if(H.marked="def",re){if(F.context)if("var"==F.lexical.info&&F.context&&F.context.block){var Re=Ie(C,F.context);if(null!=Re)return void(F.context=Re)}else if(!Oe(C,F.localVars))return void(F.localVars=new ct(C,F.localVars));W.globalVars&&!Oe(C,F.globalVars)&&(F.globalVars=new ct(C,F.globalVars))}}function Ie(C,F){if(F){if(F.block){var Re=Ie(C,F.prev);return Re?Re==F.prev?F:new _e(Re,F.vars,!0):null}return Oe(C,F.vars)?F:new _e(F.prev,new ct(C,F.vars),!1)}return null}function ve(C){return"public"==C||"private"==C||"protected"==C||"abstract"==C||"readonly"==C}function _e(C,F,Re){this.prev=C,this.vars=F,this.block=Re}function ct(C,F){this.name=C,this.next=F}var it=new ct("this",new ct("arguments",null));function Ne(){H.state.context=new _e(H.state.context,H.state.localVars,!1),H.state.localVars=it}function Vt(){H.state.context=new _e(H.state.context,H.state.localVars,!0),H.state.localVars=null}function St(){H.state.localVars=H.state.context.vars,H.state.context=H.state.context.prev}function He(C,F){var Re=function(){var Ge=H.state,kt=Ge.indented;if("stat"==Ge.lexical.type)kt=Ge.lexical.indented;else for(var Ct=Ge.lexical;Ct&&")"==Ct.type&&Ct.align;Ct=Ct.prev)kt=Ct.indented;Ge.lexical=new G(kt,H.stream.column(),C,null,Ge.lexical,F)};return Re.lex=!0,Re}function xe(){var C=H.state;C.lexical.prev&&(")"==C.lexical.type&&(C.indented=C.lexical.indented),C.lexical=C.lexical.prev)}function mt(C){return function F(Re){return Re==C?T():";"==C||"}"==Re||")"==Re||"]"==Re?Be():T(F)}}function Xe(C,F){return"var"==C?T(He("vardef",F),va,mt(";"),xe):"keyword a"==C?T(He("form"),ke,Xe,xe):"keyword b"==C?T(He("form"),Xe,xe):"keyword d"==C?H.stream.match(/^\s*$/,!1)?T():T(He("stat"),Y,mt(";"),xe):"debugger"==C?T(mt(";")):"{"==C?T(He("}"),Vt,es,xe,St):";"==C?T():"if"==C?("else"==H.state.lexical.info&&H.state.cc[H.state.cc.length-1]==xe&&H.state.cc.pop()(),T(He("form"),ke,Xe,xe,ya)):"function"==C?T(Is):"for"==C?T(He("form"),Vt,kr,Xe,St,xe):"class"==C||J&&"interface"==F?(H.marked="keyword",T(He("form","class"==C?C:F),ni,xe)):"variable"==C?J&&"declare"==F?(H.marked="keyword",T(Xe)):J&&("module"==F||"enum"==F||"type"==F)&&H.stream.match(/^\s*\w/,!1)?(H.marked="keyword","enum"==F?T(nn):"type"==F?T(ks,mt("operator"),Lt,mt(";")):T(He("form"),fi,mt("{"),He("}"),es,xe,xe)):J&&"namespace"==F?(H.marked="keyword",T(He("form"),pt,Xe,xe)):J&&"abstract"==F?(H.marked="keyword",T(Xe)):T(He("stat"),dt):"switch"==C?T(He("form"),ke,mt("{"),He("}","switch"),Vt,es,xe,xe,St):"case"==C?T(pt,mt(":")):"default"==C?T(mt(":")):"catch"==C?T(He("form"),Ne,ft,Xe,xe,St):"export"==C?T(He("stat"),xr,xe):"import"==C?T(He("stat"),Wu,xe):"async"==C?T(Xe):"@"==F?T(pt,Xe):Be(He("stat"),pt,mt(";"),xe)}function ft(C){if("("==C)return T(Js,mt(")"))}function pt(C,F){return we(C,F,!1)}function E(C,F){return we(C,F,!0)}function ke(C){return"("!=C?Be():T(He(")"),Y,mt(")"),xe)}function we(C,F,Re){if(H.state.fatArrowAt==H.stream.start){var Ge=Re?Ve:ye;if("("==C)return T(Ne,He(")"),Yt(Js,")"),xe,mt("=>"),Ge,St);if("variable"==C)return Be(Ne,fi,mt("=>"),Ge,St)}var kt=Re?se:M;return Ke.hasOwnProperty(C)?T(kt):"function"==C?T(Is,kt):"class"==C||J&&"interface"==F?(H.marked="keyword",T(He("form"),Hh,xe)):"keyword c"==C||"async"==C?T(Re?E:pt):"("==C?T(He(")"),Y,mt(")"),xe,kt):"operator"==C||"spread"==C?T(Re?E:pt):"["==C?T(He("]"),ji,xe,kt):"{"==C?tn(mr,"}",null,kt):"quasi"==C?Be(Me,kt):"new"==C?T(function ne(C){return function(F){return"."==F?T(C?he:pe):"variable"==F&&J?T(_a,C?se:M):Be(C?E:pt)}}(Re)):T()}function Y(C){return C.match(/[;\}\)\],]/)?Be():Be(pt)}function M(C,F){return","==C?T(Y):se(C,F,!1)}function se(C,F,Re){var Ge=0==Re?M:se,kt=0==Re?pt:E;if("=>"==C)return T(Ne,Re?Ve:ye,St);if("operator"==C)return/\+\+|--/.test(F)||J&&"!"==F?T(Ge):J&&"<"==F&&H.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?T(He(">"),Yt(Lt,">"),xe,Ge):"?"==F?T(pt,mt(":"),kt):T(kt);if("quasi"==C)return Be(Me,Ge);if(";"!=C){if("("==C)return tn(E,")","call",Ge);if("."==C)return T(It,Ge);if("["==C)return T(He("]"),Y,mt("]"),xe,Ge);if(J&&"as"==F)return H.marked="keyword",T(Lt,Ge);if("regexp"==C)return H.state.lastType=H.marked="operator",H.stream.backUp(H.stream.pos-H.stream.start-1),T(kt)}}function Me(C,F){return"quasi"!=C?Be():"${"!=F.slice(F.length-2)?T(Me):T(Y,Ue)}function Ue(C){if("}"==C)return H.marked="string-2",H.state.tokenize=Ee,T(Me)}function ye(C){return Fe(H.stream,H.state),Be("{"==C?Xe:pt)}function Ve(C){return Fe(H.stream,H.state),Be("{"==C?Xe:E)}function pe(C,F){if("target"==F)return H.marked="keyword",T(M)}function he(C,F){if("target"==F)return H.marked="keyword",T(se)}function dt(C){return":"==C?T(xe,Xe):Be(M,mt(";"),xe)}function It(C){if("variable"==C)return H.marked="property",T()}function mr(C,F){return"async"==C?(H.marked="property",T(mr)):"variable"==C||"keyword"==H.style?(H.marked="property","get"==F||"set"==F?T(Ti):(J&&H.state.fatArrowAt==H.stream.start&&(Re=H.stream.match(/^\s*:\s*/,!1))&&(H.state.fatArrowAt=H.stream.pos+Re[0].length),T(_r))):"number"==C||"string"==C?(H.marked=ee?"property":H.style+" property",T(_r)):"jsonld-keyword"==C?T(_r):J&&ve(F)?(H.marked="keyword",T(mr)):"["==C?T(pt,or,mt("]"),_r):"spread"==C?T(E,_r):"*"==F?(H.marked="keyword",T(mr)):":"==C?Be(_r):void 0;var Re}function Ti(C){return"variable"!=C?Be(_r):(H.marked="property",T(Is))}function _r(C){return":"==C?T(E):"("==C?Be(Is):void 0}function Yt(C,F,Re){function Ge(kt,Ct){if(Re?Re.indexOf(kt)>-1:","==kt){var an=H.state.lexical;return"call"==an.info&&(an.pos=(an.pos||0)+1),T(function(at,gt){return at==F||gt==F?Be():Be(C)},Ge)}return kt==F||Ct==F?T():Re&&Re.indexOf(";")>-1?Be(C):T(mt(F))}return function(kt,Ct){return kt==F||Ct==F?T():Be(C,Ge)}}function tn(C,F,Re){for(var Ge=3;Ge<arguments.length;Ge++)H.cc.push(arguments[Ge]);return T(He(F,Re),Yt(C,F),xe)}function es(C){return"}"==C?T():Be(Xe,es)}function or(C,F){if(J){if(":"==C)return T(Lt);if("?"==F)return T(or)}}function di(C,F){if(J&&(":"==C||"in"==F))return T(Lt)}function bt(C){if(J&&":"==C)return H.stream.match(/^\s*\w+\s+is\b/,!1)?T(pt,ma,Lt):T(Lt)}function ma(C,F){if("is"==F)return H.marked="keyword",T()}function Lt(C,F){return"keyof"==F||"typeof"==F||"infer"==F||"readonly"==F?(H.marked="keyword",T("typeof"==F?E:Lt)):"variable"==C||"void"==F?(H.marked="type",T(ts)):"|"==F||"&"==F?T(Lt):"string"==C||"number"==C||"atom"==C?T(ts):"["==C?T(He("]"),Yt(Lt,"]",","),xe,ts):"{"==C?T(He("}"),xn,xe,ts):"("==C?T(Yt(Er,")"),Pn,ts):"<"==C?T(Yt(Lt,">"),Lt):"quasi"==C?Be(ar,ts):void 0}function Pn(C){if("=>"==C)return T(Lt)}function xn(C){return C.match(/[\}\)\]]/)?T():","==C||";"==C?T(xn):Be(hi,xn)}function hi(C,F){return"variable"==C||"keyword"==H.style?(H.marked="property",T(hi)):"?"==F||"number"==C||"string"==C?T(hi):":"==C?T(Lt):"["==C?T(mt("variable"),di,mt("]"),hi):"("==C?Be(As,hi):C.match(/[;\}\)\],]/)?void 0:T()}function ar(C,F){return"quasi"!=C?Be():"${"!=F.slice(F.length-2)?T(ar):T(Lt,Do)}function Do(C){if("}"==C)return H.marked="string-2",H.state.tokenize=Ee,T(ar)}function Er(C,F){return"variable"==C&&H.stream.match(/^\s*[?:]/,!1)||"?"==F?T(Er):":"==C?T(Lt):"spread"==C?T(Er):Be(Lt)}function ts(C,F){return"<"==F?T(He(">"),Yt(Lt,">"),xe,ts):"|"==F||"."==C||"&"==F?T(Lt):"["==C?T(Lt,mt("]"),ts):"extends"==F||"implements"==F?(H.marked="keyword",T(Lt)):"?"==F?T(Lt,mt(":"),Lt):void 0}function _a(C,F){if("<"==F)return T(He(">"),Yt(Lt,">"),xe,ts)}function ns(){return Be(Lt,ll)}function ll(C,F){if("="==F)return T(Lt)}function va(C,F){return"enum"==F?(H.marked="keyword",T(nn)):Be(fi,or,Ii,zu)}function fi(C,F){return J&&ve(F)?(H.marked="keyword",T(fi)):"variable"==C?(ce(F),T()):"spread"==C?T(fi):"["==C?tn(Hu,"]"):"{"==C?tn(cl,"}"):void 0}function cl(C,F){return"variable"!=C||H.stream.match(/^\s*:/,!1)?("variable"==C&&(H.marked="property"),"spread"==C?T(fi):"}"==C?Be():"["==C?T(pt,mt("]"),mt(":"),cl):T(mt(":"),fi,Ii)):(ce(F),T(Ii))}function Hu(){return Be(fi,Ii)}function Ii(C,F){if("="==F)return T(E)}function zu(C){if(","==C)return T(va)}function ya(C,F){if("keyword b"==C&&"else"==F)return T(He("form","else"),Xe,xe)}function kr(C,F){return"await"==F?T(kr):"("==C?T(He(")"),jh,xe):void 0}function jh(C){return"var"==C?T(va,Ts):"variable"==C?T(Ts):Be(Ts)}function Ts(C,F){return")"==C?T():";"==C?T(Ts):"in"==F||"of"==F?(H.marked="keyword",T(pt,Ts)):Be(pt,Ts)}function Is(C,F){return"*"==F?(H.marked="keyword",T(Is)):"variable"==C?(ce(F),T(Is)):"("==C?T(Ne,He(")"),Yt(Js,")"),xe,bt,Xe,St):J&&"<"==F?T(He(">"),Yt(ns,">"),xe,Is):void 0}function As(C,F){return"*"==F?(H.marked="keyword",T(As)):"variable"==C?(ce(F),T(As)):"("==C?T(Ne,He(")"),Yt(Js,")"),xe,bt,St):J&&"<"==F?T(He(">"),Yt(ns,">"),xe,As):void 0}function ks(C,F){return"keyword"==C||"variable"==C?(H.marked="type",T(ks)):"<"==F?T(He(">"),Yt(ns,">"),xe):void 0}function Js(C,F){return"@"==F&&T(pt,Js),"spread"==C?T(Js):J&&ve(F)?(H.marked="keyword",T(Js)):J&&"this"==C?T(or,Ii):Be(fi,or,Ii)}function Hh(C,F){return"variable"==C?ni(C,F):To(C,F)}function ni(C,F){if("variable"==C)return ce(F),T(To)}function To(C,F){return"<"==F?T(He(">"),Yt(ns,">"),xe,To):"extends"==F||"implements"==F||J&&","==C?("implements"==F&&(H.marked="keyword"),T(J?Lt:pt,To)):"{"==C?T(He("}"),on,xe):void 0}function on(C,F){return"async"==C||"variable"==C&&("static"==F||"get"==F||"set"==F||J&&ve(F))&&H.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(H.marked="keyword",T(on)):"variable"==C||"keyword"==H.style?(H.marked="property",T(Vi,on)):"number"==C||"string"==C?T(Vi,on):"["==C?T(pt,or,mt("]"),Vi,on):"*"==F?(H.marked="keyword",T(on)):J&&"("==C?Be(As,on):";"==C||","==C?T(on):"}"==C?T():"@"==F?T(pt,on):void 0}function Vi(C,F){if("!"==F||"?"==F)return T(Vi);if(":"==C)return T(Lt,Ii);if("="==F)return T(E);var Re=H.state.lexical.prev;return Be(Re&&"interface"==Re.info?As:Is)}function xr(C,F){return"*"==F?(H.marked="keyword",T(rs,mt(";"))):"default"==F?(H.marked="keyword",T(pt,mt(";"))):"{"==C?T(Yt(Ec,"}"),rs,mt(";")):Be(Xe)}function Ec(C,F){return"as"==F?(H.marked="keyword",T(mt("variable"))):"variable"==C?Be(E,Ec):void 0}function Wu(C){return"string"==C?T():"("==C?Be(pt):"."==C?Be(M):Be(In,ut,rs)}function In(C,F){return"{"==C?tn(In,"}"):("variable"==C&&ce(F),"*"==F&&(H.marked="keyword"),T(xs))}function ut(C){if(","==C)return T(In,ut)}function xs(C,F){if("as"==F)return H.marked="keyword",T(In)}function rs(C,F){if("from"==F)return H.marked="keyword",T(pt)}function ji(C){return"]"==C?T():Be(Yt(E,"]"))}function nn(){return Be(He("form"),fi,mt("{"),He("}"),Yt(Ms,"}"),xe,xe)}function Ms(){return Be(fi,Ii)}function ul(C,F,Re){return F.tokenize==L&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(F.lastType)||"quasi"==F.lastType&&/\{\s*$/.test(C.string.slice(0,C.pos-(Re||0)))}return Ne.lex=Vt.lex=!0,St.lex=!0,xe.lex=!0,{startState:function(C){var F={tokenize:L,lastType:"sof",cc:[],lexical:new G((C||0)-O,0,"block",!1),localVars:W.localVars,context:W.localVars&&new _e(null,null,!1),indented:C||0};return W.globalVars&&"object"==typeof W.globalVars&&(F.globalVars=W.globalVars),F},token:function(C,F){if(C.sol()&&(F.lexical.hasOwnProperty("align")||(F.lexical.align=!1),F.indented=C.indentation(),Fe(C,F)),F.tokenize!=fe&&C.eatSpace())return null;var Re=F.tokenize(C,F);return"comment"==Q?Re:(F.lastType="operator"!=Q||"++"!=P&&"--"!=P?Q:"incdec",D(F,Re,Q,P,C))},indent:function(C,F){if(C.tokenize==fe||C.tokenize==Ee)return V.Pass;if(C.tokenize!=L)return 0;var kt,Re=F&&F.charAt(0),Ge=C.lexical;if(!/^\s*else\b/.test(F))for(var Ct=C.cc.length-1;Ct>=0;--Ct){var an=C.cc[Ct];if(an==xe)Ge=Ge.prev;else if(an!=ya&&an!=St)break}for(;("stat"==Ge.type||"form"==Ge.type)&&("}"==Re||(kt=C.cc[C.cc.length-1])&&(kt==M||kt==se)&&!/^[,\.=+\-*:?[\(]/.test(F));)Ge=Ge.prev;N&&")"==Ge.type&&"stat"==Ge.prev.type&&(Ge=Ge.prev);var at=Ge.type,gt=Re==at;return"vardef"==at?Ge.indented+("operator"==C.lastType||","==C.lastType?Ge.info.length+1:0):"form"==at&&"{"==Re?Ge.indented:"form"==at?Ge.indented+O:"stat"==at?Ge.indented+(function ba(C,F){return"operator"==C.lastType||","==C.lastType||k.test(F.charAt(0))||/[,.]/.test(F.charAt(0))}(C,F)?N||O:0):"switch"!=Ge.info||gt||0==W.doubleIndentSwitch?Ge.align?Ge.column+(gt?0:1):Ge.indented+(gt?0:O):Ge.indented+(/^(?:case|default)\b/.test(F)?O:2*O)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:te?null:"/*",blockCommentEnd:te?null:"*/",blockCommentContinue:te?null:" * ",lineComment:te?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:te?"json":"javascript",jsonldMode:ee,jsonMode:te,expressionAllowed:ul,skipExpression:function(C){D(C,"atom","atom","true",new V.StringStream("",2,null))}}}),V.registerHelper("wordChars","javascript",/[\w$]/),V.defineMIME("text/javascript","javascript"),V.defineMIME("text/ecmascript","javascript"),V.defineMIME("application/javascript","javascript"),V.defineMIME("application/x-javascript","javascript"),V.defineMIME("application/ecmascript","javascript"),V.defineMIME("application/json",{name:"javascript",json:!0}),V.defineMIME("application/x-json",{name:"javascript",json:!0}),V.defineMIME("application/manifest+json",{name:"javascript",json:!0}),V.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),V.defineMIME("text/typescript",{name:"javascript",typescript:!0}),V.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(Le(656))},193:(Ds,ie,Le)=>{!function(V){"use strict";var K={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},W={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};V.defineMode("xml",function(O,N){var x,j,ee=O.indentUnit,te={},re=N.htmlMode?K:W;for(var J in re)te[J]=re[J];for(var J in N)te[J]=N[J];function k(T,Oe){function ce(_e){return Oe.tokenize=_e,_e(T,Oe)}var Ie=T.next();return"<"==Ie?T.eat("!")?T.eat("[")?T.match("CDATA[")?ce(Q("atom","]]>")):null:T.match("--")?ce(Q("comment","--\x3e")):T.match("DOCTYPE",!0,!0)?(T.eatWhile(/[\w\._\-]/),ce(P(1))):null:T.eat("?")?(T.eatWhile(/[\w\._\-]/),Oe.tokenize=Q("meta","?>"),"meta"):(x=T.eat("/")?"closeTag":"openTag",Oe.tokenize=$,"tag bracket"):"&"==Ie?(T.eat("#")?T.eat("x")?T.eatWhile(/[a-fA-F\d]/)&&T.eat(";"):T.eatWhile(/[\d]/)&&T.eat(";"):T.eatWhile(/[\w\.\-:]/)&&T.eat(";"))?"atom":"error":(T.eatWhile(/[^&<]/),null)}function $(T,Oe){var ce=T.next();if(">"==ce||"/"==ce&&T.eat(">"))return Oe.tokenize=k,x=">"==ce?"endTag":"selfcloseTag","tag bracket";if("="==ce)return x="equals",null;if("<"==ce){Oe.tokenize=k,Oe.state=Ee,Oe.tagName=Oe.tagStart=null;var Ie=Oe.tokenize(T,Oe);return Ie?Ie+" tag error":"tag error"}return/[\'\"]/.test(ce)?(Oe.tokenize=function B(T){var Oe=function(ce,Ie){for(;!ce.eol();)if(ce.next()==T){Ie.tokenize=$;break}return"string"};return Oe.isInAttribute=!0,Oe}(ce),Oe.stringStartCol=T.column(),Oe.tokenize(T,Oe)):(T.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function Q(T,Oe){return function(ce,Ie){for(;!ce.eol();){if(ce.match(Oe)){Ie.tokenize=k;break}ce.next()}return T}}function P(T){return function(Oe,ce){for(var Ie;null!=(Ie=Oe.next());){if("<"==Ie)return ce.tokenize=P(T+1),ce.tokenize(Oe,ce);if(">"==Ie){if(1==T){ce.tokenize=k;break}return ce.tokenize=P(T-1),ce.tokenize(Oe,ce)}}return"meta"}}function z(T){return T&&T.toLowerCase()}function L(T,Oe,ce){this.prev=T.context,this.tagName=Oe||"",this.indent=T.indented,this.startOfLine=ce,(te.doNotIndent.hasOwnProperty(Oe)||T.context&&T.context.noIndent)&&(this.noIndent=!0)}function ae(T){T.context&&(T.context=T.context.prev)}function fe(T,Oe){for(var ce;;){if(!T.context||!te.contextGrabbers.hasOwnProperty(z(ce=T.context.tagName))||!te.contextGrabbers[z(ce)].hasOwnProperty(z(Oe)))return;ae(T)}}function Ee(T,Oe,ce){return"openTag"==T?(ce.tagStart=Oe.column(),ge):"closeTag"==T?Fe:Ee}function ge(T,Oe,ce){return"word"==T?(ce.tagName=Oe.current(),j="tag",ue):te.allowMissingTagName&&"endTag"==T?(j="tag bracket",ue(T,0,ce)):(j="error",ge)}function Fe(T,Oe,ce){if("word"==T){var Ie=Oe.current();return ce.context&&ce.context.tagName!=Ie&&te.implicitlyClosed.hasOwnProperty(z(ce.context.tagName))&&ae(ce),ce.context&&ce.context.tagName==Ie||!1===te.matchClosing?(j="tag",Ke):(j="tag error",G)}return te.allowMissingTagName&&"endTag"==T?(j="tag bracket",Ke(T,0,ce)):(j="error",G)}function Ke(T,Oe,ce){return"endTag"!=T?(j="error",Ke):(ae(ce),Ee)}function G(T,Oe,ce){return j="error",Ke(T,0,ce)}function ue(T,Oe,ce){if("word"==T)return j="attribute",D;if("endTag"==T||"selfcloseTag"==T){var Ie=ce.tagName,ve=ce.tagStart;return ce.tagName=ce.tagStart=null,"selfcloseTag"==T||te.autoSelfClosers.hasOwnProperty(z(Ie))?fe(ce,Ie):(fe(ce,Ie),ce.context=new L(ce,Ie,ve==ce.indented)),Ee}return j="error",ue}function D(T,Oe,ce){return"equals"==T?H:(te.allowMissing||(j="error"),ue(T,0,ce))}function H(T,Oe,ce){return"string"==T?Be:"word"==T&&te.allowUnquoted?(j="string",ue):(j="error",ue(T,0,ce))}function Be(T,Oe,ce){return"string"==T?Be:ue(T,0,ce)}return k.isInText=!0,{startState:function(T){var Oe={tokenize:k,state:Ee,indented:T||0,tagName:null,tagStart:null,context:null};return null!=T&&(Oe.baseIndent=T),Oe},token:function(T,Oe){if(!Oe.tagName&&T.sol()&&(Oe.indented=T.indentation()),T.eatSpace())return null;x=null;var ce=Oe.tokenize(T,Oe);return(ce||x)&&"comment"!=ce&&(j=null,Oe.state=Oe.state(x||ce,T,Oe),j&&(ce="error"==j?ce+" error":j)),ce},indent:function(T,Oe,ce){var Ie=T.context;if(T.tokenize.isInAttribute)return T.tagStart==T.indented?T.stringStartCol+1:T.indented+ee;if(Ie&&Ie.noIndent)return V.Pass;if(T.tokenize!=$&&T.tokenize!=k)return ce?ce.match(/^(\s*)/)[0].length:0;if(T.tagName)return!1!==te.multilineTagIndentPastTag?T.tagStart+T.tagName.length+2:T.tagStart+ee*(te.multilineTagIndentFactor||1);if(te.alignCDATA&&/<!\[CDATA\[/.test(Oe))return 0;var ve=Oe&&/^<(\/)?([\w_:\.-]*)/.exec(Oe);if(ve&&ve[1])for(;Ie;){if(Ie.tagName==ve[2]){Ie=Ie.prev;break}if(!te.implicitlyClosed.hasOwnProperty(z(Ie.tagName)))break;Ie=Ie.prev}else if(ve)for(;Ie;){var _e=te.contextGrabbers[z(Ie.tagName)];if(!_e||!_e.hasOwnProperty(z(ve[2])))break;Ie=Ie.prev}for(;Ie&&Ie.prev&&!Ie.startOfLine;)Ie=Ie.prev;return Ie?Ie.indent+ee:T.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:te.htmlMode?"html":"xml",helperType:te.htmlMode?"html":"xml",skipAttribute:function(T){T.state==H&&(T.state=ue)},xmlCurrentTag:function(T){return T.tagName?{name:T.tagName,close:"closeTag"==T.type}:null},xmlCurrentContext:function(T){for(var Oe=[],ce=T.context;ce;ce=ce.prev)Oe.push(ce.tagName);return Oe.reverse()}}}),V.defineMIME("text/xml","xml"),V.defineMIME("application/xml","xml"),V.mimeModes.hasOwnProperty("text/html")||V.defineMIME("text/html",{name:"xml",htmlMode:!0})}(Le(656))},965:Ds=>{Ds.exports=function ie(Le,V,K){function W(ee,te){if(!V[ee]){if(!Le[ee]){if(O)return O(ee,!0);var J=new Error("Cannot find module '"+ee+"'");throw J.code="MODULE_NOT_FOUND",J}var x=V[ee]={exports:{}};Le[ee][0].call(x.exports,function(j){return W(Le[ee][1][j]||j)},x,x.exports,ie,Le,V,K)}return V[ee].exports}for(var O=void 0,N=0;N<K.length;N++)W(K[N]);return W}({1:[function(ie,Le,V){"use strict";var K=ie("./utils"),W=ie("./support"),O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";V.encode=function(N){for(var ee,te,re,x,j,k,$=[],B=0,Q=N.length,P=Q,z="string"!==K.getTypeOf(N);B<N.length;)P=Q-B,re=z?(ee=N[B++],te=B<Q?N[B++]:0,B<Q?N[B++]:0):(ee=N.charCodeAt(B++),te=B<Q?N.charCodeAt(B++):0,B<Q?N.charCodeAt(B++):0),x=(3&ee)<<4|te>>4,j=1<P?(15&te)<<2|re>>6:64,k=2<P?63&re:64,$.push(O.charAt(ee>>2)+O.charAt(x)+O.charAt(j)+O.charAt(k));return $.join("")},V.decode=function(N){var ee,te,re,J,x,j,k=0,$=0,B="data:";if(N.substr(0,5)===B)throw new Error("Invalid base64 input, it looks like a data url.");var Q,P=3*(N=N.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(N.charAt(N.length-1)===O.charAt(64)&&P--,N.charAt(N.length-2)===O.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(Q=W.uint8array?new Uint8Array(0|P):new Array(0|P);k<N.length;)ee=O.indexOf(N.charAt(k++))<<2|(J=O.indexOf(N.charAt(k++)))>>4,te=(15&J)<<4|(x=O.indexOf(N.charAt(k++)))>>2,re=(3&x)<<6|(j=O.indexOf(N.charAt(k++))),Q[$++]=ee,64!==x&&(Q[$++]=te),64!==j&&(Q[$++]=re);return Q}},{"./support":30,"./utils":32}],2:[function(ie,Le,V){"use strict";var K=ie("./external"),W=ie("./stream/DataWorker"),O=ie("./stream/Crc32Probe"),N=ie("./stream/DataLengthProbe");function ee(te,re,J,x,j){this.compressedSize=te,this.uncompressedSize=re,this.crc32=J,this.compression=x,this.compressedContent=j}ee.prototype={getContentWorker:function(){var te=new W(K.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new N("data_length")),re=this;return te.on("end",function(){if(this.streamInfo.data_length!==re.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),te},getCompressedWorker:function(){return new W(K.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},ee.createWorkerFrom=function(te,re,J){return te.pipe(new O).pipe(new N("uncompressedSize")).pipe(re.compressWorker(J)).pipe(new N("compressedSize")).withStreamInfo("compression",re)},Le.exports=ee},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(ie,Le,V){"use strict";var K=ie("./stream/GenericWorker");V.STORE={magic:"\0\0",compressWorker:function(){return new K("STORE compression")},uncompressWorker:function(){return new K("STORE decompression")}},V.DEFLATE=ie("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(ie,Le,V){"use strict";var K=ie("./utils"),W=function(){for(var O,N=[],ee=0;ee<256;ee++){O=ee;for(var te=0;te<8;te++)O=1&O?3988292384^O>>>1:O>>>1;N[ee]=O}return N}();Le.exports=function(O,N){return void 0!==O&&O.length?"string"!==K.getTypeOf(O)?function(ee,te,re,J){var x=W,j=0+re;ee^=-1;for(var k=0;k<j;k++)ee=ee>>>8^x[255&(ee^te[k])];return-1^ee}(0|N,O,O.length):function(ee,te,re,J){var x=W,j=0+re;ee^=-1;for(var k=0;k<j;k++)ee=ee>>>8^x[255&(ee^te.charCodeAt(k))];return-1^ee}(0|N,O,O.length):0}},{"./utils":32}],5:[function(ie,Le,V){"use strict";V.base64=!1,V.binary=!1,V.dir=!1,V.createFolders=!0,V.date=null,V.compression=null,V.compressionOptions=null,V.comment=null,V.unixPermissions=null,V.dosPermissions=null},{}],6:[function(ie,Le,V){"use strict";var K;K=typeof Promise<"u"?Promise:ie("lie"),Le.exports={Promise:K}},{lie:37}],7:[function(ie,Le,V){"use strict";var K=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",W=ie("pako"),O=ie("./utils"),N=ie("./stream/GenericWorker"),ee=K?"uint8array":"array";function te(re,J){N.call(this,"FlateWorker/"+re),this._pako=null,this._pakoAction=re,this._pakoOptions=J,this.meta={}}V.magic="\b\0",O.inherits(te,N),te.prototype.processChunk=function(re){this.meta=re.meta,null===this._pako&&this._createPako(),this._pako.push(O.transformTo(ee,re.data),!1)},te.prototype.flush=function(){N.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},te.prototype.cleanUp=function(){N.prototype.cleanUp.call(this),this._pako=null},te.prototype._createPako=function(){this._pako=new W[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var re=this;this._pako.onData=function(J){re.push({data:J,meta:re.meta})}},V.compressWorker=function(re){return new te("Deflate",re)},V.uncompressWorker=function(){return new te("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(ie,Le,V){"use strict";function K(x,j){var k,$="";for(k=0;k<j;k++)$+=String.fromCharCode(255&x),x>>>=8;return $}function W(x,j,k,$,B,Q){var P,z,L=x.file,ae=x.compression,fe=Q!==ee.utf8encode,Ee=O.transformTo("string",Q(L.name)),ge=O.transformTo("string",ee.utf8encode(L.name)),Fe=L.comment,Ke=O.transformTo("string",Q(Fe)),G=O.transformTo("string",ee.utf8encode(Fe)),ue=ge.length!==L.name.length,D=G.length!==Fe.length,H="",Be="",T="",Oe=L.dir,ce=L.date,Ie={crc32:0,compressedSize:0,uncompressedSize:0};j&&!k||(Ie.crc32=x.crc32,Ie.compressedSize=x.compressedSize,Ie.uncompressedSize=x.uncompressedSize);var ve=0;j&&(ve|=8),fe||!ue&&!D||(ve|=2048);var Ne,St,_e=0,ct=0;Oe&&(_e|=16),"UNIX"===B?(ct=798,_e|=(St=Ne=L.unixPermissions,Ne||(St=Oe?16893:33204),(65535&St)<<16)):(ct=20,_e|=function(Ne){return 63&(Ne||0)}(L.dosPermissions)),P=ce.getUTCHours(),P<<=6,P|=ce.getUTCMinutes(),P<<=5,P|=ce.getUTCSeconds()/2,z=ce.getUTCFullYear()-1980,z<<=4,z|=ce.getUTCMonth()+1,z<<=5,z|=ce.getUTCDate(),ue&&(Be=K(1,1)+K(te(Ee),4)+ge,H+="up"+K(Be.length,2)+Be),D&&(T=K(1,1)+K(te(Ke),4)+G,H+="uc"+K(T.length,2)+T);var it="";return it+="\n\0",it+=K(ve,2),it+=ae.magic,it+=K(P,2),it+=K(z,2),it+=K(Ie.crc32,4),it+=K(Ie.compressedSize,4),it+=K(Ie.uncompressedSize,4),it+=K(Ee.length,2),it+=K(H.length,2),{fileRecord:re.LOCAL_FILE_HEADER+it+Ee+H,dirRecord:re.CENTRAL_FILE_HEADER+K(ct,2)+it+K(Ke.length,2)+"\0\0\0\0"+K(_e,4)+K($,4)+Ee+H+Ke}}var O=ie("../utils"),N=ie("../stream/GenericWorker"),ee=ie("../utf8"),te=ie("../crc32"),re=ie("../signature");function J(x,j,k,$){N.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=k,this.encodeFileName=$,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}O.inherits(J,N),J.prototype.push=function(x){var j=x.meta.percent||0,k=this.entriesCount,$=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,N.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:k?(j+100*(k-$-1))/k:100}}))},J.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var j=this.streamFiles&&!x.file.dir;if(j){var k=W(x,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:k.fileRecord,meta:{percent:0}})}else this.accumulate=!0},J.prototype.closedSource=function(x){this.accumulate=!1;var $,j=this.streamFiles&&!x.file.dir,k=W(x,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(k.dirRecord),j)this.push({data:($=x,re.DATA_DESCRIPTOR+K($.crc32,4)+K($.compressedSize,4)+K($.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:k.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},J.prototype.flush=function(){for(var x=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var B,Q,P,ae,$=(B=this.dirRecords.length,Q=this.bytesWritten-x,P=x,ae=O.transformTo("string",(0,this.encodeFileName)(this.zipComment)),re.CENTRAL_DIRECTORY_END+"\0\0\0\0"+K(B,2)+K(B,2)+K(Q,4)+K(P,4)+K(ae.length,2)+ae);this.push({data:$,meta:{percent:100}})},J.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},J.prototype.registerPrevious=function(x){this._sources.push(x);var j=this;return x.on("data",function(k){j.processChunk(k)}),x.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),x.on("error",function(k){j.error(k)}),this},J.prototype.resume=function(){return!!N.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},J.prototype.error=function(x){var j=this._sources;if(!N.prototype.error.call(this,x))return!1;for(var k=0;k<j.length;k++)try{j[k].error(x)}catch{}return!0},J.prototype.lock=function(){N.prototype.lock.call(this);for(var x=this._sources,j=0;j<x.length;j++)x[j].lock()},Le.exports=J},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(ie,Le,V){"use strict";var K=ie("../compressions"),W=ie("./ZipFileWorker");V.generateWorker=function(O,N,ee){var te=new W(N.streamFiles,ee,N.platform,N.encodeFileName),re=0;try{O.forEach(function(J,x){re++;var j=function(Q,P){var z=Q||P,L=K[z];if(!L)throw new Error(z+" is not a valid compression method !");return L}(x.options.compression,N.compression),$=x.dir,B=x.date;x._compressWorker(j,x.options.compressionOptions||N.compressionOptions||{}).withStreamInfo("file",{name:J,dir:$,date:B,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(te)}),te.entriesCount=re}catch(J){te.error(J)}return te}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(ie,Le,V){"use strict";function K(){if(!(this instanceof K))return new K;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var W=new K;for(var O in this)"function"!=typeof this[O]&&(W[O]=this[O]);return W}}(K.prototype=ie("./object")).loadAsync=ie("./load"),K.support=ie("./support"),K.defaults=ie("./defaults"),K.version="3.10.1",K.loadAsync=function(W,O){return(new K).loadAsync(W,O)},K.external=ie("./external"),Le.exports=K},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(ie,Le,V){"use strict";var K=ie("./utils"),W=ie("./external"),O=ie("./utf8"),N=ie("./zipEntries"),ee=ie("./stream/Crc32Probe"),te=ie("./nodejsUtils");function re(J){return new W.Promise(function(x,j){var k=J.decompressed.getContentWorker().pipe(new ee);k.on("error",function($){j($)}).on("end",function(){k.streamInfo.crc32!==J.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}Le.exports=function(J,x){var j=this;return x=K.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:O.utf8decode}),te.isNode&&te.isStream(J)?W.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):K.prepareContent("the loaded zip file",J,!0,x.optimizedBinaryString,x.base64).then(function(k){var $=new N(x);return $.load(k),$}).then(function(k){var $=[W.Promise.resolve(k)],B=k.files;if(x.checkCRC32)for(var Q=0;Q<B.length;Q++)$.push(re(B[Q]));return W.Promise.all($)}).then(function(k){for(var $=k.shift(),B=$.files,Q=0;Q<B.length;Q++){var P=B[Q],z=P.fileNameStr,L=K.resolve(P.fileNameStr);j.file(L,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:x.createFolders}),P.dir||(j.file(L).unsafeOriginalName=z)}return $.zipComment.length&&(j.comment=$.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(ie,Le,V){"use strict";var K=ie("../utils"),W=ie("../stream/GenericWorker");function O(N,ee){W.call(this,"Nodejs stream input adapter for "+N),this._upstreamEnded=!1,this._bindStream(ee)}K.inherits(O,W),O.prototype._bindStream=function(N){var ee=this;(this._stream=N).pause(),N.on("data",function(te){ee.push({data:te,meta:{percent:0}})}).on("error",function(te){ee.isPaused?this.generatedError=te:ee.error(te)}).on("end",function(){ee.isPaused?ee._upstreamEnded=!0:ee.end()})},O.prototype.pause=function(){return!!W.prototype.pause.call(this)&&(this._stream.pause(),!0)},O.prototype.resume=function(){return!!W.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Le.exports=O},{"../stream/GenericWorker":28,"../utils":32}],13:[function(ie,Le,V){"use strict";var K=ie("readable-stream").Readable;function W(O,N,ee){K.call(this,N),this._helper=O;var te=this;O.on("data",function(re,J){te.push(re)||te._helper.pause(),ee&&ee(J)}).on("error",function(re){te.emit("error",re)}).on("end",function(){te.push(null)})}ie("../utils").inherits(W,K),W.prototype._read=function(){this._helper.resume()},Le.exports=W},{"../utils":32,"readable-stream":16}],14:[function(ie,Le,V){"use strict";Le.exports={isNode:typeof Buffer<"u",newBufferFrom:function(K,W){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(K,W);if("number"==typeof K)throw new Error('The "data" argument must not be a number');return new Buffer(K,W)},allocBuffer:function(K){if(Buffer.alloc)return Buffer.alloc(K);var W=new Buffer(K);return W.fill(0),W},isBuffer:function(K){return Buffer.isBuffer(K)},isStream:function(K){return K&&"function"==typeof K.on&&"function"==typeof K.pause&&"function"==typeof K.resume}}},{}],15:[function(ie,Le,V){"use strict";function K(L,ae,fe){var Ee,ge=O.getTypeOf(ae),Fe=O.extend(fe||{},te);Fe.date=Fe.date||new Date,null!==Fe.compression&&(Fe.compression=Fe.compression.toUpperCase()),"string"==typeof Fe.unixPermissions&&(Fe.unixPermissions=parseInt(Fe.unixPermissions,8)),Fe.unixPermissions&&16384&Fe.unixPermissions&&(Fe.dir=!0),Fe.dosPermissions&&16&Fe.dosPermissions&&(Fe.dir=!0),Fe.dir&&(L=B(L)),Fe.createFolders&&(Ee=$(L))&&Q.call(this,Ee,!0),fe&&void 0!==fe.binary||(Fe.binary=!("string"===ge&&!1===Fe.binary&&!1===Fe.base64)),(ae instanceof re&&0===ae.uncompressedSize||Fe.dir||!ae||0===ae.length)&&(Fe.base64=!1,Fe.binary=!0,ae="",Fe.compression="STORE",ge="string");var G;G=ae instanceof re||ae instanceof N?ae:j.isNode&&j.isStream(ae)?new k(L,ae):O.prepareContent(L,ae,Fe.binary,Fe.optimizedBinaryString,Fe.base64);var ue=new J(L,G,Fe);this.files[L]=ue}var W=ie("./utf8"),O=ie("./utils"),N=ie("./stream/GenericWorker"),ee=ie("./stream/StreamHelper"),te=ie("./defaults"),re=ie("./compressedObject"),J=ie("./zipObject"),x=ie("./generate"),j=ie("./nodejsUtils"),k=ie("./nodejs/NodejsStreamInputAdapter"),$=function(L){"/"===L.slice(-1)&&(L=L.substring(0,L.length-1));var ae=L.lastIndexOf("/");return 0<ae?L.substring(0,ae):""},B=function(L){return"/"!==L.slice(-1)&&(L+="/"),L},Q=function(L,ae){return ae=void 0!==ae?ae:te.createFolders,L=B(L),this.files[L]||K.call(this,L,null,{dir:!0,createFolders:ae}),this.files[L]};function P(L){return"[object RegExp]"===Object.prototype.toString.call(L)}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(L){var ae,fe,Ee;for(ae in this.files)Ee=this.files[ae],(fe=ae.slice(this.root.length,ae.length))&&ae.slice(0,this.root.length)===this.root&&L(fe,Ee)},filter:function(L){var ae=[];return this.forEach(function(fe,Ee){L(fe,Ee)&&ae.push(Ee)}),ae},file:function(L,ae,fe){if(1!==arguments.length)return K.call(this,L=this.root+L,ae,fe),this;if(P(L)){var Ee=L;return this.filter(function(Fe,Ke){return!Ke.dir&&Ee.test(Fe)})}var ge=this.files[this.root+L];return ge&&!ge.dir?ge:null},folder:function(L){if(!L)return this;if(P(L))return this.filter(function(ge,Fe){return Fe.dir&&L.test(ge)});var fe=Q.call(this,this.root+L),Ee=this.clone();return Ee.root=fe.name,Ee},remove:function(L){var ae=this.files[L=this.root+L];if(ae||("/"!==L.slice(-1)&&(L+="/"),ae=this.files[L]),ae&&!ae.dir)delete this.files[L];else for(var fe=this.filter(function(ge,Fe){return Fe.name.slice(0,L.length)===L}),Ee=0;Ee<fe.length;Ee++)delete this.files[fe[Ee].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(L){var ae,fe={};try{if((fe=O.extend(L||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:W.utf8encode})).type=fe.type.toLowerCase(),fe.compression=fe.compression.toUpperCase(),"binarystring"===fe.type&&(fe.type="string"),!fe.type)throw new Error("No output type specified.");O.checkSupport(fe.type),"darwin"!==fe.platform&&"freebsd"!==fe.platform&&"linux"!==fe.platform&&"sunos"!==fe.platform||(fe.platform="UNIX"),"win32"===fe.platform&&(fe.platform="DOS"),ae=x.generateWorker(this,fe,fe.comment||this.comment||"")}catch(ge){(ae=new N("error")).error(ge)}return new ee(ae,fe.type||"string",fe.mimeType)},generateAsync:function(L,ae){return this.generateInternalStream(L).accumulate(ae)},generateNodeStream:function(L,ae){return(L=L||{}).type||(L.type="nodebuffer"),this.generateInternalStream(L).toNodejsStream(ae)}};Le.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(ie,Le,V){"use strict";Le.exports=ie("stream")},{stream:void 0}],17:[function(ie,Le,V){"use strict";var K=ie("./DataReader");function W(O){K.call(this,O);for(var N=0;N<this.data.length;N++)O[N]=255&O[N]}ie("../utils").inherits(W,K),W.prototype.byteAt=function(O){return this.data[this.zero+O]},W.prototype.lastIndexOfSignature=function(O){for(var N=O.charCodeAt(0),ee=O.charCodeAt(1),te=O.charCodeAt(2),re=O.charCodeAt(3),J=this.length-4;0<=J;--J)if(this.data[J]===N&&this.data[J+1]===ee&&this.data[J+2]===te&&this.data[J+3]===re)return J-this.zero;return-1},W.prototype.readAndCheckSignature=function(O){var N=O.charCodeAt(0),ee=O.charCodeAt(1),te=O.charCodeAt(2),re=O.charCodeAt(3),J=this.readData(4);return N===J[0]&&ee===J[1]&&te===J[2]&&re===J[3]},W.prototype.readData=function(O){if(this.checkOffset(O),0===O)return[];var N=this.data.slice(this.zero+this.index,this.zero+this.index+O);return this.index+=O,N},Le.exports=W},{"../utils":32,"./DataReader":18}],18:[function(ie,Le,V){"use strict";var K=ie("../utils");function W(O){this.data=O,this.length=O.length,this.index=0,this.zero=0}W.prototype={checkOffset:function(O){this.checkIndex(this.index+O)},checkIndex:function(O){if(this.length<this.zero+O||O<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+O+"). Corrupted zip ?")},setIndex:function(O){this.checkIndex(O),this.index=O},skip:function(O){this.setIndex(this.index+O)},byteAt:function(){},readInt:function(O){var N,ee=0;for(this.checkOffset(O),N=this.index+O-1;N>=this.index;N--)ee=(ee<<8)+this.byteAt(N);return this.index+=O,ee},readString:function(O){return K.transformTo("string",this.readData(O))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var O=this.readInt(4);return new Date(Date.UTC(1980+(O>>25&127),(O>>21&15)-1,O>>16&31,O>>11&31,O>>5&63,(31&O)<<1))}},Le.exports=W},{"../utils":32}],19:[function(ie,Le,V){"use strict";var K=ie("./Uint8ArrayReader");function W(O){K.call(this,O)}ie("../utils").inherits(W,K),W.prototype.readData=function(O){this.checkOffset(O);var N=this.data.slice(this.zero+this.index,this.zero+this.index+O);return this.index+=O,N},Le.exports=W},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(ie,Le,V){"use strict";var K=ie("./DataReader");function W(O){K.call(this,O)}ie("../utils").inherits(W,K),W.prototype.byteAt=function(O){return this.data.charCodeAt(this.zero+O)},W.prototype.lastIndexOfSignature=function(O){return this.data.lastIndexOf(O)-this.zero},W.prototype.readAndCheckSignature=function(O){return O===this.readData(4)},W.prototype.readData=function(O){this.checkOffset(O);var N=this.data.slice(this.zero+this.index,this.zero+this.index+O);return this.index+=O,N},Le.exports=W},{"../utils":32,"./DataReader":18}],21:[function(ie,Le,V){"use strict";var K=ie("./ArrayReader");function W(O){K.call(this,O)}ie("../utils").inherits(W,K),W.prototype.readData=function(O){if(this.checkOffset(O),0===O)return new Uint8Array(0);var N=this.data.subarray(this.zero+this.index,this.zero+this.index+O);return this.index+=O,N},Le.exports=W},{"../utils":32,"./ArrayReader":17}],22:[function(ie,Le,V){"use strict";var K=ie("../utils"),W=ie("../support"),O=ie("./ArrayReader"),N=ie("./StringReader"),ee=ie("./NodeBufferReader"),te=ie("./Uint8ArrayReader");Le.exports=function(re){var J=K.getTypeOf(re);return K.checkSupport(J),"string"!==J||W.uint8array?"nodebuffer"===J?new ee(re):W.uint8array?new te(K.transformTo("uint8array",re)):new O(K.transformTo("array",re)):new N(re)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(ie,Le,V){"use strict";V.LOCAL_FILE_HEADER="PK\x03\x04",V.CENTRAL_FILE_HEADER="PK\x01\x02",V.CENTRAL_DIRECTORY_END="PK\x05\x06",V.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",V.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",V.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(ie,Le,V){"use strict";var K=ie("./GenericWorker"),W=ie("../utils");function O(N){K.call(this,"ConvertWorker to "+N),this.destType=N}W.inherits(O,K),O.prototype.processChunk=function(N){this.push({data:W.transformTo(this.destType,N.data),meta:N.meta})},Le.exports=O},{"../utils":32,"./GenericWorker":28}],25:[function(ie,Le,V){"use strict";var K=ie("./GenericWorker"),W=ie("../crc32");function O(){K.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}ie("../utils").inherits(O,K),O.prototype.processChunk=function(N){this.streamInfo.crc32=W(N.data,this.streamInfo.crc32||0),this.push(N)},Le.exports=O},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(ie,Le,V){"use strict";var K=ie("../utils"),W=ie("./GenericWorker");function O(N){W.call(this,"DataLengthProbe for "+N),this.propName=N,this.withStreamInfo(N,0)}K.inherits(O,W),O.prototype.processChunk=function(N){N&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+N.data.length),W.prototype.processChunk.call(this,N)},Le.exports=O},{"../utils":32,"./GenericWorker":28}],27:[function(ie,Le,V){"use strict";var K=ie("../utils"),W=ie("./GenericWorker");function O(N){W.call(this,"DataWorker");var ee=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,N.then(function(te){ee.dataIsReady=!0,ee.data=te,ee.max=te&&te.length||0,ee.type=K.getTypeOf(te),ee.isPaused||ee._tickAndRepeat()},function(te){ee.error(te)})}K.inherits(O,W),O.prototype.cleanUp=function(){W.prototype.cleanUp.call(this),this.data=null},O.prototype.resume=function(){return!!W.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,K.delay(this._tickAndRepeat,[],this)),!0)},O.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(K.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},O.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var N=null,ee=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":N=this.data.substring(this.index,ee);break;case"uint8array":N=this.data.subarray(this.index,ee);break;case"array":case"nodebuffer":N=this.data.slice(this.index,ee)}return this.index=ee,this.push({data:N,meta:{percent:this.max?this.index/this.max*100:0}})},Le.exports=O},{"../utils":32,"./GenericWorker":28}],28:[function(ie,Le,V){"use strict";function K(W){this.name=W||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}K.prototype={push:function(W){this.emit("data",W)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(W){this.emit("error",W)}return!0},error:function(W){return!this.isFinished&&(this.isPaused?this.generatedError=W:(this.isFinished=!0,this.emit("error",W),this.previous&&this.previous.error(W),this.cleanUp()),!0)},on:function(W,O){return this._listeners[W].push(O),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(W,O){if(this._listeners[W])for(var N=0;N<this._listeners[W].length;N++)this._listeners[W][N].call(this,O)},pipe:function(W){return W.registerPrevious(this)},registerPrevious:function(W){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=W.streamInfo,this.mergeStreamInfo(),this.previous=W;var O=this;return W.on("data",function(N){O.processChunk(N)}),W.on("end",function(){O.end()}),W.on("error",function(N){O.error(N)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var W=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),W=!0),this.previous&&this.previous.resume(),!W},flush:function(){},processChunk:function(W){this.push(W)},withStreamInfo:function(W,O){return this.extraStreamInfo[W]=O,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var W in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,W)&&(this.streamInfo[W]=this.extraStreamInfo[W])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var W="Worker "+this.name;return this.previous?this.previous+" -> "+W:W}},Le.exports=K},{}],29:[function(ie,Le,V){"use strict";var K=ie("../utils"),W=ie("./ConvertWorker"),O=ie("./GenericWorker"),N=ie("../base64"),ee=ie("../support"),te=ie("../external"),re=null;if(ee.nodestream)try{re=ie("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(j,k,$){var B=k;switch(k){case"blob":case"arraybuffer":B="uint8array";break;case"base64":B="string"}try{this._internalType=B,this._outputType=k,this._mimeType=$,K.checkSupport(B),this._worker=j.pipe(new W(B)),j.lock()}catch(Q){this._worker=new O("error"),this._worker.error(Q)}}x.prototype={accumulate:function(j){return function J(j,k){return new te.Promise(function($,B){var Q=[],P=j._internalType,z=j._outputType,L=j._mimeType;j.on("data",function(ae,fe){Q.push(ae),k&&k(fe)}).on("error",function(ae){Q=[],B(ae)}).on("end",function(){try{var ae=function(fe,Ee,ge){switch(fe){case"blob":return K.newBlob(K.transformTo("arraybuffer",Ee),ge);case"base64":return N.encode(Ee);default:return K.transformTo(fe,Ee)}}(z,function(fe,Ee){var ge,Fe=0,Ke=null,G=0;for(ge=0;ge<Ee.length;ge++)G+=Ee[ge].length;switch(fe){case"string":return Ee.join("");case"array":return Array.prototype.concat.apply([],Ee);case"uint8array":for(Ke=new Uint8Array(G),ge=0;ge<Ee.length;ge++)Ke.set(Ee[ge],Fe),Fe+=Ee[ge].length;return Ke;case"nodebuffer":return Buffer.concat(Ee);default:throw new Error("concat : unsupported type '"+fe+"'")}}(P,Q),L);$(ae)}catch(fe){B(fe)}Q=[]}).resume()})}(this,j)},on:function(j,k){var $=this;return this._worker.on(j,"data"===j?function(B){k.call($,B.data,B.meta)}:function(){K.delay(k,arguments,$)}),this},resume:function(){return K.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(K.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new re(this,{objectMode:"nodebuffer"!==this._outputType},j)}},Le.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(ie,Le,V){"use strict";if(V.base64=!0,V.array=!0,V.string=!0,V.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",V.nodebuffer=typeof Buffer<"u",V.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")V.blob=!1;else{var K=new ArrayBuffer(0);try{V.blob=0===new Blob([K],{type:"application/zip"}).size}catch{try{var W=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);W.append(K),V.blob=0===W.getBlob("application/zip").size}catch{V.blob=!1}}}try{V.nodestream=!!ie("readable-stream").Readable}catch{V.nodestream=!1}},{"readable-stream":16}],31:[function(ie,Le,V){"use strict";for(var K=ie("./utils"),W=ie("./support"),O=ie("./nodejsUtils"),N=ie("./stream/GenericWorker"),ee=new Array(256),te=0;te<256;te++)ee[te]=252<=te?6:248<=te?5:240<=te?4:224<=te?3:192<=te?2:1;function re(){N.call(this,"utf-8 decode"),this.leftOver=null}function J(){N.call(this,"utf-8 encode")}ee[254]=ee[254]=1,V.utf8encode=function(x){return W.nodebuffer?O.newBufferFrom(x,"utf-8"):function(j){var k,$,B,Q,P,z=j.length,L=0;for(Q=0;Q<z;Q++)55296==(64512&($=j.charCodeAt(Q)))&&Q+1<z&&56320==(64512&(B=j.charCodeAt(Q+1)))&&($=65536+($-55296<<10)+(B-56320),Q++),L+=$<128?1:$<2048?2:$<65536?3:4;for(k=W.uint8array?new Uint8Array(L):new Array(L),Q=P=0;P<L;Q++)55296==(64512&($=j.charCodeAt(Q)))&&Q+1<z&&56320==(64512&(B=j.charCodeAt(Q+1)))&&($=65536+($-55296<<10)+(B-56320),Q++),$<128?k[P++]=$:($<2048?k[P++]=192|$>>>6:($<65536?k[P++]=224|$>>>12:(k[P++]=240|$>>>18,k[P++]=128|$>>>12&63),k[P++]=128|$>>>6&63),k[P++]=128|63&$);return k}(x)},V.utf8decode=function(x){return W.nodebuffer?K.transformTo("nodebuffer",x).toString("utf-8"):function(j){var k,$,B,Q,P=j.length,z=new Array(2*P);for(k=$=0;k<P;)if((B=j[k++])<128)z[$++]=B;else if(4<(Q=ee[B]))z[$++]=65533,k+=Q-1;else{for(B&=2===Q?31:3===Q?15:7;1<Q&&k<P;)B=B<<6|63&j[k++],Q--;1<Q?z[$++]=65533:B<65536?z[$++]=B:(z[$++]=55296|(B-=65536)>>10&1023,z[$++]=56320|1023&B)}return z.length!==$&&(z.subarray?z=z.subarray(0,$):z.length=$),K.applyFromCharCode(z)}(x=K.transformTo(W.uint8array?"uint8array":"array",x))},K.inherits(re,N),re.prototype.processChunk=function(x){var j=K.transformTo(W.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(W.uint8array){var k=j;(j=new Uint8Array(k.length+this.leftOver.length)).set(this.leftOver,0),j.set(k,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var $=function(Q,P){var z;for((P=P||Q.length)>Q.length&&(P=Q.length),z=P-1;0<=z&&128==(192&Q[z]);)z--;return z<0||0===z?P:z+ee[Q[z]]>P?z:P}(j),B=j;$!==j.length&&(W.uint8array?(B=j.subarray(0,$),this.leftOver=j.subarray($,j.length)):(B=j.slice(0,$),this.leftOver=j.slice($,j.length))),this.push({data:V.utf8decode(B),meta:x.meta})},re.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:V.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},V.Utf8DecodeWorker=re,K.inherits(J,N),J.prototype.processChunk=function(x){this.push({data:V.utf8encode(x.data),meta:x.meta})},V.Utf8EncodeWorker=J},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(ie,Le,V){"use strict";var K=ie("./support"),W=ie("./base64"),O=ie("./nodejsUtils"),N=ie("./external");function ee(k){return k}function te(k,$){for(var B=0;B<k.length;++B)$[B]=255&k.charCodeAt(B);return $}ie("setimmediate"),V.newBlob=function(k,$){V.checkSupport("blob");try{return new Blob([k],{type:$})}catch{try{var B=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return B.append(k),B.getBlob($)}catch{throw new Error("Bug : can't construct the Blob.")}}};var re={stringifyByChunk:function(k,$,B){var Q=[],P=0,z=k.length;if(z<=B)return String.fromCharCode.apply(null,k);for(;P<z;)Q.push(String.fromCharCode.apply(null,"array"===$||"nodebuffer"===$?k.slice(P,Math.min(P+B,z)):k.subarray(P,Math.min(P+B,z)))),P+=B;return Q.join("")},stringifyByChar:function(k){for(var $="",B=0;B<k.length;B++)$+=String.fromCharCode(k[B]);return $},applyCanBeUsed:{uint8array:function(){try{return K.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return K.nodebuffer&&1===String.fromCharCode.apply(null,O.allocBuffer(1)).length}catch{return!1}}()}};function J(k){var $=65536,B=V.getTypeOf(k),Q=!0;if("uint8array"===B?Q=re.applyCanBeUsed.uint8array:"nodebuffer"===B&&(Q=re.applyCanBeUsed.nodebuffer),Q)for(;1<$;)try{return re.stringifyByChunk(k,B,$)}catch{$=Math.floor($/2)}return re.stringifyByChar(k)}function x(k,$){for(var B=0;B<k.length;B++)$[B]=k[B];return $}V.applyFromCharCode=J;var j={};j.string={string:ee,array:function(k){return te(k,new Array(k.length))},arraybuffer:function(k){return j.string.uint8array(k).buffer},uint8array:function(k){return te(k,new Uint8Array(k.length))},nodebuffer:function(k){return te(k,O.allocBuffer(k.length))}},j.array={string:J,array:ee,arraybuffer:function(k){return new Uint8Array(k).buffer},uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return O.newBufferFrom(k)}},j.arraybuffer={string:function(k){return J(new Uint8Array(k))},array:function(k){return x(new Uint8Array(k),new Array(k.byteLength))},arraybuffer:ee,uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return O.newBufferFrom(new Uint8Array(k))}},j.uint8array={string:J,array:function(k){return x(k,new Array(k.length))},arraybuffer:function(k){return k.buffer},uint8array:ee,nodebuffer:function(k){return O.newBufferFrom(k)}},j.nodebuffer={string:J,array:function(k){return x(k,new Array(k.length))},arraybuffer:function(k){return j.nodebuffer.uint8array(k).buffer},uint8array:function(k){return x(k,new Uint8Array(k.length))},nodebuffer:ee},V.transformTo=function(k,$){if($=$||"",!k)return $;V.checkSupport(k);var B=V.getTypeOf($);return j[B][k]($)},V.resolve=function(k){for(var $=k.split("/"),B=[],Q=0;Q<$.length;Q++){var P=$[Q];"."===P||""===P&&0!==Q&&Q!==$.length-1||(".."===P?B.pop():B.push(P))}return B.join("/")},V.getTypeOf=function(k){return"string"==typeof k?"string":"[object Array]"===Object.prototype.toString.call(k)?"array":K.nodebuffer&&O.isBuffer(k)?"nodebuffer":K.uint8array&&k instanceof Uint8Array?"uint8array":K.arraybuffer&&k instanceof ArrayBuffer?"arraybuffer":void 0},V.checkSupport=function(k){if(!K[k.toLowerCase()])throw new Error(k+" is not supported by this platform")},V.MAX_VALUE_16BITS=65535,V.MAX_VALUE_32BITS=-1,V.pretty=function(k){var $,B,Q="";for(B=0;B<(k||"").length;B++)Q+="\\x"+(($=k.charCodeAt(B))<16?"0":"")+$.toString(16).toUpperCase();return Q},V.delay=function(k,$,B){setImmediate(function(){k.apply(B||null,$||[])})},V.inherits=function(k,$){function B(){}B.prototype=$.prototype,k.prototype=new B},V.extend=function(){var k,$,B={};for(k=0;k<arguments.length;k++)for($ in arguments[k])Object.prototype.hasOwnProperty.call(arguments[k],$)&&void 0===B[$]&&(B[$]=arguments[k][$]);return B},V.prepareContent=function(k,$,B,Q,P){return N.Promise.resolve($).then(function(z){return K.blob&&(z instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z)))&&typeof FileReader<"u"?new N.Promise(function(L,ae){var fe=new FileReader;fe.onload=function(Ee){L(Ee.target.result)},fe.onerror=function(Ee){ae(Ee.target.error)},fe.readAsArrayBuffer(z)}):z}).then(function(z){var ae,L=V.getTypeOf(z);return L?("arraybuffer"===L?z=V.transformTo("uint8array",z):"string"===L&&(P?z=W.decode(z):B&&!0!==Q&&(z=te(ae=z,K.uint8array?new Uint8Array(ae.length):new Array(ae.length)))),z):N.Promise.reject(new Error("Can't read the data of '"+k+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(ie,Le,V){"use strict";var K=ie("./reader/readerFor"),W=ie("./utils"),O=ie("./signature"),N=ie("./zipEntry"),ee=ie("./support");function te(re){this.files=[],this.loadOptions=re}te.prototype={checkSignature:function(re){if(!this.reader.readAndCheckSignature(re)){this.reader.index-=4;var J=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+W.pretty(J)+", expected "+W.pretty(re)+")")}},isSignature:function(re,J){var x=this.reader.index;this.reader.setIndex(re);var j=this.reader.readString(4)===J;return this.reader.setIndex(x),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var re=this.reader.readData(this.zipCommentLength),x=W.transformTo(ee.uint8array?"uint8array":"array",re);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var re,J,x,j=this.zip64EndOfCentralSize-44;0<j;)re=this.reader.readInt(2),J=this.reader.readInt(4),x=this.reader.readData(J),this.zip64ExtensibleData[re]={id:re,length:J,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var re,J;for(re=0;re<this.files.length;re++)this.reader.setIndex((J=this.files[re]).localHeaderOffset),this.checkSignature(O.LOCAL_FILE_HEADER),J.readLocalPart(this.reader),J.handleUTF8(),J.processAttributes()},readCentralDir:function(){var re;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(O.CENTRAL_FILE_HEADER);)(re=new N({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(re);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var re=this.reader.lastIndexOfSignature(O.CENTRAL_DIRECTORY_END);if(re<0)throw this.isSignature(0,O.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(re);var J=re;if(this.checkSignature(O.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===W.MAX_VALUE_16BITS||this.diskWithCentralDirStart===W.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===W.MAX_VALUE_16BITS||this.centralDirRecords===W.MAX_VALUE_16BITS||this.centralDirSize===W.MAX_VALUE_32BITS||this.centralDirOffset===W.MAX_VALUE_32BITS){if(this.zip64=!0,(re=this.reader.lastIndexOfSignature(O.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(re),this.checkSignature(O.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,O.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(O.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(O.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var j=J-x;if(0<j)this.isSignature(J,O.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(re){this.reader=K(re)},load:function(re){this.prepareReader(re),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Le.exports=te},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(ie,Le,V){"use strict";var K=ie("./reader/readerFor"),W=ie("./utils"),O=ie("./compressedObject"),N=ie("./crc32"),ee=ie("./utf8"),te=ie("./compressions"),re=ie("./support");function J(x,j){this.options=x,this.loadOptions=j}J.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(x){var j,k;if(x.skip(22),this.fileNameLength=x.readInt(2),k=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(k),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(j=function($){for(var B in te)if(Object.prototype.hasOwnProperty.call(te,B)&&te[B].magic===$)return te[B];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+W.pretty(this.compressionMethod)+" unknown (inner file : "+W.transformTo("string",this.fileName)+")");this.decompressed=new O(this.compressedSize,this.uncompressedSize,this.crc32,j,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var j=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(j),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==x&&(this.dosPermissions=63&this.externalFileAttributes),3==x&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=K(this.extraFields[1].value);this.uncompressedSize===W.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===W.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===W.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===W.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var j,k,$,B=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<B;)j=x.readInt(2),k=x.readInt(2),$=x.readData(k),this.extraFields[j]={id:j,length:k,value:$};x.setIndex(B)},handleUTF8:function(){var x=re.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ee.utf8decode(this.fileName),this.fileCommentStr=ee.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(null!==j)this.fileNameStr=j;else{var k=W.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(k)}var $=this.findExtraFieldUnicodeComment();if(null!==$)this.fileCommentStr=$;else{var B=W.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(B)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var j=K(x.value);return 1!==j.readInt(1)||N(this.fileName)!==j.readInt(4)?null:ee.utf8decode(j.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var j=K(x.value);return 1!==j.readInt(1)||N(this.fileComment)!==j.readInt(4)?null:ee.utf8decode(j.readData(x.length-5))}return null}},Le.exports=J},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(ie,Le,V){"use strict";function K(j,k,$){this.name=j,this.dir=$.dir,this.date=$.date,this.comment=$.comment,this.unixPermissions=$.unixPermissions,this.dosPermissions=$.dosPermissions,this._data=k,this._dataBinary=$.binary,this.options={compression:$.compression,compressionOptions:$.compressionOptions}}var W=ie("./stream/StreamHelper"),O=ie("./stream/DataWorker"),N=ie("./utf8"),ee=ie("./compressedObject"),te=ie("./stream/GenericWorker");K.prototype={internalStream:function(j){var k=null,$="string";try{if(!j)throw new Error("No output type specified.");var B="string"===($=j.toLowerCase())||"text"===$;"binarystring"!==$&&"text"!==$||($="string"),k=this._decompressWorker();var Q=!this._dataBinary;Q&&!B&&(k=k.pipe(new N.Utf8EncodeWorker)),!Q&&B&&(k=k.pipe(new N.Utf8DecodeWorker))}catch(P){(k=new te("error")).error(P)}return new W(k,$,"")},async:function(j,k){return this.internalStream(j).accumulate(k)},nodeStream:function(j,k){return this.internalStream(j||"nodebuffer").toNodejsStream(k)},_compressWorker:function(j,k){if(this._data instanceof ee&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var $=this._decompressWorker();return this._dataBinary||($=$.pipe(new N.Utf8EncodeWorker)),ee.createWorkerFrom($,j,k)},_decompressWorker:function(){return this._data instanceof ee?this._data.getContentWorker():this._data instanceof te?this._data:new O(this._data)}};for(var re=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],J=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<re.length;x++)K.prototype[re[x]]=J;Le.exports=K},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(ie,Le,V){(function(K){"use strict";var W,O,N=K.MutationObserver||K.WebKitMutationObserver;if(N){var ee=0,te=new N(j),re=K.document.createTextNode("");te.observe(re,{characterData:!0}),W=function(){re.data=ee=++ee%2}}else if(K.setImmediate||void 0===K.MessageChannel)W="document"in K&&"onreadystatechange"in K.document.createElement("script")?function(){var k=K.document.createElement("script");k.onreadystatechange=function(){j(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},K.document.documentElement.appendChild(k)}:function(){setTimeout(j,0)};else{var J=new K.MessageChannel;J.port1.onmessage=j,W=function(){J.port2.postMessage(0)}}var x=[];function j(){var k,$;O=!0;for(var B=x.length;B;){for($=x,x=[],k=-1;++k<B;)$[k]();B=x.length}O=!1}Le.exports=function(k){1!==x.push(k)||O||W()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(ie,Le,V){"use strict";var K=ie("immediate");function W(){}var O={},N=["REJECTED"],ee=["FULFILLED"],te=["PENDING"];function re(B){if("function"!=typeof B)throw new TypeError("resolver must be a function");this.state=te,this.queue=[],this.outcome=void 0,B!==W&&k(this,B)}function J(B,Q,P){this.promise=B,"function"==typeof Q&&(this.onFulfilled=Q,this.callFulfilled=this.otherCallFulfilled),"function"==typeof P&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function x(B,Q,P){K(function(){var z;try{z=Q(P)}catch(L){return O.reject(B,L)}z===B?O.reject(B,new TypeError("Cannot resolve promise with itself")):O.resolve(B,z)})}function j(B){var Q=B&&B.then;if(B&&("object"==typeof B||"function"==typeof B)&&"function"==typeof Q)return function(){Q.apply(B,arguments)}}function k(B,Q){var P=!1;function z(fe){P||(P=!0,O.reject(B,fe))}function L(fe){P||(P=!0,O.resolve(B,fe))}var ae=$(function(){Q(L,z)});"error"===ae.status&&z(ae.value)}function $(B,Q){var P={};try{P.value=B(Q),P.status="success"}catch(z){P.status="error",P.value=z}return P}(Le.exports=re).prototype.finally=function(B){if("function"!=typeof B)return this;var Q=this.constructor;return this.then(function(P){return Q.resolve(B()).then(function(){return P})},function(P){return Q.resolve(B()).then(function(){throw P})})},re.prototype.catch=function(B){return this.then(null,B)},re.prototype.then=function(B,Q){if("function"!=typeof B&&this.state===ee||"function"!=typeof Q&&this.state===N)return this;var P=new this.constructor(W);return this.state!==te?x(P,this.state===ee?B:Q,this.outcome):this.queue.push(new J(P,B,Q)),P},J.prototype.callFulfilled=function(B){O.resolve(this.promise,B)},J.prototype.otherCallFulfilled=function(B){x(this.promise,this.onFulfilled,B)},J.prototype.callRejected=function(B){O.reject(this.promise,B)},J.prototype.otherCallRejected=function(B){x(this.promise,this.onRejected,B)},O.resolve=function(B,Q){var P=$(j,Q);if("error"===P.status)return O.reject(B,P.value);var z=P.value;if(z)k(B,z);else{B.state=ee,B.outcome=Q;for(var L=-1,ae=B.queue.length;++L<ae;)B.queue[L].callFulfilled(Q)}return B},O.reject=function(B,Q){B.state=N,B.outcome=Q;for(var P=-1,z=B.queue.length;++P<z;)B.queue[P].callRejected(Q);return B},re.resolve=function(B){return B instanceof this?B:O.resolve(new this(W),B)},re.reject=function(B){var Q=new this(W);return O.reject(Q,B)},re.all=function(B){var Q=this;if("[object Array]"!==Object.prototype.toString.call(B))return this.reject(new TypeError("must be an array"));var P=B.length,z=!1;if(!P)return this.resolve([]);for(var L=new Array(P),ae=0,fe=-1,Ee=new this(W);++fe<P;)ge(B[fe],fe);return Ee;function ge(Fe,Ke){Q.resolve(Fe).then(function(G){L[Ke]=G,++ae!==P||z||(z=!0,O.resolve(Ee,L))},function(G){z||(z=!0,O.reject(Ee,G))})}},re.race=function(B){if("[object Array]"!==Object.prototype.toString.call(B))return this.reject(new TypeError("must be an array"));var P=B.length,z=!1;if(!P)return this.resolve([]);for(var L=-1,ae=new this(W);++L<P;)this.resolve(B[L]).then(function(Ee){z||(z=!0,O.resolve(ae,Ee))},function(Ee){z||(z=!0,O.reject(ae,Ee))});return ae}},{immediate:36}],38:[function(ie,Le,V){"use strict";var K={};(0,ie("./lib/utils/common").assign)(K,ie("./lib/deflate"),ie("./lib/inflate"),ie("./lib/zlib/constants")),Le.exports=K},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(ie,Le,V){"use strict";var K=ie("./zlib/deflate"),W=ie("./utils/common"),O=ie("./utils/strings"),N=ie("./zlib/messages"),ee=ie("./zlib/zstream"),te=Object.prototype.toString,re=0,J=-1,x=0,j=8;function k(B){if(!(this instanceof k))return new k(B);this.options=W.assign({level:J,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},B||{});var Q=this.options;Q.raw&&0<Q.windowBits?Q.windowBits=-Q.windowBits:Q.gzip&&0<Q.windowBits&&Q.windowBits<16&&(Q.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ee,this.strm.avail_out=0;var P=K.deflateInit2(this.strm,Q.level,Q.method,Q.windowBits,Q.memLevel,Q.strategy);if(P!==re)throw new Error(N[P]);if(Q.header&&K.deflateSetHeader(this.strm,Q.header),Q.dictionary){var z;if(z="string"==typeof Q.dictionary?O.string2buf(Q.dictionary):"[object ArrayBuffer]"===te.call(Q.dictionary)?new Uint8Array(Q.dictionary):Q.dictionary,(P=K.deflateSetDictionary(this.strm,z))!==re)throw new Error(N[P]);this._dict_set=!0}}function $(B,Q){var P=new k(Q);if(P.push(B,!0),P.err)throw P.msg||N[P.err];return P.result}k.prototype.push=function(B,Q){var P,z,L=this.strm,ae=this.options.chunkSize;if(this.ended)return!1;z=Q===~~Q?Q:!0===Q?4:0,L.input="string"==typeof B?O.string2buf(B):"[object ArrayBuffer]"===te.call(B)?new Uint8Array(B):B,L.next_in=0,L.avail_in=L.input.length;do{if(0===L.avail_out&&(L.output=new W.Buf8(ae),L.next_out=0,L.avail_out=ae),1!==(P=K.deflate(L,z))&&P!==re)return this.onEnd(P),!(this.ended=!0);0!==L.avail_out&&(0!==L.avail_in||4!==z&&2!==z)||this.onData("string"===this.options.to?O.buf2binstring(W.shrinkBuf(L.output,L.next_out)):W.shrinkBuf(L.output,L.next_out))}while((0<L.avail_in||0===L.avail_out)&&1!==P);return 4===z?(P=K.deflateEnd(this.strm),this.onEnd(P),this.ended=!0,P===re):2!==z||(this.onEnd(re),!(L.avail_out=0))},k.prototype.onData=function(B){this.chunks.push(B)},k.prototype.onEnd=function(B){B===re&&(this.result="string"===this.options.to?this.chunks.join(""):W.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg},V.Deflate=k,V.deflate=$,V.deflateRaw=function(B,Q){return(Q=Q||{}).raw=!0,$(B,Q)},V.gzip=function(B,Q){return(Q=Q||{}).gzip=!0,$(B,Q)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(ie,Le,V){"use strict";var K=ie("./zlib/inflate"),W=ie("./utils/common"),O=ie("./utils/strings"),N=ie("./zlib/constants"),ee=ie("./zlib/messages"),te=ie("./zlib/zstream"),re=ie("./zlib/gzheader"),J=Object.prototype.toString;function x(k){if(!(this instanceof x))return new x(k);this.options=W.assign({chunkSize:16384,windowBits:0,to:""},k||{});var $=this.options;$.raw&&0<=$.windowBits&&$.windowBits<16&&($.windowBits=-$.windowBits,0===$.windowBits&&($.windowBits=-15)),!(0<=$.windowBits&&$.windowBits<16)||k&&k.windowBits||($.windowBits+=32),15<$.windowBits&&$.windowBits<48&&!(15&$.windowBits)&&($.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new te,this.strm.avail_out=0;var B=K.inflateInit2(this.strm,$.windowBits);if(B!==N.Z_OK)throw new Error(ee[B]);this.header=new re,K.inflateGetHeader(this.strm,this.header)}function j(k,$){var B=new x($);if(B.push(k,!0),B.err)throw B.msg||ee[B.err];return B.result}x.prototype.push=function(k,$){var B,Q,P,z,L,ae,fe=this.strm,Ee=this.options.chunkSize,ge=this.options.dictionary,Fe=!1;if(this.ended)return!1;Q=$===~~$?$:!0===$?N.Z_FINISH:N.Z_NO_FLUSH,fe.input="string"==typeof k?O.binstring2buf(k):"[object ArrayBuffer]"===J.call(k)?new Uint8Array(k):k,fe.next_in=0,fe.avail_in=fe.input.length;do{if(0===fe.avail_out&&(fe.output=new W.Buf8(Ee),fe.next_out=0,fe.avail_out=Ee),(B=K.inflate(fe,N.Z_NO_FLUSH))===N.Z_NEED_DICT&&ge&&(ae="string"==typeof ge?O.string2buf(ge):"[object ArrayBuffer]"===J.call(ge)?new Uint8Array(ge):ge,B=K.inflateSetDictionary(this.strm,ae)),B===N.Z_BUF_ERROR&&!0===Fe&&(B=N.Z_OK,Fe=!1),B!==N.Z_STREAM_END&&B!==N.Z_OK)return this.onEnd(B),!(this.ended=!0);fe.next_out&&(0!==fe.avail_out&&B!==N.Z_STREAM_END&&(0!==fe.avail_in||Q!==N.Z_FINISH&&Q!==N.Z_SYNC_FLUSH)||("string"===this.options.to?(P=O.utf8border(fe.output,fe.next_out),z=fe.next_out-P,L=O.buf2string(fe.output,P),fe.next_out=z,fe.avail_out=Ee-z,z&&W.arraySet(fe.output,fe.output,P,z,0),this.onData(L)):this.onData(W.shrinkBuf(fe.output,fe.next_out)))),0===fe.avail_in&&0===fe.avail_out&&(Fe=!0)}while((0<fe.avail_in||0===fe.avail_out)&&B!==N.Z_STREAM_END);return B===N.Z_STREAM_END&&(Q=N.Z_FINISH),Q===N.Z_FINISH?(B=K.inflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===N.Z_OK):Q!==N.Z_SYNC_FLUSH||(this.onEnd(N.Z_OK),!(fe.avail_out=0))},x.prototype.onData=function(k){this.chunks.push(k)},x.prototype.onEnd=function(k){k===N.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):W.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},V.Inflate=x,V.inflate=j,V.inflateRaw=function(k,$){return($=$||{}).raw=!0,j(k,$)},V.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(ie,Le,V){"use strict";var K=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";V.assign=function(N){for(var ee=Array.prototype.slice.call(arguments,1);ee.length;){var te=ee.shift();if(te){if("object"!=typeof te)throw new TypeError(te+"must be non-object");for(var re in te)te.hasOwnProperty(re)&&(N[re]=te[re])}}return N},V.shrinkBuf=function(N,ee){return N.length===ee?N:N.subarray?N.subarray(0,ee):(N.length=ee,N)};var W={arraySet:function(N,ee,te,re,J){if(ee.subarray&&N.subarray)N.set(ee.subarray(te,te+re),J);else for(var x=0;x<re;x++)N[J+x]=ee[te+x]},flattenChunks:function(N){var ee,te,re,J,x,j;for(ee=re=0,te=N.length;ee<te;ee++)re+=N[ee].length;for(j=new Uint8Array(re),ee=J=0,te=N.length;ee<te;ee++)j.set(x=N[ee],J),J+=x.length;return j}},O={arraySet:function(N,ee,te,re,J){for(var x=0;x<re;x++)N[J+x]=ee[te+x]},flattenChunks:function(N){return[].concat.apply([],N)}};V.setTyped=function(N){N?(V.Buf8=Uint8Array,V.Buf16=Uint16Array,V.Buf32=Int32Array,V.assign(V,W)):(V.Buf8=Array,V.Buf16=Array,V.Buf32=Array,V.assign(V,O))},V.setTyped(K)},{}],42:[function(ie,Le,V){"use strict";var K=ie("./common"),W=!0,O=!0;try{String.fromCharCode.apply(null,[0])}catch{W=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{O=!1}for(var N=new K.Buf8(256),ee=0;ee<256;ee++)N[ee]=252<=ee?6:248<=ee?5:240<=ee?4:224<=ee?3:192<=ee?2:1;function te(re,J){if(J<65537&&(re.subarray&&O||!re.subarray&&W))return String.fromCharCode.apply(null,K.shrinkBuf(re,J));for(var x="",j=0;j<J;j++)x+=String.fromCharCode(re[j]);return x}N[254]=N[254]=1,V.string2buf=function(re){var J,x,j,k,$,B=re.length,Q=0;for(k=0;k<B;k++)55296==(64512&(x=re.charCodeAt(k)))&&k+1<B&&56320==(64512&(j=re.charCodeAt(k+1)))&&(x=65536+(x-55296<<10)+(j-56320),k++),Q+=x<128?1:x<2048?2:x<65536?3:4;for(J=new K.Buf8(Q),k=$=0;$<Q;k++)55296==(64512&(x=re.charCodeAt(k)))&&k+1<B&&56320==(64512&(j=re.charCodeAt(k+1)))&&(x=65536+(x-55296<<10)+(j-56320),k++),x<128?J[$++]=x:(x<2048?J[$++]=192|x>>>6:(x<65536?J[$++]=224|x>>>12:(J[$++]=240|x>>>18,J[$++]=128|x>>>12&63),J[$++]=128|x>>>6&63),J[$++]=128|63&x);return J},V.buf2binstring=function(re){return te(re,re.length)},V.binstring2buf=function(re){for(var J=new K.Buf8(re.length),x=0,j=J.length;x<j;x++)J[x]=re.charCodeAt(x);return J},V.buf2string=function(re,J){var x,j,k,$,B=J||re.length,Q=new Array(2*B);for(x=j=0;x<B;)if((k=re[x++])<128)Q[j++]=k;else if(4<($=N[k]))Q[j++]=65533,x+=$-1;else{for(k&=2===$?31:3===$?15:7;1<$&&x<B;)k=k<<6|63&re[x++],$--;1<$?Q[j++]=65533:k<65536?Q[j++]=k:(Q[j++]=55296|(k-=65536)>>10&1023,Q[j++]=56320|1023&k)}return te(Q,j)},V.utf8border=function(re,J){var x;for((J=J||re.length)>re.length&&(J=re.length),x=J-1;0<=x&&128==(192&re[x]);)x--;return x<0||0===x?J:x+N[re[x]]>J?x:J}},{"./common":41}],43:[function(ie,Le,V){"use strict";Le.exports=function(K,W,O,N){for(var ee=65535&K|0,te=K>>>16&65535|0,re=0;0!==O;){for(O-=re=2e3<O?2e3:O;te=te+(ee=ee+W[N++]|0)|0,--re;);ee%=65521,te%=65521}return ee|te<<16|0}},{}],44:[function(ie,Le,V){"use strict";Le.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(ie,Le,V){"use strict";var K=function(){for(var W,O=[],N=0;N<256;N++){W=N;for(var ee=0;ee<8;ee++)W=1&W?3988292384^W>>>1:W>>>1;O[N]=W}return O}();Le.exports=function(W,O,N,ee){var te=K,re=ee+N;W^=-1;for(var J=ee;J<re;J++)W=W>>>8^te[255&(W^O[J])];return-1^W}},{}],46:[function(ie,Le,V){"use strict";var K,W=ie("../utils/common"),O=ie("./trees"),N=ie("./adler32"),ee=ie("./crc32"),te=ie("./messages"),re=0,x=0,j=-2,B=2,Q=8,z=286,L=30,ae=19,fe=2*z+1,Ee=15,ge=3,Fe=258,Ke=Fe+ge+1,G=42,ue=113;function Oe(E,ke){return E.msg=te[ke],ke}function ce(E){return(E<<1)-(4<E?9:0)}function Ie(E){for(var ke=E.length;0<=--ke;)E[ke]=0}function ve(E){var ke=E.state,we=ke.pending;we>E.avail_out&&(we=E.avail_out),0!==we&&(W.arraySet(E.output,ke.pending_buf,ke.pending_out,we,E.next_out),E.next_out+=we,ke.pending_out+=we,E.total_out+=we,E.avail_out-=we,ke.pending-=we,0===ke.pending&&(ke.pending_out=0))}function _e(E,ke){O._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,ke),E.block_start=E.strstart,ve(E.strm)}function ct(E,ke){E.pending_buf[E.pending++]=ke}function it(E,ke){E.pending_buf[E.pending++]=ke>>>8&255,E.pending_buf[E.pending++]=255&ke}function Ne(E,ke){var we,Y,M=E.max_chain_length,se=E.strstart,Me=E.prev_length,Ue=E.nice_match,ye=E.strstart>E.w_size-Ke?E.strstart-(E.w_size-Ke):0,Ve=E.window,ne=E.w_mask,pe=E.prev,he=E.strstart+Fe,dt=Ve[se+Me-1],It=Ve[se+Me];E.prev_length>=E.good_match&&(M>>=2),Ue>E.lookahead&&(Ue=E.lookahead);do{if(Ve[(we=ke)+Me]===It&&Ve[we+Me-1]===dt&&Ve[we]===Ve[se]&&Ve[++we]===Ve[se+1]){se+=2,we++;do{}while(Ve[++se]===Ve[++we]&&Ve[++se]===Ve[++we]&&Ve[++se]===Ve[++we]&&Ve[++se]===Ve[++we]&&Ve[++se]===Ve[++we]&&Ve[++se]===Ve[++we]&&Ve[++se]===Ve[++we]&&Ve[++se]===Ve[++we]&&se<he);if(Y=Fe-(he-se),se=he-Fe,Me<Y){if(E.match_start=ke,Ue<=(Me=Y))break;dt=Ve[se+Me-1],It=Ve[se+Me]}}}while((ke=pe[ke&ne])>ye&&0!=--M);return Me<=E.lookahead?Me:E.lookahead}function Vt(E){var ke,we,Y,M,se,Me,Ue,ye,Ve,ne,pe=E.w_size;do{if(M=E.window_size-E.lookahead-E.strstart,E.strstart>=pe+(pe-Ke)){for(W.arraySet(E.window,E.window,pe,pe,0),E.match_start-=pe,E.strstart-=pe,E.block_start-=pe,ke=we=E.hash_size;Y=E.head[--ke],E.head[ke]=pe<=Y?Y-pe:0,--we;);for(ke=we=pe;Y=E.prev[--ke],E.prev[ke]=pe<=Y?Y-pe:0,--we;);M+=pe}if(0===E.strm.avail_in)break;if(Ue=E.window,ye=E.strstart+E.lookahead,ne=void 0,(Ve=M)<(ne=(Me=E.strm).avail_in)&&(ne=Ve),we=0===ne?0:(Me.avail_in-=ne,W.arraySet(Ue,Me.input,Me.next_in,ne,ye),1===Me.state.wrap?Me.adler=N(Me.adler,Ue,ne,ye):2===Me.state.wrap&&(Me.adler=ee(Me.adler,Ue,ne,ye)),Me.next_in+=ne,Me.total_in+=ne,ne),E.lookahead+=we,E.lookahead+E.insert>=ge)for(E.ins_h=E.window[se=E.strstart-E.insert],E.ins_h=(E.ins_h<<E.hash_shift^E.window[se+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[se+ge-1])&E.hash_mask,E.prev[se&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=se,se++,E.insert--,!(E.lookahead+E.insert<ge)););}while(E.lookahead<Ke&&0!==E.strm.avail_in)}function St(E,ke){for(var we,Y;;){if(E.lookahead<Ke){if(Vt(E),E.lookahead<Ke&&ke===re)return 1;if(0===E.lookahead)break}if(we=0,E.lookahead>=ge&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+ge-1])&E.hash_mask,we=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),0!==we&&E.strstart-we<=E.w_size-Ke&&(E.match_length=Ne(E,we)),E.match_length>=ge)if(Y=O._tr_tally(E,E.strstart-E.match_start,E.match_length-ge),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=ge){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+ge-1])&E.hash_mask,we=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,0!=--E.match_length;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else Y=O._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(Y&&(_e(E,!1),0===E.strm.avail_out))return 1}return E.insert=E.strstart<ge-1?E.strstart:ge-1,4===ke?(_e(E,!0),0===E.strm.avail_out?3:4):E.last_lit&&(_e(E,!1),0===E.strm.avail_out)?1:2}function He(E,ke){for(var we,Y,M;;){if(E.lookahead<Ke){if(Vt(E),E.lookahead<Ke&&ke===re)return 1;if(0===E.lookahead)break}if(we=0,E.lookahead>=ge&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+ge-1])&E.hash_mask,we=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=ge-1,0!==we&&E.prev_length<E.max_lazy_match&&E.strstart-we<=E.w_size-Ke&&(E.match_length=Ne(E,we),E.match_length<=5&&(1===E.strategy||E.match_length===ge&&4096<E.strstart-E.match_start)&&(E.match_length=ge-1)),E.prev_length>=ge&&E.match_length<=E.prev_length){for(M=E.strstart+E.lookahead-ge,Y=O._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-ge),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=M&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+ge-1])&E.hash_mask,we=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),0!=--E.prev_length;);if(E.match_available=0,E.match_length=ge-1,E.strstart++,Y&&(_e(E,!1),0===E.strm.avail_out))return 1}else if(E.match_available){if((Y=O._tr_tally(E,0,E.window[E.strstart-1]))&&_e(E,!1),E.strstart++,E.lookahead--,0===E.strm.avail_out)return 1}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(Y=O._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<ge-1?E.strstart:ge-1,4===ke?(_e(E,!0),0===E.strm.avail_out?3:4):E.last_lit&&(_e(E,!1),0===E.strm.avail_out)?1:2}function xe(E,ke,we,Y,M){this.good_length=E,this.max_lazy=ke,this.nice_length=we,this.max_chain=Y,this.func=M}function mt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new W.Buf16(2*fe),this.dyn_dtree=new W.Buf16(2*(2*L+1)),this.bl_tree=new W.Buf16(2*(2*ae+1)),Ie(this.dyn_ltree),Ie(this.dyn_dtree),Ie(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new W.Buf16(Ee+1),this.heap=new W.Buf16(2*z+1),Ie(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new W.Buf16(2*z+1),Ie(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Xe(E){var ke;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=B,(ke=E.state).pending=0,ke.pending_out=0,ke.wrap<0&&(ke.wrap=-ke.wrap),ke.status=ke.wrap?G:ue,E.adler=2===ke.wrap?0:1,ke.last_flush=re,O._tr_init(ke),x):Oe(E,j)}function ft(E){var we,ke=Xe(E);return ke===x&&((we=E.state).window_size=2*we.w_size,Ie(we.head),we.max_lazy_match=K[we.level].max_lazy,we.good_match=K[we.level].good_length,we.nice_match=K[we.level].nice_length,we.max_chain_length=K[we.level].max_chain,we.strstart=0,we.block_start=0,we.lookahead=0,we.insert=0,we.match_length=we.prev_length=ge-1,we.match_available=0,we.ins_h=0),ke}function pt(E,ke,we,Y,M,se){if(!E)return j;var Me=1;if(-1===ke&&(ke=6),Y<0?(Me=0,Y=-Y):15<Y&&(Me=2,Y-=16),M<1||9<M||we!==Q||Y<8||15<Y||ke<0||9<ke||se<0||4<se)return Oe(E,j);8===Y&&(Y=9);var Ue=new mt;return(E.state=Ue).strm=E,Ue.wrap=Me,Ue.gzhead=null,Ue.w_bits=Y,Ue.w_size=1<<Ue.w_bits,Ue.w_mask=Ue.w_size-1,Ue.hash_bits=M+7,Ue.hash_size=1<<Ue.hash_bits,Ue.hash_mask=Ue.hash_size-1,Ue.hash_shift=~~((Ue.hash_bits+ge-1)/ge),Ue.window=new W.Buf8(2*Ue.w_size),Ue.head=new W.Buf16(Ue.hash_size),Ue.prev=new W.Buf16(Ue.w_size),Ue.lit_bufsize=1<<M+6,Ue.pending_buf_size=4*Ue.lit_bufsize,Ue.pending_buf=new W.Buf8(Ue.pending_buf_size),Ue.d_buf=1*Ue.lit_bufsize,Ue.l_buf=3*Ue.lit_bufsize,Ue.level=ke,Ue.strategy=se,Ue.method=we,ft(E)}K=[new xe(0,0,0,0,function(E,ke){var we=65535;for(we>E.pending_buf_size-5&&(we=E.pending_buf_size-5);;){if(E.lookahead<=1){if(Vt(E),0===E.lookahead&&ke===re)return 1;if(0===E.lookahead)break}E.strstart+=E.lookahead,E.lookahead=0;var Y=E.block_start+we;if((0===E.strstart||E.strstart>=Y)&&(E.lookahead=E.strstart-Y,E.strstart=Y,_e(E,!1),0===E.strm.avail_out)||E.strstart-E.block_start>=E.w_size-Ke&&(_e(E,!1),0===E.strm.avail_out))return 1}return E.insert=0,4===ke?(_e(E,!0),0===E.strm.avail_out?3:4):(E.strstart>E.block_start&&_e(E,!1),1)}),new xe(4,4,8,4,St),new xe(4,5,16,8,St),new xe(4,6,32,32,St),new xe(4,4,16,16,He),new xe(8,16,32,32,He),new xe(8,16,128,128,He),new xe(8,32,128,256,He),new xe(32,128,258,1024,He),new xe(32,258,258,4096,He)],V.deflateInit=function(E,ke){return pt(E,ke,Q,15,8,0)},V.deflateInit2=pt,V.deflateReset=ft,V.deflateResetKeep=Xe,V.deflateSetHeader=function(E,ke){return E&&E.state?2!==E.state.wrap?j:(E.state.gzhead=ke,x):j},V.deflate=function(E,ke){var we,Y,M,se;if(!E||!E.state||5<ke||ke<0)return E?Oe(E,j):j;if(Y=E.state,!E.output||!E.input&&0!==E.avail_in||666===Y.status&&4!==ke)return Oe(E,0===E.avail_out?-5:j);if(Y.strm=E,we=Y.last_flush,Y.last_flush=ke,Y.status===G)if(2===Y.wrap)E.adler=0,ct(Y,31),ct(Y,139),ct(Y,8),Y.gzhead?(ct(Y,(Y.gzhead.text?1:0)+(Y.gzhead.hcrc?2:0)+(Y.gzhead.extra?4:0)+(Y.gzhead.name?8:0)+(Y.gzhead.comment?16:0)),ct(Y,255&Y.gzhead.time),ct(Y,Y.gzhead.time>>8&255),ct(Y,Y.gzhead.time>>16&255),ct(Y,Y.gzhead.time>>24&255),ct(Y,9===Y.level?2:2<=Y.strategy||Y.level<2?4:0),ct(Y,255&Y.gzhead.os),Y.gzhead.extra&&Y.gzhead.extra.length&&(ct(Y,255&Y.gzhead.extra.length),ct(Y,Y.gzhead.extra.length>>8&255)),Y.gzhead.hcrc&&(E.adler=ee(E.adler,Y.pending_buf,Y.pending,0)),Y.gzindex=0,Y.status=69):(ct(Y,0),ct(Y,0),ct(Y,0),ct(Y,0),ct(Y,0),ct(Y,9===Y.level?2:2<=Y.strategy||Y.level<2?4:0),ct(Y,3),Y.status=ue);else{var Me=Q+(Y.w_bits-8<<4)<<8;Me|=(2<=Y.strategy||Y.level<2?0:Y.level<6?1:6===Y.level?2:3)<<6,0!==Y.strstart&&(Me|=32),Me+=31-Me%31,Y.status=ue,it(Y,Me),0!==Y.strstart&&(it(Y,E.adler>>>16),it(Y,65535&E.adler)),E.adler=1}if(69===Y.status)if(Y.gzhead.extra){for(M=Y.pending;Y.gzindex<(65535&Y.gzhead.extra.length)&&(Y.pending!==Y.pending_buf_size||(Y.gzhead.hcrc&&Y.pending>M&&(E.adler=ee(E.adler,Y.pending_buf,Y.pending-M,M)),ve(E),M=Y.pending,Y.pending!==Y.pending_buf_size));)ct(Y,255&Y.gzhead.extra[Y.gzindex]),Y.gzindex++;Y.gzhead.hcrc&&Y.pending>M&&(E.adler=ee(E.adler,Y.pending_buf,Y.pending-M,M)),Y.gzindex===Y.gzhead.extra.length&&(Y.gzindex=0,Y.status=73)}else Y.status=73;if(73===Y.status)if(Y.gzhead.name){M=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>M&&(E.adler=ee(E.adler,Y.pending_buf,Y.pending-M,M)),ve(E),M=Y.pending,Y.pending===Y.pending_buf_size)){se=1;break}se=Y.gzindex<Y.gzhead.name.length?255&Y.gzhead.name.charCodeAt(Y.gzindex++):0,ct(Y,se)}while(0!==se);Y.gzhead.hcrc&&Y.pending>M&&(E.adler=ee(E.adler,Y.pending_buf,Y.pending-M,M)),0===se&&(Y.gzindex=0,Y.status=91)}else Y.status=91;if(91===Y.status)if(Y.gzhead.comment){M=Y.pending;do{if(Y.pending===Y.pending_buf_size&&(Y.gzhead.hcrc&&Y.pending>M&&(E.adler=ee(E.adler,Y.pending_buf,Y.pending-M,M)),ve(E),M=Y.pending,Y.pending===Y.pending_buf_size)){se=1;break}se=Y.gzindex<Y.gzhead.comment.length?255&Y.gzhead.comment.charCodeAt(Y.gzindex++):0,ct(Y,se)}while(0!==se);Y.gzhead.hcrc&&Y.pending>M&&(E.adler=ee(E.adler,Y.pending_buf,Y.pending-M,M)),0===se&&(Y.status=103)}else Y.status=103;if(103===Y.status&&(Y.gzhead.hcrc?(Y.pending+2>Y.pending_buf_size&&ve(E),Y.pending+2<=Y.pending_buf_size&&(ct(Y,255&E.adler),ct(Y,E.adler>>8&255),E.adler=0,Y.status=ue)):Y.status=ue),0!==Y.pending){if(ve(E),0===E.avail_out)return Y.last_flush=-1,x}else if(0===E.avail_in&&ce(ke)<=ce(we)&&4!==ke)return Oe(E,-5);if(666===Y.status&&0!==E.avail_in)return Oe(E,-5);if(0!==E.avail_in||0!==Y.lookahead||ke!==re&&666!==Y.status){var Ue=2===Y.strategy?function(ye,Ve){for(var ne;;){if(0===ye.lookahead&&(Vt(ye),0===ye.lookahead)){if(Ve===re)return 1;break}if(ye.match_length=0,ne=O._tr_tally(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++,ne&&(_e(ye,!1),0===ye.strm.avail_out))return 1}return ye.insert=0,4===Ve?(_e(ye,!0),0===ye.strm.avail_out?3:4):ye.last_lit&&(_e(ye,!1),0===ye.strm.avail_out)?1:2}(Y,ke):3===Y.strategy?function(ye,Ve){for(var ne,pe,he,dt,It=ye.window;;){if(ye.lookahead<=Fe){if(Vt(ye),ye.lookahead<=Fe&&Ve===re)return 1;if(0===ye.lookahead)break}if(ye.match_length=0,ye.lookahead>=ge&&0<ye.strstart&&(pe=It[he=ye.strstart-1])===It[++he]&&pe===It[++he]&&pe===It[++he]){dt=ye.strstart+Fe;do{}while(pe===It[++he]&&pe===It[++he]&&pe===It[++he]&&pe===It[++he]&&pe===It[++he]&&pe===It[++he]&&pe===It[++he]&&pe===It[++he]&&he<dt);ye.match_length=Fe-(dt-he),ye.match_length>ye.lookahead&&(ye.match_length=ye.lookahead)}if(ye.match_length>=ge?(ne=O._tr_tally(ye,1,ye.match_length-ge),ye.lookahead-=ye.match_length,ye.strstart+=ye.match_length,ye.match_length=0):(ne=O._tr_tally(ye,0,ye.window[ye.strstart]),ye.lookahead--,ye.strstart++),ne&&(_e(ye,!1),0===ye.strm.avail_out))return 1}return ye.insert=0,4===Ve?(_e(ye,!0),0===ye.strm.avail_out?3:4):ye.last_lit&&(_e(ye,!1),0===ye.strm.avail_out)?1:2}(Y,ke):K[Y.level].func(Y,ke);if(3!==Ue&&4!==Ue||(Y.status=666),1===Ue||3===Ue)return 0===E.avail_out&&(Y.last_flush=-1),x;if(2===Ue&&(1===ke?O._tr_align(Y):5!==ke&&(O._tr_stored_block(Y,0,0,!1),3===ke&&(Ie(Y.head),0===Y.lookahead&&(Y.strstart=0,Y.block_start=0,Y.insert=0))),ve(E),0===E.avail_out))return Y.last_flush=-1,x}return 4!==ke?x:Y.wrap<=0?1:(2===Y.wrap?(ct(Y,255&E.adler),ct(Y,E.adler>>8&255),ct(Y,E.adler>>16&255),ct(Y,E.adler>>24&255),ct(Y,255&E.total_in),ct(Y,E.total_in>>8&255),ct(Y,E.total_in>>16&255),ct(Y,E.total_in>>24&255)):(it(Y,E.adler>>>16),it(Y,65535&E.adler)),ve(E),0<Y.wrap&&(Y.wrap=-Y.wrap),0!==Y.pending?x:1)},V.deflateEnd=function(E){var ke;return E&&E.state?(ke=E.state.status)!==G&&69!==ke&&73!==ke&&91!==ke&&103!==ke&&ke!==ue&&666!==ke?Oe(E,j):(E.state=null,ke===ue?Oe(E,-3):x):j},V.deflateSetDictionary=function(E,ke){var we,Y,M,se,Me,Ue,ye,Ve,ne=ke.length;if(!E||!E.state||2===(se=(we=E.state).wrap)||1===se&&we.status!==G||we.lookahead)return j;for(1===se&&(E.adler=N(E.adler,ke,ne,0)),we.wrap=0,ne>=we.w_size&&(0===se&&(Ie(we.head),we.strstart=0,we.block_start=0,we.insert=0),Ve=new W.Buf8(we.w_size),W.arraySet(Ve,ke,ne-we.w_size,we.w_size,0),ke=Ve,ne=we.w_size),Me=E.avail_in,Ue=E.next_in,ye=E.input,E.avail_in=ne,E.next_in=0,E.input=ke,Vt(we);we.lookahead>=ge;){for(Y=we.strstart,M=we.lookahead-(ge-1);we.ins_h=(we.ins_h<<we.hash_shift^we.window[Y+ge-1])&we.hash_mask,we.prev[Y&we.w_mask]=we.head[we.ins_h],we.head[we.ins_h]=Y,Y++,--M;);we.strstart=Y,we.lookahead=ge-1,Vt(we)}return we.strstart+=we.lookahead,we.block_start=we.strstart,we.insert=we.lookahead,we.lookahead=0,we.match_length=we.prev_length=ge-1,we.match_available=0,E.next_in=Ue,E.input=ye,E.avail_in=Me,we.wrap=se,x},V.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(ie,Le,V){"use strict";Le.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(ie,Le,V){"use strict";Le.exports=function(K,W){var O,N,ee,te,re,J,x,j,k,$,B,Q,P,z,L,ae,fe,Ee,ge,Fe,Ke,G,ue,D,H;D=K.input,ee=(N=K.next_in)+(K.avail_in-5),H=K.output,re=(te=K.next_out)-(W-K.avail_out),J=te+(K.avail_out-257),x=(O=K.state).dmax,j=O.wsize,k=O.whave,$=O.wnext,B=O.window,Q=O.hold,P=O.bits,z=O.lencode,L=O.distcode,ae=(1<<O.lenbits)-1,fe=(1<<O.distbits)-1;e:do{P<15&&(Q+=D[N++]<<P,Q+=D[N++]<<(P+=8),P+=8),Ee=z[Q&ae];t:for(;;){if(Q>>>=ge=Ee>>>24,P-=ge,0==(ge=Ee>>>16&255))H[te++]=65535&Ee;else{if(!(16&ge)){if(!(64&ge)){Ee=z[(65535&Ee)+(Q&(1<<ge)-1)];continue t}if(32&ge){O.mode=12;break e}K.msg="invalid literal/length code",O.mode=30;break e}Fe=65535&Ee,(ge&=15)&&(P<ge&&(Q+=D[N++]<<P,P+=8),Fe+=Q&(1<<ge)-1,Q>>>=ge,P-=ge),P<15&&(Q+=D[N++]<<P,Q+=D[N++]<<(P+=8),P+=8),Ee=L[Q&fe];n:for(;;){if(Q>>>=ge=Ee>>>24,P-=ge,!(16&(ge=Ee>>>16&255))){if(!(64&ge)){Ee=L[(65535&Ee)+(Q&(1<<ge)-1)];continue n}K.msg="invalid distance code",O.mode=30;break e}if(Ke=65535&Ee,P<(ge&=15)&&(Q+=D[N++]<<P,(P+=8)<ge&&(Q+=D[N++]<<P,P+=8)),x<(Ke+=Q&(1<<ge)-1)){K.msg="invalid distance too far back",O.mode=30;break e}if(Q>>>=ge,P-=ge,(ge=te-re)<Ke){if(k<(ge=Ke-ge)&&O.sane){K.msg="invalid distance too far back",O.mode=30;break e}if(ue=B,(G=0)===$){if(G+=j-ge,ge<Fe){for(Fe-=ge;H[te++]=B[G++],--ge;);G=te-Ke,ue=H}}else if($<ge){if(G+=j+$-ge,(ge-=$)<Fe){for(Fe-=ge;H[te++]=B[G++],--ge;);if(G=0,$<Fe){for(Fe-=ge=$;H[te++]=B[G++],--ge;);G=te-Ke,ue=H}}}else if(G+=$-ge,ge<Fe){for(Fe-=ge;H[te++]=B[G++],--ge;);G=te-Ke,ue=H}for(;2<Fe;)H[te++]=ue[G++],H[te++]=ue[G++],H[te++]=ue[G++],Fe-=3;Fe&&(H[te++]=ue[G++],1<Fe&&(H[te++]=ue[G++]))}else{for(G=te-Ke;H[te++]=H[G++],H[te++]=H[G++],H[te++]=H[G++],2<(Fe-=3););Fe&&(H[te++]=H[G++],1<Fe&&(H[te++]=H[G++]))}break}}break}}while(N<ee&&te<J);N-=Fe=P>>3,Q&=(1<<(P-=Fe<<3))-1,K.next_in=N,K.next_out=te,K.avail_in=N<ee?ee-N+5:5-(N-ee),K.avail_out=te<J?J-te+257:257-(te-J),O.hold=Q,O.bits=P}},{}],49:[function(ie,Le,V){"use strict";var K=ie("../utils/common"),W=ie("./adler32"),O=ie("./crc32"),N=ie("./inffast"),ee=ie("./inftrees"),J=0,x=-2,j=1,k=852,$=592;function B(G){return(G>>>24&255)+(G>>>8&65280)+((65280&G)<<8)+((255&G)<<24)}function Q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new K.Buf16(320),this.work=new K.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function P(G){var ue;return G&&G.state?(G.total_in=G.total_out=(ue=G.state).total=0,G.msg="",ue.wrap&&(G.adler=1&ue.wrap),ue.mode=j,ue.last=0,ue.havedict=0,ue.dmax=32768,ue.head=null,ue.hold=0,ue.bits=0,ue.lencode=ue.lendyn=new K.Buf32(k),ue.distcode=ue.distdyn=new K.Buf32($),ue.sane=1,ue.back=-1,J):x}function z(G){var ue;return G&&G.state?((ue=G.state).wsize=0,ue.whave=0,ue.wnext=0,P(G)):x}function L(G,ue){var D,H;return G&&G.state?(H=G.state,ue<0?(D=0,ue=-ue):(D=1+(ue>>4),ue<48&&(ue&=15)),ue&&(ue<8||15<ue)?x:(null!==H.window&&H.wbits!==ue&&(H.window=null),H.wrap=D,H.wbits=ue,z(G))):x}function ae(G,ue){var D,H;return G?(H=new Q,(G.state=H).window=null,(D=L(G,ue))!==J&&(G.state=null),D):x}var fe,Ee,ge=!0;function Fe(G){if(ge){var ue;for(fe=new K.Buf32(512),Ee=new K.Buf32(32),ue=0;ue<144;)G.lens[ue++]=8;for(;ue<256;)G.lens[ue++]=9;for(;ue<280;)G.lens[ue++]=7;for(;ue<288;)G.lens[ue++]=8;for(ee(1,G.lens,0,288,fe,0,G.work,{bits:9}),ue=0;ue<32;)G.lens[ue++]=5;ee(2,G.lens,0,32,Ee,0,G.work,{bits:5}),ge=!1}G.lencode=fe,G.lenbits=9,G.distcode=Ee,G.distbits=5}function Ke(G,ue,D,H){var Be,T=G.state;return null===T.window&&(T.wsize=1<<T.wbits,T.wnext=0,T.whave=0,T.window=new K.Buf8(T.wsize)),H>=T.wsize?(K.arraySet(T.window,ue,D-T.wsize,T.wsize,0),T.wnext=0,T.whave=T.wsize):(H<(Be=T.wsize-T.wnext)&&(Be=H),K.arraySet(T.window,ue,D-H,Be,T.wnext),(H-=Be)?(K.arraySet(T.window,ue,D-H,H,0),T.wnext=H,T.whave=T.wsize):(T.wnext+=Be,T.wnext===T.wsize&&(T.wnext=0),T.whave<T.wsize&&(T.whave+=Be))),0}V.inflateReset=z,V.inflateReset2=L,V.inflateResetKeep=P,V.inflateInit=function(G){return ae(G,15)},V.inflateInit2=ae,V.inflate=function(G,ue){var D,H,Be,T,Oe,ce,Ie,ve,_e,ct,it,Ne,Vt,St,He,xe,mt,Xe,ft,pt,E,ke,we,Y,M=0,se=new K.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!G||!G.state||!G.output||!G.input&&0!==G.avail_in)return x;12===(D=G.state).mode&&(D.mode=13),Oe=G.next_out,Be=G.output,T=G.next_in,H=G.input,ve=D.hold,_e=D.bits,ct=ce=G.avail_in,it=Ie=G.avail_out,ke=J;e:for(;;)switch(D.mode){case j:if(0===D.wrap){D.mode=13;break}for(;_e<16;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}if(2&D.wrap&&35615===ve){se[D.check=0]=255&ve,se[1]=ve>>>8&255,D.check=O(D.check,se,2,0),_e=ve=0,D.mode=2;break}if(D.flags=0,D.head&&(D.head.done=!1),!(1&D.wrap)||(((255&ve)<<8)+(ve>>8))%31){G.msg="incorrect header check",D.mode=30;break}if(8!=(15&ve)){G.msg="unknown compression method",D.mode=30;break}if(_e-=4,E=8+(15&(ve>>>=4)),0===D.wbits)D.wbits=E;else if(E>D.wbits){G.msg="invalid window size",D.mode=30;break}D.dmax=1<<E,G.adler=D.check=1,D.mode=512&ve?10:12,_e=ve=0;break;case 2:for(;_e<16;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}if(D.flags=ve,8!=(255&D.flags)){G.msg="unknown compression method",D.mode=30;break}if(57344&D.flags){G.msg="unknown header flags set",D.mode=30;break}D.head&&(D.head.text=ve>>8&1),512&D.flags&&(se[0]=255&ve,se[1]=ve>>>8&255,D.check=O(D.check,se,2,0)),_e=ve=0,D.mode=3;case 3:for(;_e<32;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}D.head&&(D.head.time=ve),512&D.flags&&(se[0]=255&ve,se[1]=ve>>>8&255,se[2]=ve>>>16&255,se[3]=ve>>>24&255,D.check=O(D.check,se,4,0)),_e=ve=0,D.mode=4;case 4:for(;_e<16;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}D.head&&(D.head.xflags=255&ve,D.head.os=ve>>8),512&D.flags&&(se[0]=255&ve,se[1]=ve>>>8&255,D.check=O(D.check,se,2,0)),_e=ve=0,D.mode=5;case 5:if(1024&D.flags){for(;_e<16;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}D.length=ve,D.head&&(D.head.extra_len=ve),512&D.flags&&(se[0]=255&ve,se[1]=ve>>>8&255,D.check=O(D.check,se,2,0)),_e=ve=0}else D.head&&(D.head.extra=null);D.mode=6;case 6:if(1024&D.flags&&(ce<(Ne=D.length)&&(Ne=ce),Ne&&(D.head&&(E=D.head.extra_len-D.length,D.head.extra||(D.head.extra=new Array(D.head.extra_len)),K.arraySet(D.head.extra,H,T,Ne,E)),512&D.flags&&(D.check=O(D.check,H,Ne,T)),ce-=Ne,T+=Ne,D.length-=Ne),D.length))break e;D.length=0,D.mode=7;case 7:if(2048&D.flags){if(0===ce)break e;for(Ne=0;E=H[T+Ne++],D.head&&E&&D.length<65536&&(D.head.name+=String.fromCharCode(E)),E&&Ne<ce;);if(512&D.flags&&(D.check=O(D.check,H,Ne,T)),ce-=Ne,T+=Ne,E)break e}else D.head&&(D.head.name=null);D.length=0,D.mode=8;case 8:if(4096&D.flags){if(0===ce)break e;for(Ne=0;E=H[T+Ne++],D.head&&E&&D.length<65536&&(D.head.comment+=String.fromCharCode(E)),E&&Ne<ce;);if(512&D.flags&&(D.check=O(D.check,H,Ne,T)),ce-=Ne,T+=Ne,E)break e}else D.head&&(D.head.comment=null);D.mode=9;case 9:if(512&D.flags){for(;_e<16;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}if(ve!==(65535&D.check)){G.msg="header crc mismatch",D.mode=30;break}_e=ve=0}D.head&&(D.head.hcrc=D.flags>>9&1,D.head.done=!0),G.adler=D.check=0,D.mode=12;break;case 10:for(;_e<32;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}G.adler=D.check=B(ve),_e=ve=0,D.mode=11;case 11:if(0===D.havedict)return G.next_out=Oe,G.avail_out=Ie,G.next_in=T,G.avail_in=ce,D.hold=ve,D.bits=_e,2;G.adler=D.check=1,D.mode=12;case 12:if(5===ue||6===ue)break e;case 13:if(D.last){ve>>>=7&_e,_e-=7&_e,D.mode=27;break}for(;_e<3;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}switch(D.last=1&ve,_e-=1,3&(ve>>>=1)){case 0:D.mode=14;break;case 1:if(Fe(D),D.mode=20,6!==ue)break;ve>>>=2,_e-=2;break e;case 2:D.mode=17;break;case 3:G.msg="invalid block type",D.mode=30}ve>>>=2,_e-=2;break;case 14:for(ve>>>=7&_e,_e-=7&_e;_e<32;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}if((65535&ve)!=(ve>>>16^65535)){G.msg="invalid stored block lengths",D.mode=30;break}if(D.length=65535&ve,_e=ve=0,D.mode=15,6===ue)break e;case 15:D.mode=16;case 16:if(Ne=D.length){if(ce<Ne&&(Ne=ce),Ie<Ne&&(Ne=Ie),0===Ne)break e;K.arraySet(Be,H,T,Ne,Oe),ce-=Ne,T+=Ne,Ie-=Ne,Oe+=Ne,D.length-=Ne;break}D.mode=12;break;case 17:for(;_e<14;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}if(D.nlen=257+(31&ve),_e-=5,D.ndist=1+(31&(ve>>>=5)),_e-=5,D.ncode=4+(15&(ve>>>=5)),ve>>>=4,_e-=4,286<D.nlen||30<D.ndist){G.msg="too many length or distance symbols",D.mode=30;break}D.have=0,D.mode=18;case 18:for(;D.have<D.ncode;){for(;_e<3;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}D.lens[Me[D.have++]]=7&ve,ve>>>=3,_e-=3}for(;D.have<19;)D.lens[Me[D.have++]]=0;if(D.lencode=D.lendyn,D.lenbits=7,ke=ee(0,D.lens,0,19,D.lencode,0,D.work,we={bits:D.lenbits}),D.lenbits=we.bits,ke){G.msg="invalid code lengths set",D.mode=30;break}D.have=0,D.mode=19;case 19:for(;D.have<D.nlen+D.ndist;){for(;xe=(M=D.lencode[ve&(1<<D.lenbits)-1])>>>16&255,mt=65535&M,!((He=M>>>24)<=_e);){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}if(mt<16)ve>>>=He,_e-=He,D.lens[D.have++]=mt;else{if(16===mt){for(Y=He+2;_e<Y;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}if(ve>>>=He,_e-=He,0===D.have){G.msg="invalid bit length repeat",D.mode=30;break}E=D.lens[D.have-1],Ne=3+(3&ve),ve>>>=2,_e-=2}else if(17===mt){for(Y=He+3;_e<Y;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}_e-=He,E=0,Ne=3+(7&(ve>>>=He)),ve>>>=3,_e-=3}else{for(Y=He+7;_e<Y;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}_e-=He,E=0,Ne=11+(127&(ve>>>=He)),ve>>>=7,_e-=7}if(D.have+Ne>D.nlen+D.ndist){G.msg="invalid bit length repeat",D.mode=30;break}for(;Ne--;)D.lens[D.have++]=E}}if(30===D.mode)break;if(0===D.lens[256]){G.msg="invalid code -- missing end-of-block",D.mode=30;break}if(D.lenbits=9,ke=ee(1,D.lens,0,D.nlen,D.lencode,0,D.work,we={bits:D.lenbits}),D.lenbits=we.bits,ke){G.msg="invalid literal/lengths set",D.mode=30;break}if(D.distbits=6,D.distcode=D.distdyn,ke=ee(2,D.lens,D.nlen,D.ndist,D.distcode,0,D.work,we={bits:D.distbits}),D.distbits=we.bits,ke){G.msg="invalid distances set",D.mode=30;break}if(D.mode=20,6===ue)break e;case 20:D.mode=21;case 21:if(6<=ce&&258<=Ie){G.next_out=Oe,G.avail_out=Ie,G.next_in=T,G.avail_in=ce,D.hold=ve,D.bits=_e,N(G,it),Oe=G.next_out,Be=G.output,Ie=G.avail_out,T=G.next_in,H=G.input,ce=G.avail_in,ve=D.hold,_e=D.bits,12===D.mode&&(D.back=-1);break}for(D.back=0;xe=(M=D.lencode[ve&(1<<D.lenbits)-1])>>>16&255,mt=65535&M,!((He=M>>>24)<=_e);){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}if(xe&&!(240&xe)){for(Xe=He,ft=xe,pt=mt;xe=(M=D.lencode[pt+((ve&(1<<Xe+ft)-1)>>Xe)])>>>16&255,mt=65535&M,!(Xe+(He=M>>>24)<=_e);){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}ve>>>=Xe,_e-=Xe,D.back+=Xe}if(ve>>>=He,_e-=He,D.back+=He,D.length=mt,0===xe){D.mode=26;break}if(32&xe){D.back=-1,D.mode=12;break}if(64&xe){G.msg="invalid literal/length code",D.mode=30;break}D.extra=15&xe,D.mode=22;case 22:if(D.extra){for(Y=D.extra;_e<Y;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}D.length+=ve&(1<<D.extra)-1,ve>>>=D.extra,_e-=D.extra,D.back+=D.extra}D.was=D.length,D.mode=23;case 23:for(;xe=(M=D.distcode[ve&(1<<D.distbits)-1])>>>16&255,mt=65535&M,!((He=M>>>24)<=_e);){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}if(!(240&xe)){for(Xe=He,ft=xe,pt=mt;xe=(M=D.distcode[pt+((ve&(1<<Xe+ft)-1)>>Xe)])>>>16&255,mt=65535&M,!(Xe+(He=M>>>24)<=_e);){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}ve>>>=Xe,_e-=Xe,D.back+=Xe}if(ve>>>=He,_e-=He,D.back+=He,64&xe){G.msg="invalid distance code",D.mode=30;break}D.offset=mt,D.extra=15&xe,D.mode=24;case 24:if(D.extra){for(Y=D.extra;_e<Y;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}D.offset+=ve&(1<<D.extra)-1,ve>>>=D.extra,_e-=D.extra,D.back+=D.extra}if(D.offset>D.dmax){G.msg="invalid distance too far back",D.mode=30;break}D.mode=25;case 25:if(0===Ie)break e;if(D.offset>(Ne=it-Ie)){if((Ne=D.offset-Ne)>D.whave&&D.sane){G.msg="invalid distance too far back",D.mode=30;break}Vt=Ne>D.wnext?D.wsize-(Ne-=D.wnext):D.wnext-Ne,Ne>D.length&&(Ne=D.length),St=D.window}else St=Be,Vt=Oe-D.offset,Ne=D.length;for(Ie<Ne&&(Ne=Ie),Ie-=Ne,D.length-=Ne;Be[Oe++]=St[Vt++],--Ne;);0===D.length&&(D.mode=21);break;case 26:if(0===Ie)break e;Be[Oe++]=D.length,Ie--,D.mode=21;break;case 27:if(D.wrap){for(;_e<32;){if(0===ce)break e;ce--,ve|=H[T++]<<_e,_e+=8}if(G.total_out+=it-=Ie,D.total+=it,it&&(G.adler=D.check=D.flags?O(D.check,Be,it,Oe-it):W(D.check,Be,it,Oe-it)),it=Ie,(D.flags?ve:B(ve))!==D.check){G.msg="incorrect data check",D.mode=30;break}_e=ve=0}D.mode=28;case 28:if(D.wrap&&D.flags){for(;_e<32;){if(0===ce)break e;ce--,ve+=H[T++]<<_e,_e+=8}if(ve!==(4294967295&D.total)){G.msg="incorrect length check",D.mode=30;break}_e=ve=0}D.mode=29;case 29:ke=1;break e;case 30:ke=-3;break e;case 31:return-4;default:return x}return G.next_out=Oe,G.avail_out=Ie,G.next_in=T,G.avail_in=ce,D.hold=ve,D.bits=_e,(D.wsize||it!==G.avail_out&&D.mode<30&&(D.mode<27||4!==ue))&&Ke(G,G.output,G.next_out,it-G.avail_out)?(D.mode=31,-4):(it-=G.avail_out,G.total_in+=ct-=G.avail_in,G.total_out+=it,D.total+=it,D.wrap&&it&&(G.adler=D.check=D.flags?O(D.check,Be,it,G.next_out-it):W(D.check,Be,it,G.next_out-it)),G.data_type=D.bits+(D.last?64:0)+(12===D.mode?128:0)+(20===D.mode||15===D.mode?256:0),(0==ct&&0===it||4===ue)&&ke===J&&(ke=-5),ke)},V.inflateEnd=function(G){if(!G||!G.state)return x;var ue=G.state;return ue.window&&(ue.window=null),G.state=null,J},V.inflateGetHeader=function(G,ue){var D;return G&&G.state&&2&(D=G.state).wrap?((D.head=ue).done=!1,J):x},V.inflateSetDictionary=function(G,ue){var D,H=ue.length;return G&&G.state?0!==(D=G.state).wrap&&11!==D.mode?x:11===D.mode&&W(1,ue,H,0)!==D.check?-3:Ke(G,ue,H,H)?(D.mode=31,-4):(D.havedict=1,J):x},V.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(ie,Le,V){"use strict";var K=ie("../utils/common"),W=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],O=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],N=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ee=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Le.exports=function(te,re,J,x,j,k,$,B){var Q,P,z,L,ae,fe,Ee,ge,Fe,Ke=B.bits,G=0,ue=0,D=0,H=0,Be=0,T=0,Oe=0,ce=0,Ie=0,ve=0,_e=null,ct=0,it=new K.Buf16(16),Ne=new K.Buf16(16),Vt=null,St=0;for(G=0;G<=15;G++)it[G]=0;for(ue=0;ue<x;ue++)it[re[J+ue]]++;for(Be=Ke,H=15;1<=H&&0===it[H];H--);if(H<Be&&(Be=H),0===H)return j[k++]=20971520,j[k++]=20971520,B.bits=1,0;for(D=1;D<H&&0===it[D];D++);for(Be<D&&(Be=D),G=ce=1;G<=15;G++)if(ce<<=1,(ce-=it[G])<0)return-1;if(0<ce&&(0===te||1!==H))return-1;for(Ne[1]=0,G=1;G<15;G++)Ne[G+1]=Ne[G]+it[G];for(ue=0;ue<x;ue++)0!==re[J+ue]&&($[Ne[re[J+ue]]++]=ue);if(fe=0===te?(_e=Vt=$,19):1===te?(_e=W,ct-=257,Vt=O,St-=257,256):(_e=N,Vt=ee,-1),G=D,ae=k,Oe=ue=ve=0,z=-1,L=(Ie=1<<(T=Be))-1,1===te&&852<Ie||2===te&&592<Ie)return 1;for(;;){for(Ee=G-Oe,Fe=$[ue]<fe?(ge=0,$[ue]):$[ue]>fe?(ge=Vt[St+$[ue]],_e[ct+$[ue]]):(ge=96,0),Q=1<<G-Oe,D=P=1<<T;j[ae+(ve>>Oe)+(P-=Q)]=Ee<<24|ge<<16|Fe|0,0!==P;);for(Q=1<<G-1;ve&Q;)Q>>=1;if(0!==Q?(ve&=Q-1,ve+=Q):ve=0,ue++,0==--it[G]){if(G===H)break;G=re[J+$[ue]]}if(Be<G&&(ve&L)!==z){for(0===Oe&&(Oe=Be),ae+=D,ce=1<<(T=G-Oe);T+Oe<H&&!((ce-=it[T+Oe])<=0);)T++,ce<<=1;if(Ie+=1<<T,1===te&&852<Ie||2===te&&592<Ie)return 1;j[z=ve&L]=Be<<24|T<<16|ae-k|0}}return 0!==ve&&(j[ae+ve]=G-Oe<<24|64<<16|0),B.bits=Be,0}},{"../utils/common":41}],51:[function(ie,Le,V){"use strict";Le.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(ie,Le,V){"use strict";var K=ie("../utils/common");function N(M){for(var se=M.length;0<=--se;)M[se]=0}var J=286,x=30,$=15,B=16,fe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ke=new Array(576);N(Ke);var G=new Array(60);N(G);var ue=new Array(512);N(ue);var D=new Array(256);N(D);var H=new Array(29);N(H);var Be,T,Oe,ce=new Array(x);function Ie(M,se,Me,Ue,ye){this.static_tree=M,this.extra_bits=se,this.extra_base=Me,this.elems=Ue,this.max_length=ye,this.has_stree=M&&M.length}function ve(M,se){this.dyn_tree=M,this.max_code=0,this.stat_desc=se}function _e(M){return M<256?ue[M]:ue[256+(M>>>7)]}function ct(M,se){M.pending_buf[M.pending++]=255&se,M.pending_buf[M.pending++]=se>>>8&255}function it(M,se,Me){M.bi_valid>B-Me?(M.bi_buf|=se<<M.bi_valid&65535,ct(M,M.bi_buf),M.bi_buf=se>>B-M.bi_valid,M.bi_valid+=Me-B):(M.bi_buf|=se<<M.bi_valid&65535,M.bi_valid+=Me)}function Ne(M,se,Me){it(M,Me[2*se],Me[2*se+1])}function Vt(M,se){for(var Me=0;Me|=1&M,M>>>=1,Me<<=1,0<--se;);return Me>>>1}function St(M,se,Me){var Ue,ye,Ve=new Array($+1),ne=0;for(Ue=1;Ue<=$;Ue++)Ve[Ue]=ne=ne+Me[Ue-1]<<1;for(ye=0;ye<=se;ye++){var pe=M[2*ye+1];0!==pe&&(M[2*ye]=Vt(Ve[pe]++,pe))}}function He(M){var se;for(se=0;se<J;se++)M.dyn_ltree[2*se]=0;for(se=0;se<x;se++)M.dyn_dtree[2*se]=0;for(se=0;se<19;se++)M.bl_tree[2*se]=0;M.dyn_ltree[512]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function xe(M){8<M.bi_valid?ct(M,M.bi_buf):0<M.bi_valid&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function mt(M,se,Me,Ue){var ye=2*se,Ve=2*Me;return M[ye]<M[Ve]||M[ye]===M[Ve]&&Ue[se]<=Ue[Me]}function Xe(M,se,Me){for(var Ue=M.heap[Me],ye=Me<<1;ye<=M.heap_len&&(ye<M.heap_len&&mt(se,M.heap[ye+1],M.heap[ye],M.depth)&&ye++,!mt(se,Ue,M.heap[ye],M.depth));)M.heap[Me]=M.heap[ye],Me=ye,ye<<=1;M.heap[Me]=Ue}function ft(M,se,Me){var Ue,ye,Ve,ne,pe=0;if(0!==M.last_lit)for(;Ue=M.pending_buf[M.d_buf+2*pe]<<8|M.pending_buf[M.d_buf+2*pe+1],ye=M.pending_buf[M.l_buf+pe],pe++,0===Ue?Ne(M,ye,se):(Ne(M,(Ve=D[ye])+256+1,se),0!==(ne=fe[Ve])&&it(M,ye-=H[Ve],ne),Ne(M,Ve=_e(--Ue),Me),0!==(ne=Ee[Ve])&&it(M,Ue-=ce[Ve],ne)),pe<M.last_lit;);Ne(M,256,se)}function pt(M,se){var Me,Ue,ye,Ve=se.dyn_tree,ne=se.stat_desc.static_tree,pe=se.stat_desc.has_stree,he=se.stat_desc.elems,dt=-1;for(M.heap_len=0,M.heap_max=573,Me=0;Me<he;Me++)0!==Ve[2*Me]?(M.heap[++M.heap_len]=dt=Me,M.depth[Me]=0):Ve[2*Me+1]=0;for(;M.heap_len<2;)Ve[2*(ye=M.heap[++M.heap_len]=dt<2?++dt:0)]=1,M.depth[ye]=0,M.opt_len--,pe&&(M.static_len-=ne[2*ye+1]);for(se.max_code=dt,Me=M.heap_len>>1;1<=Me;Me--)Xe(M,Ve,Me);for(ye=he;Me=M.heap[1],M.heap[1]=M.heap[M.heap_len--],Xe(M,Ve,1),Ue=M.heap[1],M.heap[--M.heap_max]=Me,M.heap[--M.heap_max]=Ue,Ve[2*ye]=Ve[2*Me]+Ve[2*Ue],M.depth[ye]=(M.depth[Me]>=M.depth[Ue]?M.depth[Me]:M.depth[Ue])+1,Ve[2*Me+1]=Ve[2*Ue+1]=ye,M.heap[1]=ye++,Xe(M,Ve,1),2<=M.heap_len;);M.heap[--M.heap_max]=M.heap[1],function(It,mr){var Ti,_r,Yt,tn,es,or,di=mr.dyn_tree,bt=mr.max_code,ma=mr.stat_desc.static_tree,Lt=mr.stat_desc.has_stree,Pn=mr.stat_desc.extra_bits,xn=mr.stat_desc.extra_base,hi=mr.stat_desc.max_length,ar=0;for(tn=0;tn<=$;tn++)It.bl_count[tn]=0;for(di[2*It.heap[It.heap_max]+1]=0,Ti=It.heap_max+1;Ti<573;Ti++)hi<(tn=di[2*di[2*(_r=It.heap[Ti])+1]+1]+1)&&(tn=hi,ar++),di[2*_r+1]=tn,bt<_r||(It.bl_count[tn]++,es=0,xn<=_r&&(es=Pn[_r-xn]),It.opt_len+=(or=di[2*_r])*(tn+es),Lt&&(It.static_len+=or*(ma[2*_r+1]+es)));if(0!==ar){do{for(tn=hi-1;0===It.bl_count[tn];)tn--;It.bl_count[tn]--,It.bl_count[tn+1]+=2,It.bl_count[hi]--,ar-=2}while(0<ar);for(tn=hi;0!==tn;tn--)for(_r=It.bl_count[tn];0!==_r;)bt<(Yt=It.heap[--Ti])||(di[2*Yt+1]!==tn&&(It.opt_len+=(tn-di[2*Yt+1])*di[2*Yt],di[2*Yt+1]=tn),_r--)}}(M,se),St(Ve,dt,M.bl_count)}function E(M,se,Me){var Ue,ye,Ve=-1,ne=se[1],pe=0,he=7,dt=4;for(0===ne&&(he=138,dt=3),se[2*(Me+1)+1]=65535,Ue=0;Ue<=Me;Ue++)ye=ne,ne=se[2*(Ue+1)+1],++pe<he&&ye===ne||(pe<dt?M.bl_tree[2*ye]+=pe:0!==ye?(ye!==Ve&&M.bl_tree[2*ye]++,M.bl_tree[32]++):pe<=10?M.bl_tree[34]++:M.bl_tree[36]++,Ve=ye,dt=(pe=0)===ne?(he=138,3):ye===ne?(he=6,3):(he=7,4))}function ke(M,se,Me){var Ue,ye,Ve=-1,ne=se[1],pe=0,he=7,dt=4;for(0===ne&&(he=138,dt=3),Ue=0;Ue<=Me;Ue++)if(ye=ne,ne=se[2*(Ue+1)+1],!(++pe<he&&ye===ne)){if(pe<dt)for(;Ne(M,ye,M.bl_tree),0!=--pe;);else 0!==ye?(ye!==Ve&&(Ne(M,ye,M.bl_tree),pe--),Ne(M,16,M.bl_tree),it(M,pe-3,2)):pe<=10?(Ne(M,17,M.bl_tree),it(M,pe-3,3)):(Ne(M,18,M.bl_tree),it(M,pe-11,7));Ve=ye,dt=(pe=0)===ne?(he=138,3):ye===ne?(he=6,3):(he=7,4)}}N(ce);var we=!1;function Y(M,se,Me,Ue){var ye,Ve,ne;it(M,0+(Ue?1:0),3),Ve=se,ne=Me,xe(ye=M),ct(ye,ne),ct(ye,~ne),K.arraySet(ye.pending_buf,ye.window,Ve,ne,ye.pending),ye.pending+=ne}V._tr_init=function(M){we||(function(){var se,Me,Ue,ye,Ve,ne=new Array($+1);for(ye=Ue=0;ye<28;ye++)for(H[ye]=Ue,se=0;se<1<<fe[ye];se++)D[Ue++]=ye;for(D[Ue-1]=ye,ye=Ve=0;ye<16;ye++)for(ce[ye]=Ve,se=0;se<1<<Ee[ye];se++)ue[Ve++]=ye;for(Ve>>=7;ye<x;ye++)for(ce[ye]=Ve<<7,se=0;se<1<<Ee[ye]-7;se++)ue[256+Ve++]=ye;for(Me=0;Me<=$;Me++)ne[Me]=0;for(se=0;se<=143;)Ke[2*se+1]=8,se++,ne[8]++;for(;se<=255;)Ke[2*se+1]=9,se++,ne[9]++;for(;se<=279;)Ke[2*se+1]=7,se++,ne[7]++;for(;se<=287;)Ke[2*se+1]=8,se++,ne[8]++;for(St(Ke,287,ne),se=0;se<x;se++)G[2*se+1]=5,G[2*se]=Vt(se,5);Be=new Ie(Ke,fe,257,J,$),T=new Ie(G,Ee,0,x,$),Oe=new Ie(new Array(0),ge,0,19,7)}(),we=!0),M.l_desc=new ve(M.dyn_ltree,Be),M.d_desc=new ve(M.dyn_dtree,T),M.bl_desc=new ve(M.bl_tree,Oe),M.bi_buf=0,M.bi_valid=0,He(M)},V._tr_stored_block=Y,V._tr_flush_block=function(M,se,Me,Ue){var ye,Ve,ne=0;0<M.level?(2===M.strm.data_type&&(M.strm.data_type=function(pe){var he,dt=4093624447;for(he=0;he<=31;he++,dt>>>=1)if(1&dt&&0!==pe.dyn_ltree[2*he])return 0;if(0!==pe.dyn_ltree[18]||0!==pe.dyn_ltree[20]||0!==pe.dyn_ltree[26])return 1;for(he=32;he<256;he++)if(0!==pe.dyn_ltree[2*he])return 1;return 0}(M)),pt(M,M.l_desc),pt(M,M.d_desc),ne=function(pe){var he;for(E(pe,pe.dyn_ltree,pe.l_desc.max_code),E(pe,pe.dyn_dtree,pe.d_desc.max_code),pt(pe,pe.bl_desc),he=18;3<=he&&0===pe.bl_tree[2*Fe[he]+1];he--);return pe.opt_len+=3*(he+1)+5+5+4,he}(M),(Ve=M.static_len+3+7>>>3)<=(ye=M.opt_len+3+7>>>3)&&(ye=Ve)):ye=Ve=Me+5,Me+4<=ye&&-1!==se?Y(M,se,Me,Ue):4===M.strategy||Ve===ye?(it(M,2+(Ue?1:0),3),ft(M,Ke,G)):(it(M,4+(Ue?1:0),3),function(pe,he,dt,It){var mr;for(it(pe,he-257,5),it(pe,dt-1,5),it(pe,It-4,4),mr=0;mr<It;mr++)it(pe,pe.bl_tree[2*Fe[mr]+1],3);ke(pe,pe.dyn_ltree,he-1),ke(pe,pe.dyn_dtree,dt-1)}(M,M.l_desc.max_code+1,M.d_desc.max_code+1,ne+1),ft(M,M.dyn_ltree,M.dyn_dtree)),He(M),Ue&&xe(M)},V._tr_tally=function(M,se,Me){return M.pending_buf[M.d_buf+2*M.last_lit]=se>>>8&255,M.pending_buf[M.d_buf+2*M.last_lit+1]=255&se,M.pending_buf[M.l_buf+M.last_lit]=255&Me,M.last_lit++,0===se?M.dyn_ltree[2*Me]++:(M.matches++,se--,M.dyn_ltree[2*(D[Me]+256+1)]++,M.dyn_dtree[2*_e(se)]++),M.last_lit===M.lit_bufsize-1},V._tr_align=function(M){var se;it(M,2,3),Ne(M,256,Ke),16===(se=M).bi_valid?(ct(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):8<=se.bi_valid&&(se.pending_buf[se.pending++]=255&se.bi_buf,se.bi_buf>>=8,se.bi_valid-=8)}},{"../utils/common":41}],53:[function(ie,Le,V){"use strict";Le.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(ie,Le,V){(function(K){!function(W,O){"use strict";if(!W.setImmediate){var N,ee,te,re,J=1,x={},j=!1,k=W.document,$=Object.getPrototypeOf&&Object.getPrototypeOf(W);$=$&&$.setTimeout?$:W,N="[object process]"==={}.toString.call(W.process)?function(z){process.nextTick(function(){Q(z)})}:function(){if(W.postMessage&&!W.importScripts){var z=!0,L=W.onmessage;return W.onmessage=function(){z=!1},W.postMessage("","*"),W.onmessage=L,z}}()?(re="setImmediate$"+Math.random()+"$",W.addEventListener?W.addEventListener("message",P,!1):W.attachEvent("onmessage",P),function(z){W.postMessage(re+z,"*")}):W.MessageChannel?((te=new MessageChannel).port1.onmessage=function(z){Q(z.data)},function(z){te.port2.postMessage(z)}):k&&"onreadystatechange"in k.createElement("script")?(ee=k.documentElement,function(z){var L=k.createElement("script");L.onreadystatechange=function(){Q(z),L.onreadystatechange=null,ee.removeChild(L),L=null},ee.appendChild(L)}):function(z){setTimeout(Q,0,z)},$.setImmediate=function(z){"function"!=typeof z&&(z=new Function(""+z));for(var L=new Array(arguments.length-1),ae=0;ae<L.length;ae++)L[ae]=arguments[ae+1];return x[J]={callback:z,args:L},N(J),J++},$.clearImmediate=B}function B(z){delete x[z]}function Q(z){if(j)setTimeout(Q,0,z);else{var L=x[z];if(L){j=!0;try{!function(ae){var fe=ae.callback,Ee=ae.args;switch(Ee.length){case 0:fe();break;case 1:fe(Ee[0]);break;case 2:fe(Ee[0],Ee[1]);break;case 3:fe(Ee[0],Ee[1],Ee[2]);break;default:fe.apply(O,Ee)}}(L)}finally{B(z),j=!1}}}}function P(z){z.source===W&&"string"==typeof z.data&&0===z.data.indexOf(re)&&Q(+z.data.slice(re.length))}}(typeof self>"u"?void 0===K?this:K:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}},Ds=>{Ds(Ds.s=577)}]);